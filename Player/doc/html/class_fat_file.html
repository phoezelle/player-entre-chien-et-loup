<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>vérénaV: Référence de la classe FatFile</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">vérénaV
   &#160;<span id="projectnumber">v2 - est-tu-là</span>
   </div>
   <div id="projectbrief">audio player for urban ballade</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&#160;associées</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Espaces&#160;de&#160;nommage</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li><a href="examples.html"><span>Exemples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Liste&#160;des&#160;classes</span></a></li>
      <li><a href="classes.html"><span>Index&#160;des&#160;classes</span></a></li>
      <li><a href="hierarchy.html"><span>Hiérarchie&#160;des&#160;classes</span></a></li>
      <li><a href="functions.html"><span>Membres&#160;de&#160;classe</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="#pub-static-methods">Fonctions membres publiques statiques</a> &#124;
<a href="#pri-methods">Fonctions membres privées</a> &#124;
<a href="#pri-static-methods">Fonctions membres privées statiques</a> &#124;
<a href="#pri-attribs">Attributs privés</a> &#124;
<a href="#pri-static-attribs">Attributs privés statiques</a> &#124;
<a href="class_fat_file-members.html">Liste de tous les membres</a>  </div>
  <div class="headertitle">
<div class="title">Référence de la classe FatFile</div>  </div>
</div><!--header-->
<div class="contents">

<p>Basic file class.  
 <a href="class_fat_file.html#details">Plus de détails...</a></p>

<p><code>#include &lt;<a class="el" href="_fat_file_8h_source.html">FatFile.h</a>&gt;</code></p>
<div class="dynheader">
Graphe d'héritage de FatFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_fat_file.png" usemap="#FatFile_map" alt=""/>
  <map id="FatFile_map" name="FatFile_map">
<area href="class_fat_stream_base.html" title="Base class for C++ style streams. " alt="FatStreamBase" shape="rect" coords="107,56,204,80"/>
<area href="class_print_file.html" title="FatFile with Print. " alt="PrintFile" shape="rect" coords="321,56,418,80"/>
<area href="class_sd_base_file.html" title="Class for backward compatibility. " alt="SdBaseFile" shape="rect" coords="428,56,525,80"/>
<area href="class_stdio_stream.html" title="StdioStream implements a minimal stdio stream. " alt="StdioStream" shape="rect" coords="535,56,632,80"/>
<area href="classfstream.html" title="file input/output stream. " alt="fstream" shape="rect" coords="0,112,97,136"/>
<area href="classifstream.html" title="file input stream. " alt="ifstream" shape="rect" coords="107,112,204,136"/>
<area href="classofstream.html" title="file output stream. " alt="ofstream" shape="rect" coords="214,112,311,136"/>
<area href="class_sd_file.html" title="Class for backward compatibility. " alt="SdFile" shape="rect" coords="321,112,418,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr class="memitem:a7b591c9b92165fa8e4eae8c30c30e533"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7b591c9b92165fa8e4eae8c30c30e533">FatFile</a> ()</td></tr>
<tr class="separator:a7b591c9b92165fa8e4eae8c30c30e533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d31067d0aa3a9a74b1a660c38775cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a29d31067d0aa3a9a74b1a660c38775cc">FatFile</a> (const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path, uint8_t oflag)</td></tr>
<tr class="separator:a29d31067d0aa3a9a74b1a660c38775cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b81ed9225927b0e3f3e3234a1d2f51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a48b81ed9225927b0e3f3e3234a1d2f51">~FatFile</a> ()</td></tr>
<tr class="separator:a48b81ed9225927b0e3f3e3234a1d2f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49f688a494b351ccbb0102dcfafb925"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ad49f688a494b351ccbb0102dcfafb925">ls</a> (uint8_t flags=0)</td></tr>
<tr class="separator:ad49f688a494b351ccbb0102dcfafb925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1cbc3aeb0f5193b7a26595966da9621"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ad1cbc3aeb0f5193b7a26595966da9621">printName</a> ()</td></tr>
<tr class="separator:ad1cbc3aeb0f5193b7a26595966da9621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8062c0d3a118e8d77d0310418703d5f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a8062c0d3a118e8d77d0310418703d5f5">getWriteError</a> ()</td></tr>
<tr class="separator:a8062c0d3a118e8d77d0310418703d5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca2a2eff91e6aa55fe1b0e3860c9a05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aeca2a2eff91e6aa55fe1b0e3860c9a05">clearWriteError</a> ()</td></tr>
<tr class="separator:aeca2a2eff91e6aa55fe1b0e3860c9a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052e2c15a39b322a5307b693b8835b22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a052e2c15a39b322a5307b693b8835b22">clearError</a> ()</td></tr>
<tr class="separator:a052e2c15a39b322a5307b693b8835b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0dbbd083180f44c7a3ce7124d4ce19c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a> ()</td></tr>
<tr class="separator:ad0dbbd083180f44c7a3ce7124d4ce19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4f9886887947815a61eaf015996932"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aaa4f9886887947815a61eaf015996932">getpos</a> (<a class="el" href="struct_fat_pos__t.html">FatPos_t</a> *pos)</td></tr>
<tr class="separator:aaa4f9886887947815a61eaf015996932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf264de4e3ca36c5e8a39e56173c9044"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#acf264de4e3ca36c5e8a39e56173c9044">setpos</a> (<a class="el" href="struct_fat_pos__t.html">FatPos_t</a> *pos)</td></tr>
<tr class="separator:acf264de4e3ca36c5e8a39e56173c9044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fa779d98db7ffdb96f8019ab0060d6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ac1fa779d98db7ffdb96f8019ab0060d6">available</a> ()</td></tr>
<tr class="separator:ac1fa779d98db7ffdb96f8019ab0060d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd16af325e0642e4bff6430b7d8bb18b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a> ()</td></tr>
<tr class="separator:afd16af325e0642e4bff6430b7d8bb18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa367708bcc8bc0e0c45c0c2a812c65da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa367708bcc8bc0e0c45c0c2a812c65da">contiguousRange</a> (uint32_t *bgnBlock, uint32_t *endBlock)</td></tr>
<tr class="separator:aa367708bcc8bc0e0c45c0c2a812c65da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afc2a1cffa238d1cb2049bfa2d8d199"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a0afc2a1cffa238d1cb2049bfa2d8d199">createContiguous</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path, uint32_t size)</td></tr>
<tr class="separator:a0afc2a1cffa238d1cb2049bfa2d8d199"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c03e2f6729526786e6ab4a623e0339b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a4c03e2f6729526786e6ab4a623e0339b">curCluster</a> () const </td></tr>
<tr class="separator:a4c03e2f6729526786e6ab4a623e0339b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20c55b134bfd1d287a00bf64eba9332e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">curPosition</a> () const </td></tr>
<tr class="separator:a20c55b134bfd1d287a00bf64eba9332e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6858d18c807411a071fd6d1b39d50087"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">dirEntry</a> (<a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *dir)</td></tr>
<tr class="separator:a6858d18c807411a071fd6d1b39d50087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ec24d4a94d3780384d3f2b731c7eb9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ae5ec24d4a94d3780384d3f2b731c7eb9">dirIndex</a> ()</td></tr>
<tr class="separator:ae5ec24d4a94d3780384d3f2b731c7eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ed15f05c9ccbce355e7a8d3ce8382d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ae2ed15f05c9ccbce355e7a8d3ce8382d">dirSize</a> ()</td></tr>
<tr class="separator:ae2ed15f05c9ccbce355e7a8d3ce8382d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f01d27954ae49aeb6888ac7302f55d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a4f01d27954ae49aeb6888ac7302f55d9">dmpFile</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr, uint32_t pos, size_t n)</td></tr>
<tr class="separator:a4f01d27954ae49aeb6888ac7302f55d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50242f98dea0d4488ce4039a279f2a57"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a50242f98dea0d4488ce4039a279f2a57">exists</a> (const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path)</td></tr>
<tr class="separator:a50242f98dea0d4488ce4039a279f2a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ef26b3ee37cf5f5f4c6024c0ddab69"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a31ef26b3ee37cf5f5f4c6024c0ddab69">fgets</a> (<a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *str, int16_t num, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *delim=0)</td></tr>
<tr class="separator:a31ef26b3ee37cf5f5f4c6024c0ddab69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fc3b3ca36b4745f695f3de8c8ec36d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a02fc3b3ca36b4745f695f3de8c8ec36d">fileSize</a> () const </td></tr>
<tr class="separator:a02fc3b3ca36b4745f695f3de8c8ec36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1057bc23b92a074539f661e896e79a09"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a1057bc23b92a074539f661e896e79a09">firstCluster</a> () const </td></tr>
<tr class="separator:a1057bc23b92a074539f661e896e79a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa565e286440aab612cdb430fc01da5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aafa565e286440aab612cdb430fc01da5">getName</a> (<a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *<a class="el" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>, size_t size)</td></tr>
<tr class="separator:aafa565e286440aab612cdb430fc01da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba30e92a66f8e0d2f815c85662772a58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aba30e92a66f8e0d2f815c85662772a58">getSFN</a> (<a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *<a class="el" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>)</td></tr>
<tr class="separator:aba30e92a66f8e0d2f815c85662772a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef41d65e0f1ce753d18cc9ed691f7de4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a> () const </td></tr>
<tr class="separator:aef41d65e0f1ce753d18cc9ed691f7de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf6270ea8d4a3a5f8e89523bc684e22"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a> () const </td></tr>
<tr class="separator:afcf6270ea8d4a3a5f8e89523bc684e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eefe7408f34b6326f0c6e78af7eb05f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7eefe7408f34b6326f0c6e78af7eb05f">isHidden</a> () const </td></tr>
<tr class="separator:a7eefe7408f34b6326f0c6e78af7eb05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed36d17f8fde597b6ed9446faec1f7e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">isLFN</a> () const </td></tr>
<tr class="separator:aed36d17f8fde597b6ed9446faec1f7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8a07b081f04aa25839c6f56c739bdc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a> () const </td></tr>
<tr class="separator:a4c8a07b081f04aa25839c6f56c739bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a206803a4bf8243be20244c1aef4d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa4a206803a4bf8243be20244c1aef4d2">isRoot</a> () const </td></tr>
<tr class="separator:aa4a206803a4bf8243be20244c1aef4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1449b294e3a838396c62e47674ca8cf0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">isRoot32</a> () const </td></tr>
<tr class="separator:a1449b294e3a838396c62e47674ca8cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8215bd4b21e11ec83fa88ef226ceb06f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a> () const </td></tr>
<tr class="separator:a8215bd4b21e11ec83fa88ef226ceb06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6872d3acb1e70f81c9c2be2495977583"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a6872d3acb1e70f81c9c2be2495977583">isReadOnly</a> () const </td></tr>
<tr class="separator:a6872d3acb1e70f81c9c2be2495977583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b503b17442c2b364a2f53de1b2aeba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">isSubDir</a> () const </td></tr>
<tr class="separator:a95b503b17442c2b364a2f53de1b2aeba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add932e13e5bf32ad467af6ec34824e3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#add932e13e5bf32ad467af6ec34824e3c">isSystem</a> () const </td></tr>
<tr class="separator:add932e13e5bf32ad467af6ec34824e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acabf31ff85e696fbf384c49428012fea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#acabf31ff85e696fbf384c49428012fea">ls</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr, uint8_t flags=0, uint8_t indent=0)</td></tr>
<tr class="separator:acabf31ff85e696fbf384c49428012fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab5b9f72cc796388dd4eed01d13d90d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">mkdir</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dir, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path, bool pFlag=true)</td></tr>
<tr class="separator:abab5b9f72cc796388dd4eed01d13d90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f64576d3d19177ab3cf3812b69abdfa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a> (<a class="el" href="class_fat_file_system.html">FatFileSystem</a> *fs, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path, uint8_t oflag)</td></tr>
<tr class="separator:a5f64576d3d19177ab3cf3812b69abdfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3fa9daaccb4e4179fb88a8ca037aa80"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ad3fa9daaccb4e4179fb88a8ca037aa80">open</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, uint16_t index, uint8_t oflag)</td></tr>
<tr class="separator:ad3fa9daaccb4e4179fb88a8ca037aa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211be757679b18708f6b6a36464e4f61"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a211be757679b18708f6b6a36464e4f61">open</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path, uint8_t oflag)</td></tr>
<tr class="separator:a211be757679b18708f6b6a36464e4f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e7075062c89f356441f80fc64d03e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ab0e7075062c89f356441f80fc64d03e6">open</a> (const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path, uint8_t oflag=<a class="el" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)</td></tr>
<tr class="separator:ab0e7075062c89f356441f80fc64d03e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8034c4649eb0d26715b1a8a69e73d9d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a8034c4649eb0d26715b1a8a69e73d9d0">openNext</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, uint8_t oflag=<a class="el" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)</td></tr>
<tr class="separator:a8034c4649eb0d26715b1a8a69e73d9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0c0548fed3a69e7284b91b694439d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a> (<a class="el" href="class_fat_volume.html">FatVolume</a> *vol)</td></tr>
<tr class="separator:a7e0c0548fed3a69e7284b91b694439d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05b7136b887539426856c623869aa3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ac05b7136b887539426856c623869aa3a">peek</a> ()</td></tr>
<tr class="separator:ac05b7136b887539426856c623869aa3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558530f20314a8d8ee3d1a488fc7f46e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a558530f20314a8d8ee3d1a488fc7f46e">printCreateDateTime</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr)</td></tr>
<tr class="separator:a558530f20314a8d8ee3d1a488fc7f46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7478cad0f9e5079311b9e1fa558016ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7478cad0f9e5079311b9e1fa558016ff">printField</a> (float <a class="el" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> term, uint8_t prec=2)</td></tr>
<tr class="separator:a7478cad0f9e5079311b9e1fa558016ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd3e1747511216462b3ef98167156cbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#abd3e1747511216462b3ef98167156cbb">printField</a> (int16_t <a class="el" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> term)</td></tr>
<tr class="separator:abd3e1747511216462b3ef98167156cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9972c2419c293ef9c382bff666b9ae4d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a9972c2419c293ef9c382bff666b9ae4d">printField</a> (uint16_t <a class="el" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> term)</td></tr>
<tr class="separator:a9972c2419c293ef9c382bff666b9ae4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b3b32dd8482429b74c7af3432d6cf8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a41b3b32dd8482429b74c7af3432d6cf8">printField</a> (int32_t <a class="el" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> term)</td></tr>
<tr class="separator:a41b3b32dd8482429b74c7af3432d6cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097240f08baadeb1c64b63eab9afb088"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a097240f08baadeb1c64b63eab9afb088">printField</a> (uint32_t <a class="el" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> term)</td></tr>
<tr class="separator:a097240f08baadeb1c64b63eab9afb088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05cee5df46a370bf916d3ba597c82e39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a05cee5df46a370bf916d3ba597c82e39">printModifyDateTime</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr)</td></tr>
<tr class="separator:a05cee5df46a370bf916d3ba597c82e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe18a787fb8640e2d2483370c770f82f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#afe18a787fb8640e2d2483370c770f82f">printName</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr)</td></tr>
<tr class="separator:afe18a787fb8640e2d2483370c770f82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a5d2de2737c201aa39ca1bd2ab9c47"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a12a5d2de2737c201aa39ca1bd2ab9c47">printFileSize</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr)</td></tr>
<tr class="separator:a12a5d2de2737c201aa39ca1bd2ab9c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791cd7aade71f609aab62ec018aea3c0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a791cd7aade71f609aab62ec018aea3c0">printSFN</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr)</td></tr>
<tr class="separator:a791cd7aade71f609aab62ec018aea3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ae55ff6fe158c2340071d702a363c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a> ()</td></tr>
<tr class="separator:a60ae55ff6fe158c2340071d702a363c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200e6e0553d5b709520c9dfac9ef77dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a200e6e0553d5b709520c9dfac9ef77dd">read</a> (void *buf, size_t nbyte)</td></tr>
<tr class="separator:a200e6e0553d5b709520c9dfac9ef77dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1325afe074c3efecff666678cd9f116a"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a1325afe074c3efecff666678cd9f116a">readDir</a> (<a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *dir)</td></tr>
<tr class="separator:a1325afe074c3efecff666678cd9f116a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac837a537fbcca14c7aa390c5fc9f4e7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">remove</a> ()</td></tr>
<tr class="separator:ac837a537fbcca14c7aa390c5fc9f4e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aac6e0b3cb08fc8b8668e916a8b0ca5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a> ()</td></tr>
<tr class="separator:a5aac6e0b3cb08fc8b8668e916a8b0ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b42f2454ff462555c07ea094a92a1e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a4b42f2454ff462555c07ea094a92a1e0">rename</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *newPath)</td></tr>
<tr class="separator:a4b42f2454ff462555c07ea094a92a1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9515bac181d33e7f0125e88fa2ccd283"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">rmdir</a> ()</td></tr>
<tr class="separator:a9515bac181d33e7f0125e88fa2ccd283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac780a80526f86d3def701ecdc99d8bfe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ac780a80526f86d3def701ecdc99d8bfe">rmRfStar</a> ()</td></tr>
<tr class="separator:ac780a80526f86d3def701ecdc99d8bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5812037ea30777cc350698ad26f2c73f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5812037ea30777cc350698ad26f2c73f">seekCur</a> (int32_t offset)</td></tr>
<tr class="separator:a5812037ea30777cc350698ad26f2c73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f677f4e75ef6fa2eb632f4cdf6b486"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a84f677f4e75ef6fa2eb632f4cdf6b486">seekEnd</a> (int32_t offset=0)</td></tr>
<tr class="separator:a84f677f4e75ef6fa2eb632f4cdf6b486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab067190d25733ed7e697d9890f61fd7a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a> (uint32_t pos)</td></tr>
<tr class="separator:ab067190d25733ed7e697d9890f61fd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f3dc4896c542d695e11aac927f585e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a> ()</td></tr>
<tr class="separator:a67f3dc4896c542d695e11aac927f585e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53a8d1d2467ad9af7d61cbf8ee85243"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa53a8d1d2467ad9af7d61cbf8ee85243">timestamp</a> (<a class="el" href="class_fat_file.html">FatFile</a> *file)</td></tr>
<tr class="separator:aa53a8d1d2467ad9af7d61cbf8ee85243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56dabdf73833b7e961c4530eb8e16d23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a56dabdf73833b7e961c4530eb8e16d23">timestamp</a> (uint8_t flags, uint16_t year, uint8_t month, uint8_t day, uint8_t hour, uint8_t minute, uint8_t second)</td></tr>
<tr class="separator:a56dabdf73833b7e961c4530eb8e16d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e043dfb89d268bfd620bbbadacf1002"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7e043dfb89d268bfd620bbbadacf1002">fileAttr</a> () const </td></tr>
<tr class="separator:a7e043dfb89d268bfd620bbbadacf1002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e663098a578635d37d92e82d18d616"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa6e663098a578635d37d92e82d18d616">truncate</a> (uint32_t length)</td></tr>
<tr class="separator:aa6e663098a578635d37d92e82d18d616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c64bd8a9abb9a6461d4addb405614df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_fat_volume.html">FatVolume</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a3c64bd8a9abb9a6461d4addb405614df">volume</a> () const </td></tr>
<tr class="separator:a3c64bd8a9abb9a6461d4addb405614df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a5b81161994cea07938702cdfce49f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write</a> (const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *str)</td></tr>
<tr class="separator:aa4a5b81161994cea07938702cdfce49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5524bd9f3b8f54ee163e391cba618186"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5524bd9f3b8f54ee163e391cba618186">write</a> (uint8_t b)</td></tr>
<tr class="separator:a5524bd9f3b8f54ee163e391cba618186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab9df44a9ee4b6eb0a78f15f1e30004"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a0ab9df44a9ee4b6eb0a78f15f1e30004">write</a> (const void *buf, size_t nbyte)</td></tr>
<tr class="separator:a0ab9df44a9ee4b6eb0a78f15f1e30004"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Fonctions membres publiques statiques</h2></td></tr>
<tr class="memitem:a8fdb038aafdf3a17ac80b53c063aa73b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">printFatDate</a> (uint16_t fatDate)</td></tr>
<tr class="separator:a8fdb038aafdf3a17ac80b53c063aa73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7740731f08ef97de7dfbc9b075c4c7d1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">printFatTime</a> (uint16_t fatTime)</td></tr>
<tr class="separator:a7740731f08ef97de7dfbc9b075c4c7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b68e603ad8e47bad915f0547e580adb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a3b68e603ad8e47bad915f0547e580adb">cwd</a> ()</td></tr>
<tr class="separator:a3b68e603ad8e47bad915f0547e580adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a623f50df057e8b49045ba6611ec2b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a29a623f50df057e8b49045ba6611ec2b">dateTimeCallback</a> (void(*dateTime)(uint16_t *date, uint16_t *time))</td></tr>
<tr class="separator:a29a623f50df057e8b49045ba6611ec2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df02f1d037e6091375488af25244ebc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5df02f1d037e6091375488af25244ebc">dateTimeCallbackCancel</a> ()</td></tr>
<tr class="separator:a5df02f1d037e6091375488af25244ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648461081fe07578780f4cd3f246cb66"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a648461081fe07578780f4cd3f246cb66">dirName</a> (const <a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *dir, <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *<a class="el" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>)</td></tr>
<tr class="separator:a648461081fe07578780f4cd3f246cb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94df8090f16e9666cdc53ca20f6aff90"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a94df8090f16e9666cdc53ca20f6aff90">legal83Char</a> (uint8_t c)</td></tr>
<tr class="separator:a94df8090f16e9666cdc53ca20f6aff90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5364f66204b1a64afbf9d2e6cd2b0b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ada5364f66204b1a64afbf9d2e6cd2b0b">printFatDate</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr, uint16_t fatDate)</td></tr>
<tr class="separator:ada5364f66204b1a64afbf9d2e6cd2b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7e56ba52ca17c602af1b85684b09a9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a4e7e56ba52ca17c602af1b85684b09a9">printFatTime</a> (<a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *pr, uint16_t fatTime)</td></tr>
<tr class="separator:a4e7e56ba52ca17c602af1b85684b09a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe820bbb056863e91ec482961c8dc695"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#afe820bbb056863e91ec482961c8dc695">remove</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *path)</td></tr>
<tr class="separator:afe820bbb056863e91ec482961c8dc695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360ef9c05e677271bed6c0a4d663634c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a360ef9c05e677271bed6c0a4d663634c">setCwd</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dir)</td></tr>
<tr class="separator:a360ef9c05e677271bed6c0a4d663634c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Fonctions membres privées</h2></td></tr>
<tr class="memitem:abbae867463872f9d4fb07c5c884e9420"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#abbae867463872f9d4fb07c5c884e9420">openParent</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dir)</td></tr>
<tr class="separator:abbae867463872f9d4fb07c5c884e9420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf966473411ee32621742f1820abce1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#afcf966473411ee32621742f1820abce1">addCluster</a> ()</td></tr>
<tr class="separator:afcf966473411ee32621742f1820abce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa65510f81a364343bb7b21f86b5a35b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa65510f81a364343bb7b21f86b5a35b5">addDirCluster</a> ()</td></tr>
<tr class="separator:aa65510f81a364343bb7b21f86b5a35b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164e28cf69fa91c2654538c2df05a3e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a> (uint8_t action)</td></tr>
<tr class="separator:a164e28cf69fa91c2654538c2df05a3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288487f9a5be87ba2fc5d3076426749f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a288487f9a5be87ba2fc5d3076426749f">lfnUniqueSfn</a> (<a class="el" href="structfname__t.html">fname_t</a> *fname)</td></tr>
<tr class="separator:a288487f9a5be87ba2fc5d3076426749f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df45b5ab9063af4730251c563d7af1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">openCluster</a> (<a class="el" href="class_fat_file.html">FatFile</a> *file)</td></tr>
<tr class="separator:a5df45b5ab9063af4730251c563d7af1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5669c1a6d8c83939270ecfcfc772bea5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5669c1a6d8c83939270ecfcfc772bea5">mkdir</a> (<a class="el" href="class_fat_file.html">FatFile</a> *parent, <a class="el" href="structfname__t.html">fname_t</a> *fname)</td></tr>
<tr class="separator:a5669c1a6d8c83939270ecfcfc772bea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870bc8946848ae98e959c41f5759758a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a870bc8946848ae98e959c41f5759758a">open</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, <a class="el" href="structfname__t.html">fname_t</a> *fname, uint8_t oflag)</td></tr>
<tr class="separator:a870bc8946848ae98e959c41f5759758a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a836e6a29971223310c1f253e7f053a4c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">openCachedEntry</a> (<a class="el" href="class_fat_file.html">FatFile</a> *dirFile, uint16_t cacheIndex, uint8_t oflag, uint8_t lfnOrd)</td></tr>
<tr class="separator:a836e6a29971223310c1f253e7f053a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2ccf681514ff4bfb1b5e407ca4d321"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ada2ccf681514ff4bfb1b5e407ca4d321">readLBN</a> (uint32_t *lbn)</td></tr>
<tr class="separator:ada2ccf681514ff4bfb1b5e407ca4d321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb793c305e131e442f3be5f242e8c223"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a> (bool skipReadOk=false)</td></tr>
<tr class="separator:acb793c305e131e442f3be5f242e8c223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24af317a74b68bd1cea229e631b3b944"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a24af317a74b68bd1cea229e631b3b944">setDirSize</a> ()</td></tr>
<tr class="separator:a24af317a74b68bd1cea229e631b3b944"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Fonctions membres privées statiques</h2></td></tr>
<tr class="memitem:a633920e38e1f91f0d7b7c7646633735a"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">lfnChecksum</a> (uint8_t *<a class="el" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>)</td></tr>
<tr class="separator:a633920e38e1f91f0d7b7c7646633735a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719528103a29020b7774bdad8c25bc58"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a719528103a29020b7774bdad8c25bc58">parsePathName</a> (const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *str, <a class="el" href="structfname__t.html">fname_t</a> *fname, const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> **ptr)</td></tr>
<tr class="separator:a719528103a29020b7774bdad8c25bc58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Attributs privés</h2></td></tr>
<tr class="memitem:adaf280dca7fee4b0909d922bbce6ae5f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a></td></tr>
<tr class="separator:adaf280dca7fee4b0909d922bbce6ae5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881be485c12b054fd939e001ad762784"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a></td></tr>
<tr class="separator:a881be485c12b054fd939e001ad762784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1849e40daeb9f7441deda7a7b05258a1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a></td></tr>
<tr class="separator:a1849e40daeb9f7441deda7a7b05258a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4cf71ff0efdb6eef8be307df0c9fa5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a></td></tr>
<tr class="separator:a5f4cf71ff0efdb6eef8be307df0c9fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef80642dcb06aab0df17512f3cf0e80"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a></td></tr>
<tr class="separator:acef80642dcb06aab0df17512f3cf0e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24d1529e3530de53d01d52a412e747b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_fat_volume.html">FatVolume</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a></td></tr>
<tr class="separator:ad24d1529e3530de53d01d52a412e747b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fa11b216d6c34d1efe5b19eda102ac"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a></td></tr>
<tr class="separator:ab3fa11b216d6c34d1efe5b19eda102ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2f8997fe5ac948bb2777a61c0425b3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a></td></tr>
<tr class="separator:a9a2f8997fe5ac948bb2777a61c0425b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87df00f4c68e43e58c47eb2ce19002e2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a></td></tr>
<tr class="separator:a87df00f4c68e43e58c47eb2ce19002e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312328f1e75c5d1406cf07876b5a930f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">m_dirBlock</a></td></tr>
<tr class="separator:a312328f1e75c5d1406cf07876b5a930f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5281ec4b3a498b15d89f47c41becbe6d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a></td></tr>
<tr class="separator:a5281ec4b3a498b15d89f47c41becbe6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f3a378762cc94773507b1f32e362c5d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a></td></tr>
<tr class="separator:a3f3a378762cc94773507b1f32e362c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Attributs privés statiques</h2></td></tr>
<tr class="memitem:ae16fd44b1c014975f0a91422dc78b037"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a> = 0</td></tr>
<tr class="separator:ae16fd44b1c014975f0a91422dc78b037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd88a486baf4ea3b00022a46332eddb4"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#acd88a486baf4ea3b00022a46332eddb4">FILE_ATTR_READ_ONLY</a> = <a class="el" href="_fat_structs_8h.html#abff82a1fd65417a032777e0821821640">DIR_ATT_READ_ONLY</a></td></tr>
<tr class="separator:acd88a486baf4ea3b00022a46332eddb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e23c1309f38788a55dcd1f7bcc9f73a"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a7e23c1309f38788a55dcd1f7bcc9f73a">FILE_ATTR_HIDDEN</a> = <a class="el" href="_fat_structs_8h.html#a3a41f54f933a4d34b1502321ab9da5ff">DIR_ATT_HIDDEN</a></td></tr>
<tr class="separator:a7e23c1309f38788a55dcd1f7bcc9f73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858c0d7e0c1be7ad8e47ab8bc4cd0665"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a858c0d7e0c1be7ad8e47ab8bc4cd0665">FILE_ATTR_SYSTEM</a> = <a class="el" href="_fat_structs_8h.html#ae89bc34164e7318b3d3169ff290c8d70">DIR_ATT_SYSTEM</a></td></tr>
<tr class="separator:a858c0d7e0c1be7ad8e47ab8bc4cd0665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc6734b7277948e48f048d21df45cf1"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FILE_ATTR_FILE</a> = 0X08</td></tr>
<tr class="separator:a6fc6734b7277948e48f048d21df45cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe242bc0d32d9fd6cf0359e8b1ac7d7"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a> = <a class="el" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a></td></tr>
<tr class="separator:abfe242bc0d32d9fd6cf0359e8b1ac7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42aa9a9acb2365652bcb0f266e26e200"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FILE_ATTR_ROOT_FIXED</a> = 0X20</td></tr>
<tr class="separator:a42aa9a9acb2365652bcb0f266e26e200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc90097077f2147a474123b0942fde70"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FILE_ATTR_ROOT32</a> = 0X40</td></tr>
<tr class="separator:abc90097077f2147a474123b0942fde70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e31200f87b9bf094779d2024d91eb81"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a8e31200f87b9bf094779d2024d91eb81">FILE_ATTR_ROOT</a> = <a class="el" href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FILE_ATTR_ROOT_FIXED</a> | <a class="el" href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FILE_ATTR_ROOT32</a></td></tr>
<tr class="separator:a8e31200f87b9bf094779d2024d91eb81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea3743e913b35de19b14e490b044707"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a1ea3743e913b35de19b14e490b044707">FILE_ATTR_DIR</a> = <a class="el" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a> | <a class="el" href="class_fat_file.html#a8e31200f87b9bf094779d2024d91eb81">FILE_ATTR_ROOT</a></td></tr>
<tr class="separator:a1ea3743e913b35de19b14e490b044707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac920086c2bb457d730b200e4c41257f9"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#ac920086c2bb457d730b200e4c41257f9">FILE_ATTR_COPY</a></td></tr>
<tr class="separator:ac920086c2bb457d730b200e4c41257f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa98849022730854eb6c58fb8b68916a7"><td class="memItemLeft" align="right" valign="top">static uint8_t const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#aa98849022730854eb6c58fb8b68916a7">F_OFLAG</a> = (<a class="el" href="_fat_api_constants_8h.html#a4efda39151f5ef2dc7fbd138be51336a">O_ACCMODE</a> | <a class="el" href="_fat_api_constants_8h.html#a4242b37e810af3a6485adda0e08a9a2b">O_APPEND</a> | <a class="el" href="_fat_api_constants_8h.html#a3066c471d52b056dec13fa567f7bbd9d">O_SYNC</a>)</td></tr>
<tr class="separator:aa98849022730854eb6c58fb8b68916a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d74298637a86bf593b9b7fa449d84b"><td class="memItemLeft" align="right" valign="top">static uint8_t const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a> = 0X80</td></tr>
<tr class="separator:a41d74298637a86bf593b9b7fa449d84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0388ab43da6abd32ae4f3a2a4d4c3c6e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">m_cwd</a> = 0</td></tr>
<tr class="separator:a0388ab43da6abd32ae4f3a2a4d4c3c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76c0cea669176f73d5fb380ad9443362"><td class="memItemLeft" align="right" valign="top">static void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a> )(uint16_t *date, uint16_t *time)</td></tr>
<tr class="separator:a76c0cea669176f73d5fb380ad9443362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e494d044c64dee482b0c25ded6595c1"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">WRITE_ERROR</a> = 0X1</td></tr>
<tr class="separator:a6e494d044c64dee482b0c25ded6595c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864c4ee4f60ef74685f19538a1293c07"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat_file.html#a864c4ee4f60ef74685f19538a1293c07">READ_ERROR</a> = 0X2</td></tr>
<tr class="separator:a864c4ee4f60ef74685f19538a1293c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Basic file class. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00109">109</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
</div><h2 class="groupheader">Documentation des constructeurs et destructeur</h2>
<a class="anchor" id="a7b591c9b92165fa8e4eae8c30c30e533"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FatFile::FatFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create an instance. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00112">112</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;: <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a>(<a class="code" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a>), <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a>(0) {}</div><div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ae16fd44b1c014975f0a91422dc78b037"><div class="ttname"><a href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FatFile::FILE_ATTR_CLOSED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00921">FatFile.h:921</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29d31067d0aa3a9a74b1a660c38775cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FatFile::FatFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a file object and open it in the current working directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>A path with a valid 8.3 DOS name for a file to be opened.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oflag</td><td>Values for <em>oflag</em> are constructed by a bitwise-inclusive OR of open flags. see <a class="el" href="class_fat_file.html#a211be757679b18708f6b6a36464e4f61">FatFile::open(FatFile*, const char*, uint8_t)</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00120">120</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                           {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> = 0;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(path, oflag);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ae16fd44b1c014975f0a91422dc78b037"><div class="ttname"><a href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FatFile::FILE_ATTR_CLOSED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00921">FatFile.h:921</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48b81ed9225927b0e3f3e3234a1d2f51"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FatFile::~FatFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00126">126</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;             {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <a class="code" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a>();</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_afd16af325e0642e4bff6430b7d8bb18b"><div class="ttname"><a href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">FatFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00090">FatFile.cpp:90</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentation des fonctions membres</h2>
<a class="anchor" id="afcf966473411ee32621742f1820abce1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::addCluster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00029">29</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00036">addDirCluster()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                         {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a7dd07ab1eaccbfe283d37a70d5de12d7">allocateCluster</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>, &amp;<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_volume_html_a7dd07ab1eaccbfe283d37a70d5de12d7"><div class="ttname"><a href="class_fat_volume.html#a7dd07ab1eaccbfe283d37a70d5de12d7">FatVolume::allocateCluster</a></div><div class="ttdeci">bool allocateCluster(uint32_t current, uint32_t *next)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00067">FatVolume.cpp:67</a></div></div>
<div class="ttc" id="class_fat_file_html_a41d74298637a86bf593b9b7fa449d84b"><div class="ttname"><a href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">FatFile::F_FILE_DIR_DIRTY</a></div><div class="ttdeci">static uint8_t const F_FILE_DIR_DIRTY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00968">FatFile.h:968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa65510f81a364343bb7b21f86b5a35b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::addDirCluster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00036">36</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00288">open()</a>, et <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                            {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  uint32_t block;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* pc;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a>()) {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// max folder size</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> &gt;= 512UL*4095) {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  }</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf966473411ee32621742f1820abce1">addCluster</a>()) {</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>);</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(block, <a class="code" href="class_fat_cache.html#a7307dd12178856bc3e823d8738856662">FatCache::CACHE_RESERVE_FOR_WRITE</a>);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  memset(pc, 0, 512);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">// zero rest of clusters</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">for</span> (uint8_t i = 1; i &lt; <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>(); i++) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a8059704208cdd45226256947ba0cdadf">writeBlock</a>(block + i, pc-&gt;<a class="code" href="unioncache__t.html#ae675b7a3a87d809070de111d1d1f1d81">data</a>)) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Set position to EOF to avoid inconsistent curCluster/curPosition.</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> += 512UL*<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>();</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;fail:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="ttc" id="class_fat_file_html_afcf966473411ee32621742f1820abce1"><div class="ttname"><a href="class_fat_file.html#afcf966473411ee32621742f1820abce1">FatFile::addCluster</a></div><div class="ttdeci">bool addCluster()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00029">FatFile.cpp:29</a></div></div>
<div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="class_fat_volume_html_a06beed4cea5e38116b58254a57125442"><div class="ttname"><a href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">FatVolume::blocksPerCluster</a></div><div class="ttdeci">uint8_t blocksPerCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00164">FatVolume.h:164</a></div></div>
<div class="ttc" id="class_fat_file_html_a8215bd4b21e11ec83fa88ef226ceb06f"><div class="ttname"><a href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">FatFile::isRootFixed</a></div><div class="ttdeci">bool isRootFixed() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00407">FatFile.h:407</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="unioncache__t_html_ae675b7a3a87d809070de111d1d1f1d81"><div class="ttname"><a href="unioncache__t.html#ae675b7a3a87d809070de111d1d1f1d81">cache_t::data</a></div><div class="ttdeci">uint8_t data[512]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00073">FatVolume.h:73</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="class_fat_cache_html_a7307dd12178856bc3e823d8738856662"><div class="ttname"><a href="class_fat_cache.html#a7307dd12178856bc3e823d8738856662">FatCache::CACHE_RESERVE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_RESERVE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00111">FatVolume.h:111</a></div></div>
<div class="ttc" id="class_fat_volume_html_a8059704208cdd45226256947ba0cdadf"><div class="ttname"><a href="class_fat_volume.html#a8059704208cdd45226256947ba0cdadf">FatVolume::writeBlock</a></div><div class="ttdeci">virtual bool writeBlock(uint32_t block, const uint8_t *src)=0</div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1fa779d98db7ffdb96f8019ab0060d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes available from the current position to EOF for normal files. Zero is returned for directory files. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00202">202</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_arduino_files_8h_source.html#l00062">PrintFile::available()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                       {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() ? <a class="code" href="class_fat_file.html#a02fc3b3ca36b4745f695f3de8c8ec36d">fileSize</a>() - <a class="code" href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">curPosition</a>() : 0;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a02fc3b3ca36b4745f695f3de8c8ec36d"><div class="ttname"><a href="class_fat_file.html#a02fc3b3ca36b4745f695f3de8c8ec36d">FatFile::fileSize</a></div><div class="ttdeci">uint32_t fileSize() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00351">FatFile.h:351</a></div></div>
<div class="ttc" id="class_fat_file_html_a20c55b134bfd1d287a00bf64eba9332e"><div class="ttname"><a href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">FatFile::curPosition</a></div><div class="ttdeci">uint32_t curPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00240">FatFile.h:240</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a164e28cf69fa91c2654538c2df05a3e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> * FatFile::cacheDirEntry </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00077">77</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00159">dirEntry()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00023">getSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01198">timestamp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                            {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* pc;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(<a class="code" href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">m_dirBlock</a>, action);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> pc-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a> + (<a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a> &amp; 0XF);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;fail:</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a312328f1e75c5d1406cf07876b5a930f"><div class="ttname"><a href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">FatFile::m_dirBlock</a></div><div class="ttdeci">uint32_t m_dirBlock</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00986">FatFile.h:986</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="unioncache__t_html_a7396fdbdb7c52bd1d72c5329ff32acd1"><div class="ttname"><a href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">cache_t::dir</a></div><div class="ttdeci">dir_t dir[16]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00079">FatVolume.h:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a052e2c15a39b322a5307b693b8835b22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::clearError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear all error bits. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00184">184</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> = 0;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeca2a2eff91e6aa55fe1b0e3860c9a05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::clearWriteError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set writeError to zero </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00180">180</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="fstream_8h_source.html#l00083">fstream::clear()</a>, <a class="el" href="fstream_8h_source.html#l00260">ofstream::clear()</a>, <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00053">PrintFile::~PrintFile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                         {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> &amp;= ~<a class="code" href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">WRITE_ERROR</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_a6e494d044c64dee482b0c25ded6595c1"><div class="ttname"><a href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">FatFile::WRITE_ERROR</a></div><div class="ttdeci">static const uint8_t WRITE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00975">FatFile.h:975</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd16af325e0642e4bff6430b7d8bb18b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a file and force cached data and directory information to be written to the storage device.</p>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00090">90</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00042">FatFileSystem::begin()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00100">FatFileSystem::chdir()</a>, <a class="el" href="fstream_8h_source.html#l00090">fstream::close()</a>, <a class="el" href="fstream_8h_source.html#l00191">ifstream::close()</a>, <a class="el" href="fstream_8h_source.html#l00267">ofstream::close()</a>, <a class="el" href="_stdio_stream_8cpp_source.html#l00023">StdioStream::fclose()</a>, <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, <a class="el" href="_the_player_8cpp_source.html#l00659">ThePlayer::play()</a>, <a class="el" href="_the_player_8cpp_source.html#l00715">ThePlayer::stop()</a>, et <a class="el" href="_fat_file_system_8h_source.html#l00302">FatFileSystem::wipe()</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                    {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">bool</span> rtn = <a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">return</span> rtn;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ae16fd44b1c014975f0a91422dc78b037"><div class="ttname"><a href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FatFile::FILE_ATTR_CLOSED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00921">FatFile.h:921</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa367708bcc8bc0e0c45c0c2a812c65da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::contiguousRange </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>bgnBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>endBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check for contiguous file and return its raw block range.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">bgnBlock</td><td>the first block address for the file. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">endBlock</td><td>the last block address for the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00096">96</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                                                    {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// error if no blocks</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> == 0) {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">for</span> (uint32_t c = <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>; ; c++) {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    uint32_t next;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    int8_t fg = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">fatGet</a>(c, &amp;next);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (fg &lt; 0) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// check for contiguous</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (fg == 0 || next != (c + 1)) {</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="comment">// error if not end of chain</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">if</span> (fg) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      *bgnBlock = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      *endBlock = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(c)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                  + <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>() - 1;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;fail:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_volume_html_a06beed4cea5e38116b58254a57125442"><div class="ttname"><a href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">FatVolume::blocksPerCluster</a></div><div class="ttdeci">uint8_t blocksPerCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00164">FatVolume.h:164</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="class_fat_volume_html_acd39c4c661e221e573a8dc7e392146fd"><div class="ttname"><a href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">FatVolume::fatGet</a></div><div class="ttdeci">int8_t fatGet(uint32_t cluster, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00187">FatVolume.cpp:187</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0afc2a1cffa238d1cb2049bfa2d8d199"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::createContiguous </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create and open a new contiguous file of a specified size.</p>
<dl class="section note"><dt>Note</dt><dd>This function only supports short DOS 8.3 names. See <a class="el" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open()</a> for more information.</dd></dl>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFile</td><td>The directory where the file will be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>A path with a valid DOS 8.3 file name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The desired file size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false, is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00127">127</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                                                {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  uint32_t count;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// don&#39;t allow zero length file</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">if</span> (size == 0) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(dirFile, path, <a class="code" href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a> | <a class="code" href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a> | <a class="code" href="_fat_api_constants_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">O_RDWR</a>)) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// calculate number of clusters needed</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  count = ((size - 1) &gt;&gt; (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ac0e63f33d71d5dc95a602834274def6a">clusterSizeShift</a>() + 9)) + 1;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// allocate clusters</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aba60a5e8bbdab3cbb01dfd0790648cd1">allocContiguous</a>(count, &amp;<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>)) {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keyword">remove</span>();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> = size;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// insure sync() will update dir entry</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;fail:</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div><div class="ttc" id="class_fat_volume_html_ac0e63f33d71d5dc95a602834274def6a"><div class="ttname"><a href="class_fat_volume.html#ac0e63f33d71d5dc95a602834274def6a">FatVolume::clusterSizeShift</a></div><div class="ttdeci">uint8_t clusterSizeShift() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00186">FatVolume.h:186</a></div></div>
<div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ab5635d4288cb294c1ed000fa183e072b"><div class="ttname"><a href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a></div><div class="ttdeci">uint8_t const O_EXCL</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00047">FatApiConstants.h:47</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a20d0ef801486dd02de6ee482de731193"><div class="ttname"><a href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a></div><div class="ttdeci">uint8_t const O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00045">FatApiConstants.h:45</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ad79c5a45cb5e4855b771629fc15d78f6"><div class="ttname"><a href="_fat_api_constants_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">O_RDWR</a></div><div class="ttdeci">uint8_t const O_RDWR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00033">FatApiConstants.h:33</a></div></div>
<div class="ttc" id="class_fat_volume_html_aba60a5e8bbdab3cbb01dfd0790648cd1"><div class="ttname"><a href="class_fat_volume.html#aba60a5e8bbdab3cbb01dfd0790648cd1">FatVolume::allocContiguous</a></div><div class="ttdeci">bool allocContiguous(uint32_t count, uint32_t *firstCluster)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00114">FatVolume.cpp:114</a></div></div>
<div class="ttc" id="class_fat_file_html_a41d74298637a86bf593b9b7fa449d84b"><div class="ttname"><a href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">FatFile::F_FILE_DIR_DIRTY</a></div><div class="ttdeci">static uint8_t const F_FILE_DIR_DIRTY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00968">FatFile.h:968</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4c03e2f6729526786e6ab4a623e0339b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::curCluster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The current cluster number for a file or directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00236">236</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                              {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20c55b134bfd1d287a00bf64eba9332e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::curPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The current position for a file or directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00240">240</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_stdio_stream_8cpp_source.html#l00226">StdioStream::ftell()</a>, <a class="el" href="fstream_8h_source.html#l00119">fstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00280">ofstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00204">ifstream::open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                               {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3b68e603ad8e47bad915f0547e580adb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_fat_file.html">FatFile</a>* FatFile::cwd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>Current working directory </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00244">244</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">m_cwd</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a0388ab43da6abd32ae4f3a2a4d4c3c6e"><div class="ttname"><a href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">FatFile::m_cwd</a></div><div class="ttdeci">static FatFile * m_cwd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00971">FatFile.h:971</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29a623f50df057e8b49045ba6611ec2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FatFile::dateTimeCallback </td>
          <td>(</td>
          <td class="paramtype">void(*)(uint16_t *date, uint16_t *time)&#160;</td>
          <td class="paramname"><em>dateTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the date/time callback function</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dateTime</td><td>The user's call back function. The callback function is of the form:</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> dateTime(uint16_t* date, uint16_t* time) {</div><div class="line">  uint16_t year;</div><div class="line">  uint8_t month, day, hour, minute, second;</div><div class="line"></div><div class="line">  <span class="comment">// User gets date and time from GPS or real-time clock here</span></div><div class="line"></div><div class="line">  <span class="comment">// return date using FAT_DATE macro to format fields</span></div><div class="line">  *date = <a class="code" href="_fat_structs_8h.html#a44899ad42ddf32ff1c1a73b5251b304a">FAT_DATE</a>(year, month, day);</div><div class="line"></div><div class="line">  <span class="comment">// return time using FAT_TIME macro to format fields</span></div><div class="line">  *time = <a class="code" href="_fat_structs_8h.html#a375720927be5a39475d48b2d75dae29a">FAT_TIME</a>(hour, minute, second);</div><div class="line">}</div></div><!-- fragment --><p>Sets the function that is called when a file is created or when a file's directory entry is modified by <a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync()</a>. All timestamps, access, creation, and modify, are set when a file is created. <a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync()</a> maintains the last access date and last modify date/time.</p>
<p>See the <a class="el" href="class_fat_file.html#aa53a8d1d2467ad9af7d61cbf8ee85243">timestamp()</a> function. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00274">274</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                                      {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a> = dateTime;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a76c0cea669176f73d5fb380ad9443362"><div class="ttname"><a href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">FatFile::m_dateTime</a></div><div class="ttdeci">static void(* m_dateTime)(uint16_t *date, uint16_t *time)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00973">FatFile.h:973</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5df02f1d037e6091375488af25244ebc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FatFile::dateTimeCallbackCancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cancel the date/time callback function. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00279">279</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                       {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a> = 0;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a76c0cea669176f73d5fb380ad9443362"><div class="ttname"><a href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">FatFile::m_dateTime</a></div><div class="ttdeci">static void(* m_dateTime)(uint16_t *date, uint16_t *time)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00973">FatFile.h:973</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6858d18c807411a071fd6d1b39d50087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::dirEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a file's directory entry.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dir</td><td>Location for return of the file's directory entry.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00159">159</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00125">printCreateDateTime()</a>, <a class="el" href="_fat_file_print_8cpp_source.html#l00223">printModifyDateTime()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01198">timestamp()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                                 {</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// Make sure fields on device are correct.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>()) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="comment">// read entry</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// copy to caller&#39;s struct</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  memcpy(dst, dir, <span class="keyword">sizeof</span>(<a class="code" href="structdirectory_entry.html">dir_t</a>));</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;fail:</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_cache_html_ae5ac564caf5c65f223a6f5c6adac0691"><div class="ttname"><a href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00106">FatVolume.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5ec24d4a94d3780384d3f2b731c7eb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t FatFile::dirIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The index of this file in it's directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00293">293</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                      {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a648461081fe07578780f4cd3f246cb66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::dirName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Format the name field of <em>dir</em> into the 13 byte array <em>name</em> in standard 8.3 short name format.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>The directory structure containing the name. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">name</td><td>A 13 byte char array for the formatted name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>length of the name. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00180">180</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00023">getSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                                     {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  uint8_t j = 0;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  uint8_t lcBit = <a class="code" href="_fat_structs_8h.html#a39f9b8960dba007b537e9b71c25384fe">DIR_NT_LC_BASE</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 11; i++) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[i] == <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (i == 8) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="comment">// Position bit for extension.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      lcBit = <a class="code" href="_fat_structs_8h.html#a8766a8bbab6ad3da38c1b308545d7572">DIR_NT_LC_EXT</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[j++] = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">char</span> c = dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[i];</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (<span class="charliteral">&#39;A&#39;</span> &lt;= c &amp;&amp; c &lt;= <span class="charliteral">&#39;Z&#39;</span> &amp;&amp; (lcBit &amp; dir-&gt;<a class="code" href="structdirectory_entry.html#afe7d00be85f3b78549b21610050da52b">reservedNT</a>)) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      c += <span class="charliteral">&#39;a&#39;</span> - <span class="charliteral">&#39;A&#39;</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[j++] = c;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[j] = 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> j;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="_fat_structs_8h_html_a30308c9b983377042fd2cc8900454fb1"><div class="ttname"><a href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00465">FatStructs.h:465</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a39f9b8960dba007b537e9b71c25384fe"><div class="ttname"><a href="_fat_structs_8h.html#a39f9b8960dba007b537e9b71c25384fe">DIR_NT_LC_BASE</a></div><div class="ttdeci">const uint8_t DIR_NT_LC_BASE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00575">FatStructs.h:575</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8766a8bbab6ad3da38c1b308545d7572"><div class="ttname"><a href="_fat_structs_8h.html#a8766a8bbab6ad3da38c1b308545d7572">DIR_NT_LC_EXT</a></div><div class="ttdeci">const uint8_t DIR_NT_LC_EXT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00577">FatStructs.h:577</a></div></div>
<div class="ttc" id="structdirectory_entry_html_afe7d00be85f3b78549b21610050da52b"><div class="ttname"><a href="structdirectory_entry.html#afe7d00be85f3b78549b21610050da52b">directoryEntry::reservedNT</a></div><div class="ttdeci">uint8_t reservedNT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00509">FatStructs.h:509</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2ed15f05c9ccbce355e7a8d3ce8382d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::dirSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes allocated to a directory or zero if an error occurs. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00203">203</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                          {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  int8_t fg;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a>()) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> 32*<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ab2d483670a0a6a6a4754b23614fe11bc">rootDirEntryCount</a>();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  uint16_t n = 0;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  uint32_t c = <a class="code" href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">isRoot32</a>() ? <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">rootDirStart</a>() : <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    fg = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">fatGet</a>(c, &amp;c);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (fg &lt; 0 || n &gt; 4095) {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    n += <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  } <span class="keywordflow">while</span> (fg);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> 512UL*n;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_volume_html_ab2d483670a0a6a6a4754b23614fe11bc"><div class="ttname"><a href="class_fat_volume.html#ab2d483670a0a6a6a4754b23614fe11bc">FatVolume::rootDirEntryCount</a></div><div class="ttdeci">uint16_t rootDirEntryCount() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00231">FatVolume.h:231</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="class_fat_volume_html_a06beed4cea5e38116b58254a57125442"><div class="ttname"><a href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">FatVolume::blocksPerCluster</a></div><div class="ttdeci">uint8_t blocksPerCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00164">FatVolume.h:164</a></div></div>
<div class="ttc" id="class_fat_file_html_a1449b294e3a838396c62e47674ca8cf0"><div class="ttname"><a href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">FatFile::isRoot32</a></div><div class="ttdeci">bool isRoot32() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00403">FatFile.h:403</a></div></div>
<div class="ttc" id="class_fat_file_html_a8215bd4b21e11ec83fa88ef226ceb06f"><div class="ttname"><a href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">FatFile::isRootFixed</a></div><div class="ttdeci">bool isRootFixed() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00407">FatFile.h:407</a></div></div>
<div class="ttc" id="class_fat_volume_html_acd39c4c661e221e573a8dc7e392146fd"><div class="ttname"><a href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">FatVolume::fatGet</a></div><div class="ttdeci">int8_t fatGet(uint32_t cluster, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00187">FatVolume.cpp:187</a></div></div>
<div class="ttc" id="class_fat_volume_html_ae9363ebbbae90e895ea56e8fa3f60c13"><div class="ttname"><a href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">FatVolume::rootDirStart</a></div><div class="ttdeci">uint32_t rootDirStart() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00236">FatVolume.h:236</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f01d27954ae49aeb6888ac7302f55d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::dmpFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump file in Hex </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for list. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>Start position in file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of locations to dump. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00056">56</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                         {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">char</span> text[17];</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  text[16] = 0;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (n &gt;= 0XFFF0) {</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    n = 0XFFF0;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(pos)) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt;= n; i++) {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">if</span> ((i &amp; 15) == 0) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keywordflow">if</span> (i) {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        pr-&gt;write(text);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">if</span> (i == n) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      pr-&gt;write(<span class="charliteral">&#39;\r&#39;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      pr-&gt;write(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="keywordflow">if</span> (i &gt;= n) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="_fat_file_print_8cpp.html#aa9537fbcfcf6864e7abb8586ed2a60b7">printHex</a>(pr, 4, i);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    int16_t h = <a class="code" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a>();</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (h &lt; 0) {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="_fat_file_print_8cpp.html#aa9537fbcfcf6864e7abb8586ed2a60b7">printHex</a>(pr, 2, h);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    text[i&amp;15] = <span class="charliteral">&#39; &#39;</span> &lt;= h &amp;&amp; h &lt; 0X7F ? h : <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  pr-&gt;write(<span class="charliteral">&#39;\r&#39;</span>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  pr-&gt;write(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div><div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a60ae55ff6fe158c2340071d702a363c5"><div class="ttname"><a href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">FatFile::read</a></div><div class="ttdeci">int read()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00676">FatFile.h:676</a></div></div>
<div class="ttc" id="_fat_file_print_8cpp_html_aa9537fbcfcf6864e7abb8586ed2a60b7"><div class="ttname"><a href="_fat_file_print_8cpp.html#aa9537fbcfcf6864e7abb8586ed2a60b7">printHex</a></div><div class="ttdeci">static void printHex(print_t *pr, uint8_t w, uint16_t h)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00044">FatFilePrint.cpp:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50242f98dea0d4488ce4039a279f2a57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::exists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Test for the existence of a file in a directory</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>Path of the file to be tested for.</td></tr>
  </table>
  </dd>
</dl>
<p>The calling instance must be an open directory file.</p>
<p>dirFile.exists("TOFIND.TXT") searches for "TOFIND.TXT" in the directory dirFile.</p>
<dl class="section return"><dt>Renvoie</dt><dd>true if the file exists else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00325">325</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00167">FatFileSystem::exists()</a>.</p>
<div class="fragment"><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> file;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span> file.<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(<span class="keyword">this</span>, path, <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div><div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a31ef26b3ee37cf5f5f4c6024c0ddab69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t FatFile::fgets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>delim</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a string from a file.</p>
<p><a class="el" href="class_fat_file.html#a31ef26b3ee37cf5f5f4c6024c0ddab69">fgets()</a> reads bytes from a file into the array pointed to by <em>str</em>, until <em>num</em> - 1 bytes are read, or a delimiter is read and transferred to <em>str</em>, or end-of-file is encountered. The string is then terminated with a null byte.</p>
<p><a class="el" href="class_fat_file.html#a31ef26b3ee37cf5f5f4c6024c0ddab69">fgets()</a> deletes CR, '\r', from the string. This insures only a '\n' terminates the string for Windows text files which use CRLF for newline.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">str</td><td>Pointer to the array where the string is stored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num</td><td>Maximum number of characters to be read (including the final null byte). Usually the length of the array <em>str</em> is used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delim</td><td>Optional set of delimiters. The default is "\n".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>For success <a class="el" href="class_fat_file.html#a31ef26b3ee37cf5f5f4c6024c0ddab69">fgets()</a> returns the length of the string in <em>str</em>. If no data is read, <a class="el" href="class_fat_file.html#a31ef26b3ee37cf5f5f4c6024c0ddab69">fgets()</a> returns zero for EOF or -1 if an error occurred. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00223">223</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                          {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordtype">char</span> ch;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  int16_t n = 0;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  int16_t r = -1;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">while</span> ((n + 1) &lt; num &amp;&amp; (r = <a class="code" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a>(&amp;ch, 1)) == 1) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// delete CR</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\r&#39;</span>) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    str[n++] = ch;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (!delim) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span> (ch == <span class="charliteral">&#39;\n&#39;</span>) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">if</span> (strchr(delim, ch)) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (r &lt; 0) {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// read error</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  str[n] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">return</span> n;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a60ae55ff6fe158c2340071d702a363c5"><div class="ttname"><a href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">FatFile::read</a></div><div class="ttdeci">int read()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00676">FatFile.h:676</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e043dfb89d268bfd620bbbadacf1002"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::fileAttr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Type of file. You should use <a class="el" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile()</a> or <a class="el" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir()</a> instead of fileType() if possible.</p>
<dl class="section return"><dt>Renvoie</dt><dd>The file or directory type. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00870">870</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                           {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02fc3b3ca36b4745f695f3de8c8ec36d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::fileSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The total number of bytes in a file. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00351">351</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00239">printFileSize()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                            {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1057bc23b92a074539f661e896e79a09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::firstCluster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>The first cluster number for a file or directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00355">355</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_volume_8h_source.html#l00310">FatVolume::cacheDirty()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0dbbd083180f44c7a3ce7124d4ce19c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::getError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>All error bits. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00188">188</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00628">lfnUniqueSfn()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00288">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                     {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aafa565e286440aab612cdb430fc01da5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::getName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a file's name followed by a zero byte.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">name</td><td>An array of characters for the file's name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of the array in bytes. The array must be at least 13 bytes long. The file's name will be truncated if the file's name is too long. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true, is returned for success and the value false, is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">117</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                                             {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> dirFile;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="structlong_directory_entry.html">ldir_t</a>* ldir;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || size &lt; 13) {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">isLFN</a>()) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#aba30e92a66f8e0d2f815c85662772a58">getSFN</a>(<a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (!dirFile.<a class="code" href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">openCluster</a>(<span class="keyword">this</span>)) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">for</span> (uint8_t <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> = 1; <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> &lt;= <a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a>; <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a>++) {</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (!dirFile.<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(32UL*(<a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a> - <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a>))) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dirFile.<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>());</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (!ldir) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">attr</a> != <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a>) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> != (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; 0X1F)) {</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_fat_file_l_f_n_8cpp.html#a3732dbc855e5bfb050c75b4d75ca5930">lfnGetName</a>(ldir, <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>, size)) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; <a class="code" href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a>) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// Fall into fail.</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  DBG_FAIL_MACRO;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;fail:</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[0] = 0;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="ttc" id="structlong_directory_entry_html_aa36bf1210d0c2b3b80948e5f697eb02e"><div class="ttname"><a href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">longDirectoryEntry::attr</a></div><div class="ttdeci">uint8_t attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00727">FatStructs.h:727</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_ae204655dc23be1d048e8bebf2dfa5089"><div class="ttname"><a href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00718">FatStructs.h:718</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a30308c9b983377042fd2cc8900454fb1"><div class="ttname"><a href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00465">FatStructs.h:465</a></div></div>
<div class="ttc" id="class_fat_file_html_aed36d17f8fde597b6ed9446faec1f7e3"><div class="ttname"><a href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">FatFile::isLFN</a></div><div class="ttdeci">bool isLFN() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00391">FatFile.h:391</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a0d3f6fbbd34126b2d5563bba65220985"><div class="ttname"><a href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a></div><div class="ttdeci">uint8_t const DIR_ATT_LONG_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00565">FatStructs.h:565</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_a5df45b5ab9063af4730251c563d7af1e"><div class="ttname"><a href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">FatFile::openCluster</a></div><div class="ttdeci">bool openCluster(FatFile *file)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00165">FatFileLFN.cpp:165</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f4cf71ff0efdb6eef8be307df0c9fa5"><div class="ttname"><a href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">FatFile::m_lfnOrd</a></div><div class="ttdeci">uint8_t m_lfnOrd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00980">FatFile.h:980</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a1b65e85dd63d0708cd1b875ce4e5e338"><div class="ttname"><a href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">longDirectoryEntry::ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00723">FatStructs.h:723</a></div></div>
<div class="ttc" id="structlong_directory_entry_html"><div class="ttname"><a href="structlong_directory_entry.html">longDirectoryEntry</a></div><div class="ttdoc">FAT long directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00713">FatStructs.h:713</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_a3732dbc855e5bfb050c75b4d75ca5930"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#a3732dbc855e5bfb050c75b4d75ca5930">lfnGetName</a></div><div class="ttdeci">static bool lfnGetName(ldir_t *ldir, char *name, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00065">FatFileLFN.cpp:65</a></div></div>
<div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8cfb60b9eaf04dcdc6e4f5a466af5540"><div class="ttname"><a href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a></div><div class="ttdeci">const uint8_t LDIR_ORD_LAST_LONG_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00754">FatStructs.h:754</a></div></div>
<div class="ttc" id="class_fat_file_html_aba30e92a66f8e0d2f815c85662772a58"><div class="ttname"><a href="class_fat_file.html#aba30e92a66f8e0d2f815c85662772a58">FatFile::getSFN</a></div><div class="ttdeci">bool getSFN(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_s_f_n_8cpp_source.html#l00023">FatFileSFN.cpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa4f9886887947815a61eaf015996932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::getpos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_fat_pos__t.html">FatPos_t</a> *&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get position for streams </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>struct to receive position </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00251">251</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="fstream_8h_source.html#l00119">fstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00204">ifstream::open()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00686">peek()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                  {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  pos-&gt;<a class="code" href="struct_fat_pos__t.html#a8e14c6f2705777502b543452743eaa26">position</a> = <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  pos-&gt;<a class="code" href="struct_fat_pos__t.html#a7b50657b0debaf0e6231af2c74a655fe">cluster</a> = <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="struct_fat_pos__t_html_a8e14c6f2705777502b543452743eaa26"><div class="ttname"><a href="struct_fat_pos__t.html#a8e14c6f2705777502b543452743eaa26">FatPos_t::position</a></div><div class="ttdeci">uint32_t position</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00068">FatFile.h:68</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="struct_fat_pos__t_html_a7b50657b0debaf0e6231af2c74a655fe"><div class="ttname"><a href="struct_fat_pos__t.html#a7b50657b0debaf0e6231af2c74a655fe">FatPos_t::cluster</a></div><div class="ttdeci">uint32_t cluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00070">FatFile.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba30e92a66f8e0d2f815c85662772a58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::getSFN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a file's Short <a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> Name followed by a zero byte.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">name</td><td>An array of characters for the file's name. The array must be at least 13 bytes long. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true, is returned for success and the value false, is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00023">23</a> du fichier <a class="el" href="_fat_file_s_f_n_8cpp_source.html">FatFileSFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, et <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                               {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#aa4a206803a4bf8243be20244c1aef4d2">isRoot</a>()) {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[0] = <span class="charliteral">&#39;/&#39;</span>;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  }</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="comment">// cache entry</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a>);</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// format name</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="class_fat_file.html#a648461081fe07578780f4cd3f246cb66">dirName</a>(dir, <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;fail:</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a30308c9b983377042fd2cc8900454fb1"><div class="ttname"><a href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00465">FatStructs.h:465</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html_aa4a206803a4bf8243be20244c1aef4d2"><div class="ttname"><a href="class_fat_file.html#aa4a206803a4bf8243be20244c1aef4d2">FatFile::isRoot</a></div><div class="ttdeci">bool isRoot() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00399">FatFile.h:399</a></div></div>
<div class="ttc" id="class_fat_file_html_a648461081fe07578780f4cd3f246cb66"><div class="ttname"><a href="class_fat_file.html#a648461081fe07578780f4cd3f246cb66">FatFile::dirName</a></div><div class="ttdeci">static uint8_t dirName(const dir_t *dir, char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00180">FatFile.cpp:180</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_cache_html_ae5ac564caf5c65f223a6f5c6adac0691"><div class="ttname"><a href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00106">FatVolume.h:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8062c0d3a118e8d77d0310418703d5f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::getWriteError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>value of writeError </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00176">176</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00053">PrintFile::~PrintFile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                       {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> &amp; <a class="code" href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">WRITE_ERROR</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_a6e494d044c64dee482b0c25ded6595c1"><div class="ttname"><a href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">FatFile::WRITE_ERROR</a></div><div class="ttdeci">static const uint8_t WRITE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00975">FatFile.h:975</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef41d65e0f1ce753d18cc9ed691f7de4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is a directory else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00379">379</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00125">FatFileSystem::chdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00203">dirSize()</a>, <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00809">readDir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>, <a class="el" href="_fat_file_8h_source.html#l00804">setCwd()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                     {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#a1ea3743e913b35de19b14e490b044707">FILE_ATTR_DIR</a>;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a1ea3743e913b35de19b14e490b044707"><div class="ttname"><a href="class_fat_file.html#a1ea3743e913b35de19b14e490b044707">FatFile::FILE_ATTR_DIR</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_DIR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00939">FatFile.h:939</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afcf6270ea8d4a3a5f8e89523bc684e22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is a normal file else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00383">383</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01198">timestamp()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                      {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FILE_ATTR_FILE</a>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_a6fc6734b7277948e48f048d21df45cf1"><div class="ttname"><a href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FatFile::FILE_ATTR_FILE</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_FILE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00929">FatFile.h:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7eefe7408f34b6326f0c6e78af7eb05f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isHidden </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is a hidden file else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00387">387</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>.</p>
<div class="fragment"><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                        {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#a7e23c1309f38788a55dcd1f7bcc9f73a">FILE_ATTR_HIDDEN</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a7e23c1309f38788a55dcd1f7bcc9f73a"><div class="ttname"><a href="class_fat_file.html#a7e23c1309f38788a55dcd1f7bcc9f73a">FatFile::FILE_ATTR_HIDDEN</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_HIDDEN</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00925">FatFile.h:925</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed36d17f8fde597b6ed9446faec1f7e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isLFN </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>true if this file has a Long <a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> Name. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00391">391</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>.</p>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                     {</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a5f4cf71ff0efdb6eef8be307df0c9fa5"><div class="ttname"><a href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">FatFile::m_lfnOrd</a></div><div class="ttdeci">uint8_t m_lfnOrd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00980">FatFile.h:980</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4c8a07b081f04aa25839c6f56c739bdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is an open file/directory else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00395">395</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00023">getSFN()</a>, <a class="el" href="fstream_8h_source.html#l00119">fstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00195">ifstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00280">ofstream::is_open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00653">openRoot()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                      {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6872d3acb1e70f81c9c2be2495977583"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isReadOnly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if file is read-only </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00411">411</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                          {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#acd88a486baf4ea3b00022a46332eddb4">FILE_ATTR_READ_ONLY</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_acd88a486baf4ea3b00022a46332eddb4"><div class="ttname"><a href="class_fat_file.html#acd88a486baf4ea3b00022a46332eddb4">FatFile::FILE_ATTR_READ_ONLY</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_READ_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00923">FatFile.h:923</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4a206803a4bf8243be20244c1aef4d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isRoot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is the root directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00399">399</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00023">getSFN()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                      {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#a8e31200f87b9bf094779d2024d91eb81">FILE_ATTR_ROOT</a>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a8e31200f87b9bf094779d2024d91eb81"><div class="ttname"><a href="class_fat_file.html#a8e31200f87b9bf094779d2024d91eb81">FatFile::FILE_ATTR_ROOT</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_ROOT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00937">FatFile.h:937</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1449b294e3a838396c62e47674ca8cf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isRoot32 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is the FAT32 root directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00403">403</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00203">dirSize()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                        {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FILE_ATTR_ROOT32</a>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_abc90097077f2147a474123b0942fde70"><div class="ttname"><a href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FatFile::FILE_ATTR_ROOT32</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_ROOT32</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00935">FatFile.h:935</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8215bd4b21e11ec83fa88ef226ceb06f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isRootFixed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is the FAT12 of FAT16 root directory. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00407">407</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00036">addDirCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00203">dirSize()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                           {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FILE_ATTR_ROOT_FIXED</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a42aa9a9acb2365652bcb0f266e26e200"><div class="ttname"><a href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FatFile::FILE_ATTR_ROOT_FIXED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_ROOT_FIXED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00933">FatFile.h:933</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95b503b17442c2b364a2f53de1b2aeba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isSubDir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is a subdirectory else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00415">415</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                        {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_abfe242bc0d32d9fd6cf0359e8b1ac7d7"><div class="ttname"><a href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FatFile::FILE_ATTR_SUBDIR</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_SUBDIR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00931">FatFile.h:931</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="add932e13e5bf32ad467af6ec34824e3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::isSystem </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd>True if this is a system file else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00419">419</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                        {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> &amp; <a class="code" href="class_fat_file.html#a858c0d7e0c1be7ad8e47ab8bc4cd0665">FILE_ATTR_SYSTEM</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_a858c0d7e0c1be7ad8e47ab8bc4cd0665"><div class="ttname"><a href="class_fat_file.html#a858c0d7e0c1be7ad8e47ab8bc4cd0665">FatFile::FILE_ATTR_SYSTEM</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_SYSTEM</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00927">FatFile.h:927</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a94df8090f16e9666cdc53ca20f6aff90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool FatFile::legal83Char </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check for a legal 8.3 character. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>Character to be checked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>true for a legal 8.3 character else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00426">426</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00177">parsePathName()</a>, et <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                     {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;&quot;&#39;</span> || c == <span class="charliteral">&#39;|&#39;</span>) {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// *+,./</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">if</span> (0X2A &lt;= c &amp;&amp; c &lt;= 0X2F &amp;&amp; c != 0X2D) {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">// :;&lt;=&gt;?</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span> (0X3A &lt;= c &amp;&amp; c &lt;= 0X3F) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// [\]</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (0X5B &lt;= c &amp;&amp; c &lt;= 0X5D) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> 0X20 &lt; c &amp;&amp; c &lt; 0X7F;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a633920e38e1f91f0d7b7c7646633735a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::lfnChecksum </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00023">23</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00416">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, et <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                                          {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  uint8_t sum = 0;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 11; i++) {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    sum = (((sum &amp; 1) &lt;&lt; 7) | ((sum &amp; 0xfe) &gt;&gt; 1)) + <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[i];</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  }</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  <span class="keywordflow">return</span> sum;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div><div class="ttc" id="_fat_structs_8h_html_a30308c9b983377042fd2cc8900454fb1"><div class="ttname"><a href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00465">FatStructs.h:465</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a288487f9a5be87ba2fc5d3076426749f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::lfnUniqueSfn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfname__t.html">fname_t</a> *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00628">628</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00288">open()</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                                         {</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keyword">const</span> uint8_t FIRST_HASH_SEQ = 2;  <span class="comment">// min value is 2</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  uint8_t pos = fname-&gt;<a class="code" href="structfname__t.html#a96b7c779dec8dd568be3290451078a4e">seqPos</a>;;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a> *dir;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  uint16_t <a class="code" href="ios_8h.html#ace2036d970905192360d622140bfe336">hex</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  DBG_HALT_IF(!(fname-&gt;<a class="code" href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">flags</a> &amp; <a class="code" href="_fat_file_8h.html#acd45286b7dfc5ba68be18c8c3a9d298d">FNAME_FLAG_LOST_CHARS</a>));</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  DBG_HALT_IF(fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[pos] != <span class="charliteral">&#39;~&#39;</span> &amp;&amp; fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[pos + 1] != <span class="charliteral">&#39;1&#39;</span>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">for</span> (uint8_t seq = 2; seq &lt; 100; seq++) {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="keywordflow">if</span> (seq &lt; FIRST_HASH_SEQ) {</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[pos + 1] = <span class="charliteral">&#39;0&#39;</span> + seq;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      DBG_PRINT_IF(seq &gt; FIRST_HASH_SEQ);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      hex = <a class="code" href="_fat_file_l_f_n_8cpp.html#a262d99130b847dd0190aed04947b1fd5">Bernstein</a>(seq + fname-&gt;<a class="code" href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">len</a>, fname-&gt;<a class="code" href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">lfn</a>, fname-&gt;<a class="code" href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">len</a>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keywordflow">if</span> (pos &gt; 3) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="comment">// Make space in name for ~HHHH.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        pos = 3;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">for</span> (uint8_t i = pos + 4 ; i &gt; pos; i--) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        uint8_t h = hex &amp; 0XF;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[i] = h &lt; 10 ? h + <span class="charliteral">&#39;0&#39;</span> : h + <span class="charliteral">&#39;A&#39;</span> - 10;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        hex &gt;&gt;= 4;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      }</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[pos] = <span class="charliteral">&#39;~&#39;</span>;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      dir = <a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a>()) {</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          <span class="comment">// At EOF and name not found if no error.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;          <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      }</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir) &amp;&amp; !memcmp(fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>, dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>, 11)) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="comment">// Name found - try another.</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  }</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">// fall inti fail - too many tries.</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  DBG_FAIL_MACRO;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;fail:</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;done:</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div><div class="ttc" id="structfname__t_html_a76ffd7abd5b7d3acf90b329c905770fd"><div class="ttname"><a href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">fname_t::lfn</a></div><div class="ttdeci">const char * lfn</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00087">FatFile.h:87</a></div></div>
<div class="ttc" id="structfname__t_html_a471184cc4c2671526d7d6fb80b2fe20c"><div class="ttname"><a href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">fname_t::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00085">FatFile.h:85</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="ios_8h_html_ace2036d970905192360d622140bfe336"><div class="ttname"><a href="ios_8h.html#ace2036d970905192360d622140bfe336">hex</a></div><div class="ttdeci">ios_base &amp; hex(ios_base &amp;str)</div><div class="ttdef"><b>Definition:</b> <a href="ios_8h_source.html#l00232">ios.h:232</a></div></div>
<div class="ttc" id="_fat_file_8h_html_acd45286b7dfc5ba68be18c8c3a9d298d"><div class="ttname"><a href="_fat_file_8h.html#acd45286b7dfc5ba68be18c8c3a9d298d">FNAME_FLAG_LOST_CHARS</a></div><div class="ttdeci">const uint8_t FNAME_FLAG_LOST_CHARS</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00094">FatFile.h:94</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_a262d99130b847dd0190aed04947b1fd5"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#a262d99130b847dd0190aed04947b1fd5">Bernstein</a></div><div class="ttdeci">static uint16_t Bernstein(uint16_t hash, const char *str, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00039">FatFileLFN.cpp:39</a></div></div>
<div class="ttc" id="class_fat_file_html_ad0dbbd083180f44c7a3ce7124d4ce19c"><div class="ttname"><a href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">FatFile::getError</a></div><div class="ttdeci">uint8_t getError()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00188">FatFile.h:188</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="structfname__t_html_a37ed0c108b1feb81be4f8c041a4336bd"><div class="ttname"><a href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">fname_t::sfn</a></div><div class="ttdeci">uint8_t sfn[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00091">FatFile.h:91</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="structfname__t_html_a39c69edff13165c6e03b308104e7286d"><div class="ttname"><a href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">fname_t::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00083">FatFile.h:83</a></div></div>
<div class="ttc" id="structfname__t_html_a96b7c779dec8dd568be3290451078a4e"><div class="ttname"><a href="structfname__t.html#a96b7c779dec8dd568be3290451078a4e">fname_t::seqPos</a></div><div class="ttdeci">uint8_t seqPos</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00089">FatFile.h:89</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad49f688a494b351ccbb0102dcfafb925"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::ls </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>List directory contents.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>The inclusive OR of</td></tr>
  </table>
  </dd>
</dl>
<p>LS_DATE - Print file modification date</p>
<p>LS_SIZE - Print file size.</p>
<p>LS_R - Recursive list of subdirectories. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00144">144</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00183">FatFileSystem::ls()</a>, et <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                             {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="class_fat_file.html#ad49f688a494b351ccbb0102dcfafb925">ls</a>(&amp;Serial, flags);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_ad49f688a494b351ccbb0102dcfafb925"><div class="ttname"><a href="class_fat_file.html#ad49f688a494b351ccbb0102dcfafb925">FatFile::ls</a></div><div class="ttdeci">void ls(uint8_t flags=0)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00144">FatFile.h:144</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acabf31ff85e696fbf384c49428012fea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::ls </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>indent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List directory contents.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for list.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>The inclusive OR of</td></tr>
  </table>
  </dd>
</dl>
<p>LS_DATE - Print file modification date</p>
<p>LS_SIZE - Print file size.</p>
<p>LS_R - Recursive list of subdirectories.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">indent</td><td>Amount of space before file name. Used for recursive list to indicate subdirectory level. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00094">94</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                                           {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> file;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">while</span> (file.<a class="code" href="class_fat_file.html#a8034c4649eb0d26715b1a8a69e73d9d0">openNext</a>(<span class="keyword">this</span>, <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// indent for dir level</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (!file.<a class="code" href="class_fat_file.html#a7eefe7408f34b6326f0c6e78af7eb05f">isHidden</a>() || (flags &amp; <a class="code" href="_fat_api_constants_8h.html#a7236661eda877d8844808636e9938d10">LS_A</a>)) {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; indent; i++) {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">if</span> (flags &amp; <a class="code" href="_fat_api_constants_8h.html#ac78cfe032599ef1f5723c62106017fcd">LS_DATE</a>) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        file.<a class="code" href="class_fat_file.html#a05cee5df46a370bf916d3ba597c82e39">printModifyDateTime</a>(pr);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">if</span> (flags &amp; <a class="code" href="_fat_api_constants_8h.html#a8170e56f2df0139f3acd73c35636fa7f">LS_SIZE</a>) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        file.<a class="code" href="class_fat_file.html#a12a5d2de2737c201aa39ca1bd2ab9c47">printFileSize</a>(pr);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      file.<a class="code" href="class_fat_file.html#ad1cbc3aeb0f5193b7a26595966da9621">printName</a>(pr);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">if</span> (file.<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        pr-&gt;write(<span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      pr-&gt;write(<span class="charliteral">&#39;\r&#39;</span>);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      pr-&gt;write(<span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="_fat_api_constants_8h.html#af90ecd4124f4c2563b37174be91e76f9">LS_R</a>) &amp;&amp; file.<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        file.<a class="code" href="class_fat_file.html#ad49f688a494b351ccbb0102dcfafb925">ls</a>(pr, flags, indent + 2);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    file.<a class="code" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div><div class="ttc" id="_fat_api_constants_8h_html_af90ecd4124f4c2563b37174be91e76f9"><div class="ttname"><a href="_fat_api_constants_8h.html#af90ecd4124f4c2563b37174be91e76f9">LS_R</a></div><div class="ttdeci">uint8_t const LS_R</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00058">FatApiConstants.h:58</a></div></div>
<div class="ttc" id="class_fat_file_html_afd16af325e0642e4bff6430b7d8bb18b"><div class="ttname"><a href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">FatFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00090">FatFile.cpp:90</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a7236661eda877d8844808636e9938d10"><div class="ttname"><a href="_fat_api_constants_8h.html#a7236661eda877d8844808636e9938d10">LS_A</a></div><div class="ttdeci">uint8_t const LS_A</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00052">FatApiConstants.h:52</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_a8034c4649eb0d26715b1a8a69e73d9d0"><div class="ttname"><a href="class_fat_file.html#a8034c4649eb0d26715b1a8a69e73d9d0">FatFile::openNext</a></div><div class="ttdeci">bool openNext(FatFile *dirFile, uint8_t oflag=O_READ)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00541">FatFile.cpp:541</a></div></div>
<div class="ttc" id="class_fat_file_html_a12a5d2de2737c201aa39ca1bd2ab9c47"><div class="ttname"><a href="class_fat_file.html#a12a5d2de2737c201aa39ca1bd2ab9c47">FatFile::printFileSize</a></div><div class="ttdeci">size_t printFileSize(print_t *pr)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00239">FatFilePrint.cpp:239</a></div></div>
<div class="ttc" id="class_fat_file_html_a7eefe7408f34b6326f0c6e78af7eb05f"><div class="ttname"><a href="class_fat_file.html#a7eefe7408f34b6326f0c6e78af7eb05f">FatFile::isHidden</a></div><div class="ttdeci">bool isHidden() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00387">FatFile.h:387</a></div></div>
<div class="ttc" id="class_fat_file_html_ad49f688a494b351ccbb0102dcfafb925"><div class="ttname"><a href="class_fat_file.html#ad49f688a494b351ccbb0102dcfafb925">FatFile::ls</a></div><div class="ttdeci">void ls(uint8_t flags=0)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00144">FatFile.h:144</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac78cfe032599ef1f5723c62106017fcd"><div class="ttname"><a href="_fat_api_constants_8h.html#ac78cfe032599ef1f5723c62106017fcd">LS_DATE</a></div><div class="ttdeci">uint8_t const LS_DATE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00054">FatApiConstants.h:54</a></div></div>
<div class="ttc" id="class_fat_file_html_ad1cbc3aeb0f5193b7a26595966da9621"><div class="ttname"><a href="class_fat_file.html#ad1cbc3aeb0f5193b7a26595966da9621">FatFile::printName</a></div><div class="ttdeci">size_t printName()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00170">FatFile.h:170</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="class_fat_file_html_a05cee5df46a370bf916d3ba597c82e39"><div class="ttname"><a href="class_fat_file.html#a05cee5df46a370bf916d3ba597c82e39">FatFile::printModifyDateTime</a></div><div class="ttdeci">bool printModifyDateTime(print_t *pr)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00223">FatFilePrint.cpp:223</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a8170e56f2df0139f3acd73c35636fa7f"><div class="ttname"><a href="_fat_api_constants_8h.html#a8170e56f2df0139f3acd73c35636fa7f">LS_SIZE</a></div><div class="ttdeci">uint8_t const LS_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00056">FatApiConstants.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abab5b9f72cc796388dd4eed01d13d90d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::mkdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pFlag</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make a new directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>An open <a class="el" href="class_fat_file.html" title="Basic file class. ">FatFile</a> instance for the directory that will contain the new directory.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>A path with a valid 8.3 DOS name for the new directory.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pFlag</td><td>Create missing parent directories if true.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00256">256</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00216">FatFileSystem::mkdir()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>.</p>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                                                 {</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="structfname__t.html">fname_t</a> fname;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> tmpDir;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || !parent-&gt;isDir()) {</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (isDirSeparator(*path)) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">while</span> (isDirSeparator(*path)) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      path++;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (!tmpDir.<a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(parent-&gt;m_vol)) {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    parent = &amp;tmpDir;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a719528103a29020b7774bdad8c25bc58">parsePathName</a>(path, &amp;fname, &amp;path)) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (!*path) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(parent, &amp;fname, <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">if</span> (!pFlag || !<a class="code" href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">mkdir</a>(parent, &amp;fname)) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    tmpDir = *<span class="keyword">this</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    parent = &amp;tmpDir;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a>();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">mkdir</a>(parent, &amp;fname);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;fail:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div><div class="ttc" id="class_fat_file_html_afd16af325e0642e4bff6430b7d8bb18b"><div class="ttname"><a href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">FatFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00090">FatFile.cpp:90</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_abab5b9f72cc796388dd4eed01d13d90d"><div class="ttname"><a href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">FatFile::mkdir</a></div><div class="ttdeci">bool mkdir(FatFile *dir, const char *path, bool pFlag=true)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00256">FatFile.cpp:256</a></div></div>
<div class="ttc" id="class_fat_file_html_a7e0c0548fed3a69e7284b91b694439d4"><div class="ttname"><a href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">FatFile::openRoot</a></div><div class="ttdeci">bool openRoot(FatVolume *vol)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00653">FatFile.cpp:653</a></div></div>
<div class="ttc" id="structfname__t_html"><div class="ttname"><a href="structfname__t.html">fname_t</a></div><div class="ttdoc">Internal type for Short File Name - do not use in user apps. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00081">FatFile.h:81</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_file_html_a719528103a29020b7774bdad8c25bc58"><div class="ttname"><a href="class_fat_file.html#a719528103a29020b7774bdad8c25bc58">FatFile::parsePathName</a></div><div class="ttdeci">static bool parsePathName(const char *str, fname_t *fname, const char **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00177">FatFileLFN.cpp:177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5669c1a6d8c83939270ecfcfc772bea5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::mkdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfname__t.html">fname_t</a> *&#160;</td>
          <td class="paramname"><em>fname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00298">298</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                                   {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  uint32_t block;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a> dot;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* pc;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span> (!parent-&gt;<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// create a normal file</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(parent, fname, <a class="code" href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a> | <a class="code" href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a> | <a class="code" href="_fat_api_constants_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">O_RDWR</a>)) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="comment">// convert file to directory</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> = <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// allocate and zero first cluster</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aa65510f81a364343bb7b21f86b5a35b5">addDirCluster</a>()) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// Set to start of dir</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// force entry to device</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>()) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// cache entry - should already be in cache due to sync() call</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// change directory entry  attribute</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">attributes</a> = <a class="code" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a>;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// make entry for &#39;.&#39;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  memcpy(&amp;dot, dir, <span class="keyword">sizeof</span>(dot));</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  dot.<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">for</span> (uint8_t i = 1; i &lt; 11; i++) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    dot.<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[i] = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// cache block for &#39;.&#39;  and &#39;..&#39;</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(block, <a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// copy &#39;.&#39; to block</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  memcpy(&amp;pc-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a>[0], &amp;dot, <span class="keyword">sizeof</span>(dot));</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">// make entry for &#39;..&#39;</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  dot.<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[1] = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  dot.<a class="code" href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">firstClusterLow</a> = parent-&gt;<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> &amp; 0XFFFF;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  dot.<a class="code" href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">firstClusterHigh</a> = parent-&gt;<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> &gt;&gt; 16;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">// copy &#39;..&#39; to block</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  memcpy(&amp;pc-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a>[1], &amp;dot, <span class="keyword">sizeof</span>(dot));</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// write first block</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>();</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;fail:</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a16c6cde55c8175c90935c386f1cfb21a"><div class="ttname"><a href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">directoryEntry::attributes</a></div><div class="ttdeci">uint8_t attributes</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00504">FatStructs.h:504</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ab5635d4288cb294c1ed000fa183e072b"><div class="ttname"><a href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a></div><div class="ttdeci">uint8_t const O_EXCL</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00047">FatApiConstants.h:47</a></div></div>
<div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a20d0ef801486dd02de6ee482de731193"><div class="ttname"><a href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a></div><div class="ttdeci">uint8_t const O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00045">FatApiConstants.h:45</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a74bd660417a9c3501eae353326c14bb9"><div class="ttname"><a href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">directoryEntry::firstClusterLow</a></div><div class="ttdeci">uint16_t firstClusterLow</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00536">FatStructs.h:536</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a3f9e7ceac3e0a9aebead998e88349139"><div class="ttname"><a href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a></div><div class="ttdeci">uint8_t const DIR_ATT_DIRECTORY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00560">FatStructs.h:560</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a3b492598b2b05e8425d2a500443613bd"><div class="ttname"><a href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">directoryEntry::firstClusterHigh</a></div><div class="ttdeci">uint16_t firstClusterHigh</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00530">FatStructs.h:530</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ad79c5a45cb5e4855b771629fc15d78f6"><div class="ttname"><a href="_fat_api_constants_8h.html#ad79c5a45cb5e4855b771629fc15d78f6">O_RDWR</a></div><div class="ttdeci">uint8_t const O_RDWR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00033">FatApiConstants.h:33</a></div></div>
<div class="ttc" id="unioncache__t_html_a7396fdbdb7c52bd1d72c5329ff32acd1"><div class="ttname"><a href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">cache_t::dir</a></div><div class="ttdeci">dir_t dir[16]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00079">FatVolume.h:79</a></div></div>
<div class="ttc" id="class_fat_file_html_aa65510f81a364343bb7b21f86b5a35b5"><div class="ttname"><a href="class_fat_file.html#aa65510f81a364343bb7b21f86b5a35b5">FatFile::addDirCluster</a></div><div class="ttdeci">bool addDirCluster()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00036">FatFile.cpp:36</a></div></div>
<div class="ttc" id="class_fat_file_html_abfe242bc0d32d9fd6cf0359e8b1ac7d7"><div class="ttname"><a href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FatFile::FILE_ATTR_SUBDIR</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_SUBDIR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00931">FatFile.h:931</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5f64576d3d19177ab3cf3812b69abdfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file_system.html">FatFileSystem</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file in the volume working directory of a <a class="el" href="class_fat_file_system.html" title="Integration class for the FatLib library. ">FatFileSystem</a>.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs</td><td><a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> System where the file is located.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>with a valid 8.3 DOS name for a file to be opened.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oflag</td><td>bitwise-inclusive OR of open mode flags. See see <a class="el" href="class_fat_file.html#a211be757679b18708f6b6a36464e4f61">FatFile::open(FatFile*, const char*, uint8_t)</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00368">368</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00125">FatFileSystem::chdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8h_source.html#l00325">exists()</a>, <a class="el" href="_stdio_stream_8cpp_source.html#l00092">StdioStream::fopen()</a>, <a class="el" href="fstream_8h_source.html#l00074">fstream::fstream()</a>, <a class="el" href="fstream_8h_source.html#l00182">ifstream::ifstream()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00201">FatFileSystem::ls()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="fstream_8h_source.html#l00251">ofstream::ofstream()</a>, <a class="el" href="fstream_8h_source.html#l00115">fstream::open()</a>, <a class="el" href="fstream_8h_source.html#l00204">ifstream::open()</a>, <a class="el" href="fstream_8h_source.html#l00276">ofstream::open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_the_player_8cpp_source.html#l00659">ThePlayer::play()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00865">remove()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00247">FatFileSystem::rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00264">FatFileSystem::rmdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00282">FatFileSystem::truncate()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                                                     {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(fs-&gt;<a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>(), path, oflag);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_file_system_html_acf257d02b7166683bda2abc5058004bf"><div class="ttname"><a href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">FatFileSystem::vwd</a></div><div class="ttdeci">FatFile * vwd()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_system_8h_source.html#l00294">FatFileSystem.h:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad3fa9daaccb4e4179fb88a8ca037aa80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file by index.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFile</td><td>An open <a class="el" href="class_fat_file.html" title="Basic file class. ">FatFile</a> instance for the directory.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>The <em>index</em> of the directory entry for the file to be opened. The value for <em>index</em> is (directory file position)/32.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oflag</td><td>bitwise-inclusive OR of open mode flags. See see <a class="el" href="class_fat_file.html#a211be757679b18708f6b6a36464e4f61">FatFile::open(FatFile*, const char*, uint8_t)</a>.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open()</a> by path for definition of flags. </p><dl class="section return"><dt>Renvoie</dt><dd>true for success or false for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00416">416</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                                                  {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  uint8_t <a class="code" href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a> = 0;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  uint8_t lfnOrd = 0;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <a class="code" href="structlong_directory_entry.html">ldir_t</a>*ldir;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// Error if already open.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || !dirFile-&gt;<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="comment">// Don&#39;t open existing file if O_EXCL - user call error.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">if</span> (oflag &amp; <a class="code" href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a>) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (index) {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// Check for LFN.</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (!dirFile-&gt;<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(32UL*(index -1))) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>());</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (!ldir) {</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">attr</a> == <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a>) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">if</span> (1 == (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; 0X1F)) {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        chksum = ldir-&gt;<a class="code" href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">chksum</a>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="comment">// Use largest possible number.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        lfnOrd = index &gt; 20 ? 20 : index;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    dirFile-&gt;<a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">// read entry into cache</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  dir = dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">// error if empty slot or &#39;.&#39; or &#39;..&#39;</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> ||</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a> ||</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">if</span> (lfnOrd &amp;&amp; chksum != <a class="code" href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">lfnChecksum</a>(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>)) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">// open cached entry</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">openCachedEntry</a>(dirFile, index, oflag, lfnOrd)) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;fail:</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div><div class="ttc" id="structlong_directory_entry_html_aa36bf1210d0c2b3b80948e5f697eb02e"><div class="ttname"><a href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">longDirectoryEntry::attr</a></div><div class="ttdeci">uint8_t attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00727">FatStructs.h:727</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a60c35531bc0e12f2d764d290244f8cc9"><div class="ttname"><a href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">longDirectoryEntry::chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00739">FatStructs.h:739</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ab5635d4288cb294c1ed000fa183e072b"><div class="ttname"><a href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a></div><div class="ttdeci">uint8_t const O_EXCL</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00047">FatApiConstants.h:47</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a0d3f6fbbd34126b2d5563bba65220985"><div class="ttname"><a href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a></div><div class="ttdeci">uint8_t const DIR_ATT_LONG_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00565">FatStructs.h:565</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a1b65e85dd63d0708cd1b875ce4e5e338"><div class="ttname"><a href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">longDirectoryEntry::ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00723">FatStructs.h:723</a></div></div>
<div class="ttc" id="structlong_directory_entry_html"><div class="ttname"><a href="structlong_directory_entry.html">longDirectoryEntry</a></div><div class="ttdoc">FAT long directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00713">FatStructs.h:713</a></div></div>
<div class="ttc" id="class_fat_file_html_a836e6a29971223310c1f253e7f053a4c"><div class="ttname"><a href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">FatFile::openCachedEntry</a></div><div class="ttdeci">bool openCachedEntry(FatFile *dirFile, uint16_t cacheIndex, uint8_t oflag, uint8_t lfnOrd)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00483">FatFile.cpp:483</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a385e330c40b5fc7d8aa0619183f6705a"><div class="ttname"><a href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00734">FatStructs.h:734</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="class_fat_file_html_a633920e38e1f91f0d7b7c7646633735a"><div class="ttname"><a href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">FatFile::lfnChecksum</a></div><div class="ttdeci">static uint8_t lfnChecksum(uint8_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00023">FatFileLFN.cpp:23</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a211be757679b18708f6b6a36464e4f61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file or directory by name.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFile</td><td>An open <a class="el" href="class_fat_file.html" title="Basic file class. ">FatFile</a> instance for the directory containing the file to be opened.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>A path with a valid 8.3 DOS name for a file to be opened.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oflag</td><td>Values for <em>oflag</em> are constructed by a bitwise-inclusive OR of flags from the following list</td></tr>
  </table>
  </dd>
</dl>
<p>O_READ - Open for reading.</p>
<p>O_RDONLY - Same as O_READ.</p>
<p>O_WRITE - Open for writing.</p>
<p>O_WRONLY - Same as O_WRITE.</p>
<p>O_RDWR - Open for reading and writing.</p>
<p>O_APPEND - If set, the file offset shall be set to the end of the file prior to each write.</p>
<p>O_AT_END - Set the initial position at the end of the file.</p>
<p>O_CREAT - If the file exists, this flag has no effect except as noted under O_EXCL below. Otherwise, the file shall be created</p>
<p>O_EXCL - If O_CREAT and O_EXCL are set, <a class="el" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open()</a> shall fail if the file exists.</p>
<p>O_SYNC - Call <a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync()</a> after each write. This flag should not be used with <a class="el" href="class_fat_file.html#a5524bd9f3b8f54ee163e391cba618186">write(uint8_t)</a> or any functions do character at a time writes since <a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync()</a> will be called after each byte.</p>
<p>O_TRUNC - If the file exists and is a regular file, and the file is successfully opened and is not read only, its length shall be truncated to 0.</p>
<p>WARNING: A given file must not be opened by more than one <a class="el" href="class_fat_file.html" title="Basic file class. ">FatFile</a> object or file corruption may occur.</p>
<dl class="section note"><dt>Note</dt><dd>Directory files must be opened read only. Write and truncation is not allowed for directory files.</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00372">372</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                                                    {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> tmpDir;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="structfname__t.html">fname_t</a> fname;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// error if already open</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || !dirFile-&gt;<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> (isDirSeparator(*path)) {</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">while</span> (isDirSeparator(*path)) {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      path++;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (*path == 0) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (!tmpDir.<a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>)) {</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    dirFile = &amp;tmpDir;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a719528103a29020b7774bdad8c25bc58">parsePathName</a>(path, &amp;fname, &amp;path)) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (*path == 0) {</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(dirFile, &amp;fname, <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    tmpDir = *<span class="keyword">this</span>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    dirFile = &amp;tmpDir;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a>();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(dirFile, &amp;fname, oflag);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;fail:</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div><div class="ttc" id="class_fat_file_html_afd16af325e0642e4bff6430b7d8bb18b"><div class="ttname"><a href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">FatFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00090">FatFile.cpp:90</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_a7e0c0548fed3a69e7284b91b694439d4"><div class="ttname"><a href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">FatFile::openRoot</a></div><div class="ttdeci">bool openRoot(FatVolume *vol)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00653">FatFile.cpp:653</a></div></div>
<div class="ttc" id="structfname__t_html"><div class="ttname"><a href="structfname__t.html">fname_t</a></div><div class="ttdoc">Internal type for Short File Name - do not use in user apps. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00081">FatFile.h:81</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_file_html_a719528103a29020b7774bdad8c25bc58"><div class="ttname"><a href="class_fat_file.html#a719528103a29020b7774bdad8c25bc58">FatFile::parsePathName</a></div><div class="ttdeci">static bool parsePathName(const char *str, fname_t *fname, const char **ptr)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00177">FatFileLFN.cpp:177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab0e7075062c89f356441f80fc64d03e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::open </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em> = <code><a class="el" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open a file in the current working directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>A path with a valid 8.3 DOS name for a file to be opened.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oflag</td><td>bitwise-inclusive OR of open mode flags. See see <a class="el" href="class_fat_file.html#a211be757679b18708f6b6a36464e4f61">FatFile::open(FatFile*, const char*, uint8_t)</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00557">557</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                                                      {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(<a class="code" href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">m_cwd</a>, path, oflag);</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a0388ab43da6abd32ae4f3a2a4d4c3c6e"><div class="ttname"><a href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">FatFile::m_cwd</a></div><div class="ttdeci">static FatFile * m_cwd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00971">FatFile.h:971</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a870bc8946848ae98e959c41f5759758a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfname__t.html">fname_t</a> *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00288">288</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                                                  {</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordtype">bool</span> fnameFound = <span class="keyword">false</span>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  uint8_t lfnOrd = 0;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  uint8_t freeNeed;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  uint8_t freeFound = 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  uint8_t <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> = 0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  uint8_t <a class="code" href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a> = 0;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  uint16_t freeIndex = 0;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  uint16_t curIndex;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <a class="code" href="structlong_directory_entry.html">ldir_t</a>* ldir;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordtype">size_t</span> len = fname-&gt;<a class="code" href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">len</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (!dirFile-&gt;<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>() || <a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">// Number of directory entries needed.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  freeNeed = fname-&gt;<a class="code" href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">flags</a> &amp; <a class="code" href="_fat_file_8h.html#a1a041207a19d2fd9a1e2739343ccb29b">FNAME_FLAG_NEED_LFN</a> ? 1 + (len + 12)/13 : 1;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  dirFile-&gt;<a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    curIndex = dirFile-&gt;<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>/32;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    dir = dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keywordflow">if</span> (dirFile-&gt;<a class="code" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a>()) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// At EOF</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">goto</span> create;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keywordflow">if</span> (freeFound == 0) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        freeIndex = curIndex;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordflow">if</span> (freeFound &lt; freeNeed) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        freeFound++;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">goto</span> create;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <span class="keywordflow">if</span> (freeFound &lt; freeNeed) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        freeFound = 0;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// skip empty slot or &#39;.&#39; or &#39;..&#39;</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      lfnOrd = 0;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a504c3d996b412f386becc27a8c49cd2c">DIR_IS_LONG_NAME</a>(dir)) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <a class="code" href="structlong_directory_entry.html">ldir_t</a> *ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dir);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordflow">if</span> (!lfnOrd) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">if</span> ((ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; <a class="code" href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a>) == 0) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        lfnOrd = ord = ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; 0X1F;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        chksum = ldir-&gt;<a class="code" href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">chksum</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> != --ord || chksum != ldir-&gt;<a class="code" href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">chksum</a>) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        lfnOrd = 0;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordtype">size_t</span> k = 13*(ord - 1);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keywordflow">if</span> (k &gt;= len) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="comment">// Not found.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        lfnOrd = 0;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      }</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 13; i++) {</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        uint16_t u = <a class="code" href="_fat_file_l_f_n_8cpp.html#ad6555afa1c9efbea1cba6a818009026d">lfnGetChar</a>(ldir, i);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> (k == len) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          <span class="keywordflow">if</span> (u != 0) {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="comment">// Not found.</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            lfnOrd = 0;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span> (u &gt; 255 || <a class="code" href="_fat_file_l_f_n_8cpp.html#a180b9bbb905fb1ac64e4b442798d91df">lfnToLower</a>(u) != <a class="code" href="_fat_file_l_f_n_8cpp.html#a180b9bbb905fb1ac64e4b442798d91df">lfnToLower</a>(fname-&gt;<a class="code" href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">lfn</a>[k++])) {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;          <span class="comment">// Not found.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          lfnOrd = 0;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir)) {</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keywordflow">if</span> (lfnOrd) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (1 == ord &amp;&amp; <a class="code" href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">lfnChecksum</a>(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>) == chksum) {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          <span class="keywordflow">goto</span> found;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">if</span> (!memcmp(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>, fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>, <span class="keyword">sizeof</span>(fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>))) {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">if</span> (!(fname-&gt;<a class="code" href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">flags</a> &amp; <a class="code" href="_fat_file_8h.html#acd45286b7dfc5ba68be18c8c3a9d298d">FNAME_FLAG_LOST_CHARS</a>)) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          <span class="keywordflow">goto</span> found;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        fnameFound = <span class="keyword">true</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      lfnOrd = 0;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;found:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// Don&#39;t open if create only.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> (oflag &amp; <a class="code" href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a>) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">goto</span> <a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;create:</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">// don&#39;t create unless O_CREAT and O_WRITE</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">if</span> (!(oflag &amp; <a class="code" href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a>) || !(oflag &amp; <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>)) {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// If at EOF start in next cluster.</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (freeFound == 0) {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    freeIndex = curIndex;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">while</span> (freeFound &lt; freeNeed) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    dir = dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>();</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      <span class="keywordflow">if</span> (dirFile-&gt;<a class="code" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a>()) {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="comment">// EOF if no error.</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    freeFound++;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">while</span> (freeFound &lt; freeNeed) {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// Will fail if FAT16 root.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!dirFile-&gt;<a class="code" href="class_fat_file.html#aa65510f81a364343bb7b21f86b5a35b5">addDirCluster</a>()) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">// Done if more than one block per cluster.  Max freeNeed is 21.</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>() &gt; 1) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    freeFound += 16;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  }</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">if</span> (fnameFound) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> (!dirFile-&gt;<a class="code" href="class_fat_file.html#a288487f9a5be87ba2fc5d3076426749f">lfnUniqueSfn</a>(fname)) {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (!dirFile-&gt;<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(32UL*freeIndex)) {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  lfnOrd = freeNeed - 1;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">for</span> (uint8_t ord = lfnOrd ; <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> ; ord--) {</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>());</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">if</span> (!ldir) {</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#adabdd40413c8b523523a34578c933ab1">cacheDirty</a>();</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> = ord == lfnOrd ? <a class="code" href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a> | ord : <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    ldir-&gt;<a class="code" href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">attr</a> = <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    ldir-&gt;<a class="code" href="structlong_directory_entry.html#a9adb019dbf24cce65c8d1419cd000f91">type</a> = 0;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    ldir-&gt;<a class="code" href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">chksum</a> = <a class="code" href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">lfnChecksum</a>(fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    ldir-&gt;<a class="code" href="structlong_directory_entry.html#af3055930e869875e49b32ef0b49c3649">mustBeZero</a> = 0;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="_fat_file_l_f_n_8cpp.html#a486fb7e2663b39fe7b11790f1bf665a2">lfnPutName</a>(ldir, fname-&gt;<a class="code" href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">lfn</a>, len);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  curIndex = dirFile-&gt;<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>/32;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  dir = dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// initialize as empty file</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  memset(dir, 0, <span class="keyword">sizeof</span>(<a class="code" href="structdirectory_entry.html">dir_t</a>));</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  memcpy(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>, fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>, 11);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Set base-name and extension lower case bits.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#afe7d00be85f3b78549b21610050da52b">reservedNT</a> =  (<a class="code" href="_fat_structs_8h.html#a39f9b8960dba007b537e9b71c25384fe">DIR_NT_LC_BASE</a> | <a class="code" href="_fat_structs_8h.html#a8766a8bbab6ad3da38c1b308545d7572">DIR_NT_LC_EXT</a>) &amp; fname-&gt;<a class="code" href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">flags</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">// set timestamps</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="group__digital_pin.html#ga85c3841bd970c06a711440166130e71c">if</a> (<a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a>) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">// call user date/time function</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a>(&amp;dir-&gt;<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a>, &amp;dir-&gt;<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">// use default date/time</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a> = <a class="code" href="_fat_structs_8h.html#a441bb1bc5f52d512656de3b86a279948">FAT_DEFAULT_DATE</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a> = <a class="code" href="_fat_structs_8h.html#a00451fc2d3563a2255797bd1f40507fb">FAT_DEFAULT_TIME</a>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">lastAccessDate</a> = dir-&gt;<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a> = dir-&gt;<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">lastWriteTime</a> = dir-&gt;<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// Force write of entry to device.</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#adabdd40413c8b523523a34578c933ab1">cacheDirty</a>();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>:</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// open entry in cache.</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">openCachedEntry</a>(dirFile, curIndex, oflag, lfnOrd)) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;fail:</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="ttc" id="structlong_directory_entry_html_aa36bf1210d0c2b3b80948e5f697eb02e"><div class="ttname"><a href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">longDirectoryEntry::attr</a></div><div class="ttdeci">uint8_t attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00727">FatStructs.h:727</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_ae204655dc23be1d048e8bebf2dfa5089"><div class="ttname"><a href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00718">FatStructs.h:718</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a60c35531bc0e12f2d764d290244f8cc9"><div class="ttname"><a href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">longDirectoryEntry::chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00739">FatStructs.h:739</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a12b2e7cf87482a942a0b5d3df6c51468"><div class="ttname"><a href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">directoryEntry::lastWriteDate</a></div><div class="ttdeci">uint16_t lastWriteDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00534">FatStructs.h:534</a></div></div>
<div class="ttc" id="structfname__t_html_a76ffd7abd5b7d3acf90b329c905770fd"><div class="ttname"><a href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">fname_t::lfn</a></div><div class="ttdeci">const char * lfn</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00087">FatFile.h:87</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a39f9b8960dba007b537e9b71c25384fe"><div class="ttname"><a href="_fat_structs_8h.html#a39f9b8960dba007b537e9b71c25384fe">DIR_NT_LC_BASE</a></div><div class="ttdeci">const uint8_t DIR_NT_LC_BASE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00575">FatStructs.h:575</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_af3055930e869875e49b32ef0b49c3649"><div class="ttname"><a href="structlong_directory_entry.html#af3055930e869875e49b32ef0b49c3649">longDirectoryEntry::mustBeZero</a></div><div class="ttdeci">uint16_t mustBeZero</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00743">FatStructs.h:743</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_a180b9bbb905fb1ac64e4b442798d91df"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#a180b9bbb905fb1ac64e4b442798d91df">lfnToLower</a></div><div class="ttdeci">char lfnToLower(char c)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00033">FatFileLFN.cpp:33</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7b43372794655fe6604d3c17c02302fe"><div class="ttname"><a href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">directoryEntry::creationDate</a></div><div class="ttdeci">uint16_t creationDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00519">FatStructs.h:519</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ab5635d4288cb294c1ed000fa183e072b"><div class="ttname"><a href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a></div><div class="ttdeci">uint8_t const O_EXCL</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00047">FatApiConstants.h:47</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a00451fc2d3563a2255797bd1f40507fb"><div class="ttname"><a href="_fat_structs_8h.html#a00451fc2d3563a2255797bd1f40507fb">FAT_DEFAULT_TIME</a></div><div class="ttdeci">uint16_t const FAT_DEFAULT_TIME</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00701">FatStructs.h:701</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a0d3f6fbbd34126b2d5563bba65220985"><div class="ttname"><a href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a></div><div class="ttdeci">uint8_t const DIR_ATT_LONG_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00565">FatStructs.h:565</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_volume_html_adabdd40413c8b523523a34578c933ab1"><div class="ttname"><a href="class_fat_volume.html#adabdd40413c8b523523a34578c933ab1">FatVolume::cacheDirty</a></div><div class="ttdeci">void cacheDirty()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00310">FatVolume.h:310</a></div></div>
<div class="ttc" id="class_fat_file_html_a76c0cea669176f73d5fb380ad9443362"><div class="ttname"><a href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">FatFile::m_dateTime</a></div><div class="ttdeci">static void(* m_dateTime)(uint16_t *date, uint16_t *time)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00973">FatFile.h:973</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a504c3d996b412f386becc27a8c49cd2c"><div class="ttname"><a href="_fat_structs_8h.html#a504c3d996b412f386becc27a8c49cd2c">DIR_IS_LONG_NAME</a></div><div class="ttdeci">static uint8_t DIR_IS_LONG_NAME(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00601">FatStructs.h:601</a></div></div>
<div class="ttc" id="structdirectory_entry_html_abca70dc5c5fcbe199fd78df010111331"><div class="ttname"><a href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">directoryEntry::lastAccessDate</a></div><div class="ttdeci">uint16_t lastAccessDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00525">FatStructs.h:525</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="structfname__t_html_a471184cc4c2671526d7d6fb80b2fe20c"><div class="ttname"><a href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">fname_t::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00085">FatFile.h:85</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a622bfa70c2cd9006108d7473d737a953"><div class="ttname"><a href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">directoryEntry::creationTime</a></div><div class="ttdeci">uint16_t creationTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00517">FatStructs.h:517</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a9adb019dbf24cce65c8d1419cd000f91"><div class="ttname"><a href="structlong_directory_entry.html#a9adb019dbf24cce65c8d1419cd000f91">longDirectoryEntry::type</a></div><div class="ttdeci">uint8_t type</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00734">FatStructs.h:734</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a1b65e85dd63d0708cd1b875ce4e5e338"><div class="ttname"><a href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">longDirectoryEntry::ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00723">FatStructs.h:723</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a20d0ef801486dd02de6ee482de731193"><div class="ttname"><a href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a></div><div class="ttdeci">uint8_t const O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00045">FatApiConstants.h:45</a></div></div>
<div class="ttc" id="_fat_file_8h_html_acd45286b7dfc5ba68be18c8c3a9d298d"><div class="ttname"><a href="_fat_file_8h.html#acd45286b7dfc5ba68be18c8c3a9d298d">FNAME_FLAG_LOST_CHARS</a></div><div class="ttdeci">const uint8_t FNAME_FLAG_LOST_CHARS</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00094">FatFile.h:94</a></div></div>
<div class="ttc" id="structlong_directory_entry_html"><div class="ttname"><a href="structlong_directory_entry.html">longDirectoryEntry</a></div><div class="ttdoc">FAT long directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00713">FatStructs.h:713</a></div></div>
<div class="ttc" id="class_fat_volume_html_a06beed4cea5e38116b58254a57125442"><div class="ttname"><a href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">FatVolume::blocksPerCluster</a></div><div class="ttdeci">uint8_t blocksPerCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00164">FatVolume.h:164</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7bab435322d1928f66fbce53ee1f402d"><div class="ttname"><a href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">directoryEntry::lastWriteTime</a></div><div class="ttdeci">uint16_t lastWriteTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00532">FatStructs.h:532</a></div></div>
<div class="ttc" id="class_fat_file_html_ad0dbbd083180f44c7a3ce7124d4ce19c"><div class="ttname"><a href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">FatFile::getError</a></div><div class="ttdeci">uint8_t getError()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00188">FatFile.h:188</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8766a8bbab6ad3da38c1b308545d7572"><div class="ttname"><a href="_fat_structs_8h.html#a8766a8bbab6ad3da38c1b308545d7572">DIR_NT_LC_EXT</a></div><div class="ttdeci">const uint8_t DIR_NT_LC_EXT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00577">FatStructs.h:577</a></div></div>
<div class="ttc" id="_fat_file_8h_html_a1a041207a19d2fd9a1e2739343ccb29b"><div class="ttname"><a href="_fat_file_8h.html#a1a041207a19d2fd9a1e2739343ccb29b">FNAME_FLAG_NEED_LFN</a></div><div class="ttdeci">const uint8_t FNAME_FLAG_NEED_LFN</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00098">FatFile.h:98</a></div></div>
<div class="ttc" id="class_fat_file_html_a836e6a29971223310c1f253e7f053a4c"><div class="ttname"><a href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">FatFile::openCachedEntry</a></div><div class="ttdeci">bool openCachedEntry(FatFile *dirFile, uint16_t cacheIndex, uint8_t oflag, uint8_t lfnOrd)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00483">FatFile.cpp:483</a></div></div>
<div class="ttc" id="structdirectory_entry_html_afe7d00be85f3b78549b21610050da52b"><div class="ttname"><a href="structdirectory_entry.html#afe7d00be85f3b78549b21610050da52b">directoryEntry::reservedNT</a></div><div class="ttdeci">uint8_t reservedNT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00509">FatStructs.h:509</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a441bb1bc5f52d512656de3b86a279948"><div class="ttname"><a href="_fat_structs_8h.html#a441bb1bc5f52d512656de3b86a279948">FAT_DEFAULT_DATE</a></div><div class="ttdeci">uint16_t const FAT_DEFAULT_DATE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00699">FatStructs.h:699</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a385e330c40b5fc7d8aa0619183f6705a"><div class="ttname"><a href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00734">FatStructs.h:734</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8cfb60b9eaf04dcdc6e4f5a466af5540"><div class="ttname"><a href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a></div><div class="ttdeci">const uint8_t LDIR_ORD_LAST_LONG_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00754">FatStructs.h:754</a></div></div>
<div class="ttc" id="class_fat_file_html_a288487f9a5be87ba2fc5d3076426749f"><div class="ttname"><a href="class_fat_file.html#a288487f9a5be87ba2fc5d3076426749f">FatFile::lfnUniqueSfn</a></div><div class="ttdeci">bool lfnUniqueSfn(fname_t *fname)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00628">FatFileLFN.cpp:628</a></div></div>
<div class="ttc" id="structfname__t_html_a37ed0c108b1feb81be4f8c041a4336bd"><div class="ttname"><a href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">fname_t::sfn</a></div><div class="ttdeci">uint8_t sfn[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00091">FatFile.h:91</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="structfname__t_html_a39c69edff13165c6e03b308104e7286d"><div class="ttname"><a href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">fname_t::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00083">FatFile.h:83</a></div></div>
<div class="ttc" id="class_fat_file_html_a633920e38e1f91f0d7b7c7646633735a"><div class="ttname"><a href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">FatFile::lfnChecksum</a></div><div class="ttdeci">static uint8_t lfnChecksum(uint8_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00023">FatFileLFN.cpp:23</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_ad6555afa1c9efbea1cba6a818009026d"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#ad6555afa1c9efbea1cba6a818009026d">lfnGetChar</a></div><div class="ttdeci">static uint16_t lfnGetChar(ldir_t *ldir, uint8_t i)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00054">FatFileLFN.cpp:54</a></div></div>
<div class="ttc" id="class_fat_file_html_aa65510f81a364343bb7b21f86b5a35b5"><div class="ttname"><a href="class_fat_file.html#aa65510f81a364343bb7b21f86b5a35b5">FatFile::addDirCluster</a></div><div class="ttdeci">bool addDirCluster()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00036">FatFile.cpp:36</a></div></div>
<div class="ttc" id="group__digital_pin_html_ga85c3841bd970c06a711440166130e71c"><div class="ttname"><a href="group__digital_pin.html#ga85c3841bd970c06a711440166130e71c">if</a></div><div class="ttdeci">if(address &gt; reinterpret_cast&lt; uint8_t * &gt;(0X5F))</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00516">DigitalPin.h:516</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_a486fb7e2663b39fe7b11790f1bf665a2"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#a486fb7e2663b39fe7b11790f1bf665a2">lfnPutName</a></div><div class="ttdeci">static void lfnPutName(ldir_t *ldir, const char *name, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00109">FatFileLFN.cpp:109</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a836e6a29971223310c1f253e7f053a4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::openCachedEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>cacheIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lfnOrd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00483">483</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00416">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, et <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                                             {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  uint32_t <a class="code" href="class_fat_file.html#a1057bc23b92a074539f661e896e79a09">firstCluster</a>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(<a class="code" href="class_fat_file.html">FatFile</a>));</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// location of entry in cache</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a> = dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a> = <a class="code" href="class_fat_file.html#ae5ec24d4a94d3780384d3f2b731c7eb9">dirIndex</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a> = dirFile-&gt;<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir = &amp;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ada9906ff155570dc73467ac083e23867">cacheAddress</a>()-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a>[0XF &amp; <a class="code" href="class_fat_file.html#ae5ec24d4a94d3780384d3f2b731c7eb9">dirIndex</a>];</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// Must be file or subdirectory.</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir)) {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = dir-&gt;<a class="code" href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">attributes</a> &amp; <a class="code" href="class_fat_file.html#ac920086c2bb457d730b200e4c41257f9">FILE_ATTR_COPY</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a5ce8bde4d6ff3950df951e84c7bb8d58">DIR_IS_FILE</a>(dir)) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> |= <a class="code" href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FILE_ATTR_FILE</a>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a> = lfnOrd;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// Write, truncate, or at end is an error for a directory or read-only file.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (oflag &amp; (<a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a> | <a class="code" href="_fat_api_constants_8h.html#a9dc438ff90d0c8af452331c339dbc08e">O_TRUNC</a> | <a class="code" href="_fat_api_constants_8h.html#a409d6381c7eafaf7d8978e53b736b966">O_AT_END</a>)) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">isSubDir</a>() || <a class="code" href="class_fat_file.html#a6872d3acb1e70f81c9c2be2495977583">isReadOnly</a>()) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// save open flags for read/write</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> = oflag &amp; <a class="code" href="class_fat_file.html#aa98849022730854eb6c58fb8b68916a7">F_OFLAG</a>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">m_dirBlock</a> = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">cacheBlockNumber</a>();</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// copy first cluster number for directory fields</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  firstCluster = ((uint32_t)dir-&gt;<a class="code" href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">firstClusterHigh</a> &lt;&lt; 16)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                 | dir-&gt;<a class="code" href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">firstClusterLow</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (oflag &amp; <a class="code" href="_fat_api_constants_8h.html#a9dc438ff90d0c8af452331c339dbc08e">O_TRUNC</a>) {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (firstCluster &amp;&amp; !<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">freeChain</a>(firstCluster)) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// need to update directory entry</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = <a class="code" href="class_fat_file.html#a1057bc23b92a074539f661e896e79a09">firstCluster</a>;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> = dir-&gt;<a class="code" href="structdirectory_entry.html#ac2445d99b50f925f662952e0ccd26a02">fileSize</a>;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  }</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">if</span> ((oflag &amp; <a class="code" href="_fat_api_constants_8h.html#a409d6381c7eafaf7d8978e53b736b966">O_AT_END</a>) &amp;&amp; !<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(<a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>)) {</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;fail:</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div><div class="ttc" id="class_fat_file_html_aa98849022730854eb6c58fb8b68916a7"><div class="ttname"><a href="class_fat_file.html#aa98849022730854eb6c58fb8b68916a7">FatFile::F_OFLAG</a></div><div class="ttdeci">static uint8_t const F_OFLAG</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00966">FatFile.h:966</a></div></div>
<div class="ttc" id="class_fat_file_html_a312328f1e75c5d1406cf07876b5a930f"><div class="ttname"><a href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">FatFile::m_dirBlock</a></div><div class="ttdeci">uint32_t m_dirBlock</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00986">FatFile.h:986</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a409d6381c7eafaf7d8978e53b736b966"><div class="ttname"><a href="_fat_api_constants_8h.html#a409d6381c7eafaf7d8978e53b736b966">O_AT_END</a></div><div class="ttdeci">uint8_t const O_AT_END</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00043">FatApiConstants.h:43</a></div></div>
<div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_a1057bc23b92a074539f661e896e79a09"><div class="ttname"><a href="class_fat_file.html#a1057bc23b92a074539f661e896e79a09">FatFile::firstCluster</a></div><div class="ttdeci">uint32_t firstCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00355">FatFile.h:355</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a16c6cde55c8175c90935c386f1cfb21a"><div class="ttname"><a href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">directoryEntry::attributes</a></div><div class="ttdeci">uint8_t attributes</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00504">FatStructs.h:504</a></div></div>
<div class="ttc" id="class_fat_volume_html_ada9906ff155570dc73467ac083e23867"><div class="ttname"><a href="class_fat_volume.html#ada9906ff155570dc73467ac083e23867">FatVolume::cacheAddress</a></div><div class="ttdeci">cache_t * cacheAddress()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00304">FatVolume.h:304</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a9dc438ff90d0c8af452331c339dbc08e"><div class="ttname"><a href="_fat_api_constants_8h.html#a9dc438ff90d0c8af452331c339dbc08e">O_TRUNC</a></div><div class="ttdeci">uint8_t const O_TRUNC</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00041">FatApiConstants.h:41</a></div></div>
<div class="ttc" id="class_fat_file_html_a6872d3acb1e70f81c9c2be2495977583"><div class="ttname"><a href="class_fat_file.html#a6872d3acb1e70f81c9c2be2495977583">FatFile::isReadOnly</a></div><div class="ttdeci">bool isReadOnly() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00411">FatFile.h:411</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="structdirectory_entry_html_ac2445d99b50f925f662952e0ccd26a02"><div class="ttname"><a href="structdirectory_entry.html#ac2445d99b50f925f662952e0ccd26a02">directoryEntry::fileSize</a></div><div class="ttdeci">uint32_t fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00538">FatStructs.h:538</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f4cf71ff0efdb6eef8be307df0c9fa5"><div class="ttname"><a href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">FatFile::m_lfnOrd</a></div><div class="ttdeci">uint8_t m_lfnOrd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00980">FatFile.h:980</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ab3fa11b216d6c34d1efe5b19eda102ac"><div class="ttname"><a href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">FatFile::m_dirCluster</a></div><div class="ttdeci">uint32_t m_dirCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00983">FatFile.h:983</a></div></div>
<div class="ttc" id="class_fat_volume_html_a26a3a52fb67a49d63f8d596fb26a5aa3"><div class="ttname"><a href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">FatVolume::cacheBlockNumber</a></div><div class="ttdeci">uint32_t cacheBlockNumber()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00307">FatVolume.h:307</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a74bd660417a9c3501eae353326c14bb9"><div class="ttname"><a href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">directoryEntry::firstClusterLow</a></div><div class="ttdeci">uint16_t firstClusterLow</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00536">FatStructs.h:536</a></div></div>
<div class="ttc" id="class_fat_file_html_ac920086c2bb457d730b200e4c41257f9"><div class="ttname"><a href="class_fat_file.html#ac920086c2bb457d730b200e4c41257f9">FatFile::FILE_ATTR_COPY</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_COPY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00941">FatFile.h:941</a></div></div>
<div class="ttc" id="class_fat_file_html_ae16fd44b1c014975f0a91422dc78b037"><div class="ttname"><a href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FatFile::FILE_ATTR_CLOSED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00921">FatFile.h:921</a></div></div>
<div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a3b492598b2b05e8425d2a500443613bd"><div class="ttname"><a href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">directoryEntry::firstClusterHigh</a></div><div class="ttdeci">uint16_t firstClusterHigh</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00530">FatStructs.h:530</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a6fc6734b7277948e48f048d21df45cf1"><div class="ttname"><a href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FatFile::FILE_ATTR_FILE</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_FILE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00929">FatFile.h:929</a></div></div>
<div class="ttc" id="class_fat_file_html_a95b503b17442c2b364a2f53de1b2aeba"><div class="ttname"><a href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">FatFile::isSubDir</a></div><div class="ttdeci">bool isSubDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00415">FatFile.h:415</a></div></div>
<div class="ttc" id="unioncache__t_html_a7396fdbdb7c52bd1d72c5329ff32acd1"><div class="ttname"><a href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">cache_t::dir</a></div><div class="ttdeci">dir_t dir[16]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00079">FatVolume.h:79</a></div></div>
<div class="ttc" id="class_fat_volume_html_a59f81c04dd4133c24ac0f39a6426ad39"><div class="ttname"><a href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">FatVolume::freeChain</a></div><div class="ttdeci">bool freeChain(uint32_t cluster)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00326">FatVolume.cpp:326</a></div></div>
<div class="ttc" id="class_fat_file_html_ae5ec24d4a94d3780384d3f2b731c7eb9"><div class="ttname"><a href="class_fat_file.html#ae5ec24d4a94d3780384d3f2b731c7eb9">FatFile::dirIndex</a></div><div class="ttdeci">uint16_t dirIndex()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00293">FatFile.h:293</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5ce8bde4d6ff3950df951e84c7bb8d58"><div class="ttname"><a href="_fat_structs_8h.html#a5ce8bde4d6ff3950df951e84c7bb8d58">DIR_IS_FILE</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00585">FatStructs.h:585</a></div></div>
<div class="ttc" id="class_fat_file_html_a41d74298637a86bf593b9b7fa449d84b"><div class="ttname"><a href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">FatFile::F_FILE_DIR_DIRTY</a></div><div class="ttdeci">static uint8_t const F_FILE_DIR_DIRTY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00968">FatFile.h:968</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5df45b5ab9063af4730251c563d7af1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::openCluster </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">165</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>, et <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>.</p>
<div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                       {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (file-&gt;<a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a> == 0) {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(file-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(<a class="code" href="class_fat_file.html">FatFile</a>));</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> = <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a> = file-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = file-&gt;<a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ab3fa11b216d6c34d1efe5b19eda102ac"><div class="ttname"><a href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">FatFile::m_dirCluster</a></div><div class="ttdeci">uint32_t m_dirCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00983">FatFile.h:983</a></div></div>
<div class="ttc" id="class_fat_file_html_a7e0c0548fed3a69e7284b91b694439d4"><div class="ttname"><a href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">FatFile::openRoot</a></div><div class="ttdeci">bool openRoot(FatVolume *vol)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00653">FatFile.cpp:653</a></div></div>
<div class="ttc" id="class_fat_file_html_abfe242bc0d32d9fd6cf0359e8b1ac7d7"><div class="ttname"><a href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FatFile::FILE_ATTR_SUBDIR</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_SUBDIR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00931">FatFile.h:931</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8034c4649eb0d26715b1a8a69e73d9d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::openNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oflag</em> = <code><a class="el" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open the next file or subdirectory in a directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFile</td><td>An open <a class="el" href="class_fat_file.html" title="Basic file class. ">FatFile</a> instance for the directory containing the file to be opened.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oflag</td><td>bitwise-inclusive OR of open mode flags. See see <a class="el" href="class_fat_file.html#a211be757679b18708f6b6a36464e4f61">FatFile::open(FatFile*, const char*, uint8_t)</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>true for success or false for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00541">541</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>.</p>
<div class="fragment"><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                                                      {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  uint8_t <a class="code" href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a> = 0;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <a class="code" href="structlong_directory_entry.html">ldir_t</a>* ldir;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  uint8_t lfnOrd = 0;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  uint16_t index;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// Check for not open and valid directory..</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || !dirFile-&gt;<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>() || (dirFile-&gt;<a class="code" href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">curPosition</a>() &amp; 0X1F)) {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="comment">// read entry into cache</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    index = dirFile-&gt;<a class="code" href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">curPosition</a>()/32;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="structdirectory_entry.html">dir_t</a>* dir = dirFile-&gt;<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">if</span> (dirFile-&gt;<a class="code" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a>()) {</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      }</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">// done if last entry</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="comment">// skip empty slot or &#39;.&#39; or &#39;..&#39;</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <span class="charliteral">&#39;.&#39;</span> || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a>) {</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      lfnOrd = 0;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir)) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (lfnOrd &amp;&amp; chksum != <a class="code" href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">lfnChecksum</a>(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>)) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">openCachedEntry</a>(dirFile, index, oflag, lfnOrd)) {</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a504c3d996b412f386becc27a8c49cd2c">DIR_IS_LONG_NAME</a>(dir)) {</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dir);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; <a class="code" href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a>) {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        lfnOrd = ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; 0X1F;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        chksum = ldir-&gt;<a class="code" href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">chksum</a>;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      }</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      lfnOrd = 0;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;fail:</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div><div class="ttc" id="structlong_directory_entry_html_a60c35531bc0e12f2d764d290244f8cc9"><div class="ttname"><a href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">longDirectoryEntry::chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00739">FatStructs.h:739</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a504c3d996b412f386becc27a8c49cd2c"><div class="ttname"><a href="_fat_structs_8h.html#a504c3d996b412f386becc27a8c49cd2c">DIR_IS_LONG_NAME</a></div><div class="ttdeci">static uint8_t DIR_IS_LONG_NAME(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00601">FatStructs.h:601</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a1b65e85dd63d0708cd1b875ce4e5e338"><div class="ttname"><a href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">longDirectoryEntry::ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00723">FatStructs.h:723</a></div></div>
<div class="ttc" id="structlong_directory_entry_html"><div class="ttname"><a href="structlong_directory_entry.html">longDirectoryEntry</a></div><div class="ttdoc">FAT long directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00713">FatStructs.h:713</a></div></div>
<div class="ttc" id="class_fat_file_html_ad0dbbd083180f44c7a3ce7124d4ce19c"><div class="ttname"><a href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">FatFile::getError</a></div><div class="ttdeci">uint8_t getError()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00188">FatFile.h:188</a></div></div>
<div class="ttc" id="class_fat_file_html_a836e6a29971223310c1f253e7f053a4c"><div class="ttname"><a href="class_fat_file.html#a836e6a29971223310c1f253e7f053a4c">FatFile::openCachedEntry</a></div><div class="ttdeci">bool openCachedEntry(FatFile *dirFile, uint16_t cacheIndex, uint8_t oflag, uint8_t lfnOrd)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00483">FatFile.cpp:483</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a385e330c40b5fc7d8aa0619183f6705a"><div class="ttname"><a href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00734">FatStructs.h:734</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8cfb60b9eaf04dcdc6e4f5a466af5540"><div class="ttname"><a href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a></div><div class="ttdeci">const uint8_t LDIR_ORD_LAST_LONG_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00754">FatStructs.h:754</a></div></div>
<div class="ttc" id="class_fat_file_html_a20c55b134bfd1d287a00bf64eba9332e"><div class="ttname"><a href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">FatFile::curPosition</a></div><div class="ttdeci">uint32_t curPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00240">FatFile.h:240</a></div></div>
<div class="ttc" id="class_fat_file_html_a633920e38e1f91f0d7b7c7646633735a"><div class="ttname"><a href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">FatFile::lfnChecksum</a></div><div class="ttdeci">static uint8_t lfnChecksum(uint8_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00023">FatFileLFN.cpp:23</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abbae867463872f9d4fb07c5c884e9420"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::openParent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>experimental don't use</p>
<p>Open a file's parent directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>Parent of this directory will be opened. Must not be root.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00602">602</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                                         {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> dotdot;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  uint32_t lbn;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  uint32_t ddc;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* cb;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || !dirFile-&gt;<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordflow">if</span> (dirFile-&gt;<a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a> == 0) {</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  lbn = dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(dirFile-&gt;<a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  cb = dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(lbn, <a class="code" href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a>);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (!cb) {</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// Point to dir entery for ..</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  dir = cb-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a> + 1;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  ddc = dir-&gt;<a class="code" href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">firstClusterLow</a> | ((uint32_t)dir-&gt;<a class="code" href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">firstClusterHigh</a> &lt;&lt; 16);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (ddc == 0) {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">if</span> (!dotdot.<a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>)) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    memset(&amp;dotdot, 0, <span class="keyword">sizeof</span>(<a class="code" href="class_fat_file.html">FatFile</a>));</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    dotdot.<a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    dotdot.<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> = <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    dotdot.<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a> = dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    dotdot.<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = ddc;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  uint32_t di;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">do</span> {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    di = dotdot.<a class="code" href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">curPosition</a>()/32;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    dir = dotdot.<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>();</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    ddc = dir-&gt;<a class="code" href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">firstClusterLow</a> | ((uint32_t)dir-&gt;<a class="code" href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">firstClusterHigh</a> &lt;&lt; 16);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  } <span class="keywordflow">while</span> (ddc != dirFile-&gt;<a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a>);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(&amp;dotdot, di, <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>);</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;fail:</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ab3fa11b216d6c34d1efe5b19eda102ac"><div class="ttname"><a href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">FatFile::m_dirCluster</a></div><div class="ttdeci">uint32_t m_dirCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00983">FatFile.h:983</a></div></div>
<div class="ttc" id="class_fat_file_html_a7e0c0548fed3a69e7284b91b694439d4"><div class="ttname"><a href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">FatFile::openRoot</a></div><div class="ttdeci">bool openRoot(FatVolume *vol)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00653">FatFile.cpp:653</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a74bd660417a9c3501eae353326c14bb9"><div class="ttname"><a href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">directoryEntry::firstClusterLow</a></div><div class="ttdeci">uint16_t firstClusterLow</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00536">FatStructs.h:536</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a3b492598b2b05e8425d2a500443613bd"><div class="ttname"><a href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">directoryEntry::firstClusterHigh</a></div><div class="ttdeci">uint16_t firstClusterHigh</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00530">FatStructs.h:530</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="class_fat_file_html_a20c55b134bfd1d287a00bf64eba9332e"><div class="ttname"><a href="class_fat_file.html#a20c55b134bfd1d287a00bf64eba9332e">FatFile::curPosition</a></div><div class="ttdeci">uint32_t curPosition() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00240">FatFile.h:240</a></div></div>
<div class="ttc" id="unioncache__t_html_a7396fdbdb7c52bd1d72c5329ff32acd1"><div class="ttname"><a href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">cache_t::dir</a></div><div class="ttdeci">dir_t dir[16]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00079">FatVolume.h:79</a></div></div>
<div class="ttc" id="class_fat_cache_html_ae5ac564caf5c65f223a6f5c6adac0691"><div class="ttname"><a href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00106">FatVolume.h:106</a></div></div>
<div class="ttc" id="class_fat_file_html_abfe242bc0d32d9fd6cf0359e8b1ac7d7"><div class="ttname"><a href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FatFile::FILE_ATTR_SUBDIR</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_SUBDIR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00931">FatFile.h:931</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e0c0548fed3a69e7284b91b694439d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::openRoot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_volume.html">FatVolume</a> *&#160;</td>
          <td class="paramname"><em>vol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a volume's root directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>The FAT volume containing the root directory to be opened.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00653">653</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00042">FatFileSystem::begin()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00100">FatFileSystem::chdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                     {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// error if file is already open</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  memset(<span class="keyword">this</span>, 0, <span class="keyword">sizeof</span>(<a class="code" href="class_fat_file.html">FatFile</a>));</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a> = vol;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">switch</span> (vol-&gt;<a class="code" href="class_fat_volume.html#a1364f11fe9bb4717ce0685e2b7b86027">fatType</a>()) {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#if FAT12_SUPPORT</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">case</span> 12:</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor">#endif  // FAT12_SUPPORT</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FILE_ATTR_ROOT_FIXED</a>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FILE_ATTR_ROOT32</a>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// read only</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> = <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;fail:</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div><div class="ttc" id="class_fat_file_html_abc90097077f2147a474123b0942fde70"><div class="ttname"><a href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FatFile::FILE_ATTR_ROOT32</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_ROOT32</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00935">FatFile.h:935</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a42aa9a9acb2365652bcb0f266e26e200"><div class="ttname"><a href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FatFile::FILE_ATTR_ROOT_FIXED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_ROOT_FIXED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00933">FatFile.h:933</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_volume_html_a1364f11fe9bb4717ce0685e2b7b86027"><div class="ttname"><a href="class_fat_volume.html#a1364f11fe9bb4717ce0685e2b7b86027">FatVolume::fatType</a></div><div class="ttdeci">uint8_t fatType() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00202">FatVolume.h:202</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a719528103a29020b7774bdad8c25bc58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::parsePathName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfname__t.html">fname_t</a> *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> **&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00177">177</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, et <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                              {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordtype">char</span> c;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordtype">bool</span> is83;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  uint8_t <a class="code" href="group__digital_pin.html#gad15e9d6879273cee61ab5b915db182a7">bit</a> = <a class="code" href="_fat_structs_8h.html#a39f9b8960dba007b537e9b71c25384fe">DIR_NT_LC_BASE</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  uint8_t lc = 0;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  uint8_t uc = 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  uint8_t i = 0;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  uint8_t in = 7;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordtype">int</span> end;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordtype">int</span> len = 0;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordtype">int</span> si;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordtype">int</span> dot;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// Skip leading spaces.</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">while</span> (*path == <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    path++;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  fname-&gt;<a class="code" href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">lfn</a> = path;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">for</span> (len = 0; ; len++) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    c = path[len];</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (c == 0 || isDirSeparator(c)) {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_fat_file_l_f_n_8cpp.html#a2e83c815fb700ff247b388cd64dd8c53">lfnLegalChar</a>(c)) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// Advance to next path component.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">for</span> (end = len; path[end] ==  <span class="charliteral">&#39; &#39;</span> || isDirSeparator(path[end]); end++) {}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  *ptr = &amp;path[end];</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// Back over spaces and dots.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">while</span> (len) {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    c = path[len - 1];</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;.&#39;</span> &amp;&amp; c != <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    len--;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// Max length of LFN is 255.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (len &gt; 255) {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  fname-&gt;<a class="code" href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">len</a> = len;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Blank file short name.</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">for</span> (uint8_t k = 0; k &lt; 11; k++) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[k] = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// skip leading spaces and dots.</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">for</span> (si = 0; path[si] == <span class="charliteral">&#39;.&#39;</span> || path[si] == <span class="charliteral">&#39; &#39;</span>; si++) {}</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="comment">// Not 8.3 if leading dot or space.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  is83 = !si;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// find last dot.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordflow">for</span> (dot = len - 1; dot &gt;= 0 &amp;&amp; path[dot] != <span class="charliteral">&#39;.&#39;</span>; dot--) {}</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">for</span> (; si &lt; len; si++) {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    c = path[si];</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39; &#39;</span> || (c == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; dot != si)) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      is83 = <span class="keyword">false</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a94df8090f16e9666cdc53ca20f6aff90">legal83Char</a>(c) &amp;&amp; si != dot) {</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      is83 = <span class="keyword">false</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      c = <span class="charliteral">&#39;_&#39;</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">if</span> (si == dot || i &gt; in) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">if</span> (in == 10) {</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="comment">// Done - extension longer than three characters.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        is83 = <span class="keyword">false</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      }</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">if</span> (si != dot) {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        is83 = <span class="keyword">false</span>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="comment">// Break if no dot and base-name is longer than eight characters.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">if</span> (si &gt; dot) {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      si = dot;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      in = 10;  <span class="comment">// Max index for full 8.3 name.</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      i = 8;    <span class="comment">// Place for extension.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      bit = <a class="code" href="_fat_structs_8h.html#a8766a8bbab6ad3da38c1b308545d7572">DIR_NT_LC_EXT</a>;  <span class="comment">// bit for extension.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">if</span> (<span class="charliteral">&#39;a&#39;</span> &lt;= c &amp;&amp; c &lt;= <span class="charliteral">&#39;z&#39;</span>) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        c += <span class="charliteral">&#39;A&#39;</span> - <span class="charliteral">&#39;a&#39;</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        lc |= <a class="code" href="group__digital_pin.html#gad15e9d6879273cee61ab5b915db182a7">bit</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="charliteral">&#39;A&#39;</span> &lt;= c &amp;&amp; c &lt;= <span class="charliteral">&#39;Z&#39;</span>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        uc |= <a class="code" href="group__digital_pin.html#gad15e9d6879273cee61ab5b915db182a7">bit</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[i++] = c;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> (i &lt; 7) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        fname-&gt;<a class="code" href="structfname__t.html#a96b7c779dec8dd568be3290451078a4e">seqPos</a> = i;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[0] == <span class="charliteral">&#39; &#39;</span>) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  }</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (is83) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    fname-&gt;<a class="code" href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">flags</a> = lc &amp; uc ? <a class="code" href="_fat_file_8h.html#a63994c21f3b723a55247f063a1b01c9c">FNAME_FLAG_MIXED_CASE</a> : lc;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    fname-&gt;<a class="code" href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">flags</a> = <a class="code" href="_fat_file_8h.html#acd45286b7dfc5ba68be18c8c3a9d298d">FNAME_FLAG_LOST_CHARS</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[fname-&gt;<a class="code" href="structfname__t.html#a96b7c779dec8dd568be3290451078a4e">seqPos</a>] = <span class="charliteral">&#39;~&#39;</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    fname-&gt;<a class="code" href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">sfn</a>[fname-&gt;<a class="code" href="structfname__t.html#a96b7c779dec8dd568be3290451078a4e">seqPos</a> + 1] = <span class="charliteral">&#39;1&#39;</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="structfname__t_html_a76ffd7abd5b7d3acf90b329c905770fd"><div class="ttname"><a href="structfname__t.html#a76ffd7abd5b7d3acf90b329c905770fd">fname_t::lfn</a></div><div class="ttdeci">const char * lfn</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00087">FatFile.h:87</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a39f9b8960dba007b537e9b71c25384fe"><div class="ttname"><a href="_fat_structs_8h.html#a39f9b8960dba007b537e9b71c25384fe">DIR_NT_LC_BASE</a></div><div class="ttdeci">const uint8_t DIR_NT_LC_BASE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00575">FatStructs.h:575</a></div></div>
<div class="ttc" id="group__digital_pin_html_gad15e9d6879273cee61ab5b915db182a7"><div class="ttname"><a href="group__digital_pin.html#gad15e9d6879273cee61ab5b915db182a7">bit</a></div><div class="ttdeci">static uint8_t bit</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00514">DigitalPin.h:514</a></div></div>
<div class="ttc" id="structfname__t_html_a471184cc4c2671526d7d6fb80b2fe20c"><div class="ttname"><a href="structfname__t.html#a471184cc4c2671526d7d6fb80b2fe20c">fname_t::len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00085">FatFile.h:85</a></div></div>
<div class="ttc" id="class_fat_file_html_a94df8090f16e9666cdc53ca20f6aff90"><div class="ttname"><a href="class_fat_file.html#a94df8090f16e9666cdc53ca20f6aff90">FatFile::legal83Char</a></div><div class="ttdeci">static bool legal83Char(uint8_t c)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00426">FatFile.h:426</a></div></div>
<div class="ttc" id="_fat_file_8h_html_a63994c21f3b723a55247f063a1b01c9c"><div class="ttname"><a href="_fat_file_8h.html#a63994c21f3b723a55247f063a1b01c9c">FNAME_FLAG_MIXED_CASE</a></div><div class="ttdeci">const uint8_t FNAME_FLAG_MIXED_CASE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00096">FatFile.h:96</a></div></div>
<div class="ttc" id="_fat_file_8h_html_acd45286b7dfc5ba68be18c8c3a9d298d"><div class="ttname"><a href="_fat_file_8h.html#acd45286b7dfc5ba68be18c8c3a9d298d">FNAME_FLAG_LOST_CHARS</a></div><div class="ttdeci">const uint8_t FNAME_FLAG_LOST_CHARS</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00094">FatFile.h:94</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8766a8bbab6ad3da38c1b308545d7572"><div class="ttname"><a href="_fat_structs_8h.html#a8766a8bbab6ad3da38c1b308545d7572">DIR_NT_LC_EXT</a></div><div class="ttdeci">const uint8_t DIR_NT_LC_EXT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00577">FatStructs.h:577</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_a2e83c815fb700ff247b388cd64dd8c53"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#a2e83c815fb700ff247b388cd64dd8c53">lfnLegalChar</a></div><div class="ttdeci">bool lfnLegalChar(char c)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00084">FatFileLFN.cpp:84</a></div></div>
<div class="ttc" id="structfname__t_html_a37ed0c108b1feb81be4f8c041a4336bd"><div class="ttname"><a href="structfname__t.html#a37ed0c108b1feb81be4f8c041a4336bd">fname_t::sfn</a></div><div class="ttdeci">uint8_t sfn[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00091">FatFile.h:91</a></div></div>
<div class="ttc" id="structfname__t_html_a39c69edff13165c6e03b308104e7286d"><div class="ttname"><a href="structfname__t.html#a39c69edff13165c6e03b308104e7286d">fname_t::flags</a></div><div class="ttdeci">uint8_t flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00083">FatFile.h:83</a></div></div>
<div class="ttc" id="structfname__t_html_a96b7c779dec8dd568be3290451078a4e"><div class="ttname"><a href="structfname__t.html#a96b7c779dec8dd568be3290451078a4e">fname_t::seqPos</a></div><div class="ttdeci">uint8_t seqPos</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00089">FatFile.h:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac05b7136b887539426856c623869aa3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::peek </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the next available byte without consuming it.</p>
<dl class="section return"><dt>Renvoie</dt><dd>The byte if no error and not at eof else -1; </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00686">686</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_arduino_files_8h_source.html#l00074">PrintFile::peek()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                  {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="struct_fat_pos__t.html">FatPos_t</a> pos;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="class_fat_file.html#aaa4f9886887947815a61eaf015996932">getpos</a>(&amp;pos);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordtype">int</span> c = <a class="code" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a>();</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordflow">if</span> (c &gt;= 0) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="class_fat_file.html#acf264de4e3ca36c5e8a39e56173c9044">setpos</a>(&amp;pos);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">return</span> c;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div><div class="ttc" id="struct_fat_pos__t_html"><div class="ttname"><a href="struct_fat_pos__t.html">FatPos_t</a></div><div class="ttdoc">Internal type for file position - do not use in user apps. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00066">FatFile.h:66</a></div></div>
<div class="ttc" id="class_fat_file_html_a60ae55ff6fe158c2340071d702a363c5"><div class="ttname"><a href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">FatFile::read</a></div><div class="ttdeci">int read()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00676">FatFile.h:676</a></div></div>
<div class="ttc" id="class_fat_file_html_acf264de4e3ca36c5e8a39e56173c9044"><div class="ttname"><a href="class_fat_file.html#acf264de4e3ca36c5e8a39e56173c9044">FatFile::setpos</a></div><div class="ttdeci">void setpos(FatPos_t *pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01154">FatFile.cpp:1154</a></div></div>
<div class="ttc" id="class_fat_file_html_aaa4f9886887947815a61eaf015996932"><div class="ttname"><a href="class_fat_file.html#aaa4f9886887947815a61eaf015996932">FatFile::getpos</a></div><div class="ttdeci">void getpos(FatPos_t *pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00251">FatFile.cpp:251</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a558530f20314a8d8ee3d1a488fc7f46e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::printCreateDateTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a file's creation date and time</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00125">125</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                             {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a> dir;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">dirEntry</a>(&amp;dir)) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">printFatDate</a>(pr, dir.<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a>);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">printFatTime</a>(pr, dir.<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;fail:</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a8fdb038aafdf3a17ac80b53c063aa73b"><div class="ttname"><a href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">FatFile::printFatDate</a></div><div class="ttdeci">static void printFatDate(uint16_t fatDate)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00153">FatFile.h:153</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7b43372794655fe6604d3c17c02302fe"><div class="ttname"><a href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">directoryEntry::creationDate</a></div><div class="ttdeci">uint16_t creationDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00519">FatStructs.h:519</a></div></div>
<div class="ttc" id="class_fat_file_html_a6858d18c807411a071fd6d1b39d50087"><div class="ttname"><a href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">FatFile::dirEntry</a></div><div class="ttdeci">bool dirEntry(dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00159">FatFile.cpp:159</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a622bfa70c2cd9006108d7473d737a953"><div class="ttname"><a href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">directoryEntry::creationTime</a></div><div class="ttdeci">uint16_t creationTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00517">FatStructs.h:517</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a7740731f08ef97de7dfbc9b075c4c7d1"><div class="ttname"><a href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">FatFile::printFatTime</a></div><div class="ttdeci">static void printFatTime(uint16_t fatTime)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00162">FatFile.h:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8fdb038aafdf3a17ac80b53c063aa73b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FatFile::printFatDate </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fatDate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a directory date field.</p>
<p>Format is yyyy-mm-dd.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fatDate</td><td>The date field from a directory entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00153">153</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00125">printCreateDateTime()</a>, et <a class="el" href="_fat_file_print_8cpp_source.html#l00223">printModifyDateTime()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                             {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">printFatDate</a>(&amp;Serial, fatDate);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a8fdb038aafdf3a17ac80b53c063aa73b"><div class="ttname"><a href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">FatFile::printFatDate</a></div><div class="ttdeci">static void printFatDate(uint16_t fatDate)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00153">FatFile.h:153</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada5364f66204b1a64afbf9d2e6cd2b0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::printFatDate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fatDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a directory date field.</p>
<p>Format is yyyy-mm-dd.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fatDate</td><td>The date field from a directory entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00140">140</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                                        {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="_fat_file_print_8cpp.html#a3effa106e2a75e704c5916644bce656d">printU32</a>(pr, <a class="code" href="_fat_structs_8h.html#a279a75f907dd2603543c7bdad00ff603">FAT_YEAR</a>(fatDate));</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  pr-&gt;write(<span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a>(pr, <a class="code" href="_fat_structs_8h.html#a429bc2d96f5bc26dc3bd6cc2bd535b84">FAT_MONTH</a>(fatDate));</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  pr-&gt;write(<span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a>(pr, <a class="code" href="_fat_structs_8h.html#a4cc8bc105529bf9e9c11e8ef099d68b0">FAT_DAY</a>(fatDate));</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="ttc" id="_fat_structs_8h_html_a429bc2d96f5bc26dc3bd6cc2bd535b84"><div class="ttname"><a href="_fat_structs_8h.html#a429bc2d96f5bc26dc3bd6cc2bd535b84">FAT_MONTH</a></div><div class="ttdeci">static uint8_t FAT_MONTH(uint16_t fatDate)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00651">FatStructs.h:651</a></div></div>
<div class="ttc" id="_fat_file_print_8cpp_html_a9a21c444a81e5885be7e4f3ab2c1b2a5"><div class="ttname"><a href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a></div><div class="ttdeci">static void print2u(print_t *pr, uint8_t v)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00025">FatFilePrint.cpp:25</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a4cc8bc105529bf9e9c11e8ef099d68b0"><div class="ttname"><a href="_fat_structs_8h.html#a4cc8bc105529bf9e9c11e8ef099d68b0">FAT_DAY</a></div><div class="ttdeci">static uint8_t FAT_DAY(uint16_t fatDate)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00659">FatStructs.h:659</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a279a75f907dd2603543c7bdad00ff603"><div class="ttname"><a href="_fat_structs_8h.html#a279a75f907dd2603543c7bdad00ff603">FAT_YEAR</a></div><div class="ttdeci">static uint16_t FAT_YEAR(uint16_t fatDate)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00643">FatStructs.h:643</a></div></div>
<div class="ttc" id="_fat_file_print_8cpp_html_a3effa106e2a75e704c5916644bce656d"><div class="ttname"><a href="_fat_file_print_8cpp.html#a3effa106e2a75e704c5916644bce656d">printU32</a></div><div class="ttdeci">static void printU32(print_t *pr, uint32_t v)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00037">FatFilePrint.cpp:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7740731f08ef97de7dfbc9b075c4c7d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FatFile::printFatTime </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fatTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a directory time field.</p>
<p>Format is hh:mm:ss.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fatTime</td><td>The time field from a directory entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00162">162</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00125">printCreateDateTime()</a>, et <a class="el" href="_fat_file_print_8cpp_source.html#l00223">printModifyDateTime()</a>.</p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                                             {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">printFatTime</a>(&amp;Serial, fatTime);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a7740731f08ef97de7dfbc9b075c4c7d1"><div class="ttname"><a href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">FatFile::printFatTime</a></div><div class="ttdeci">static void printFatTime(uint16_t fatTime)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00162">FatFile.h:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e7e56ba52ca17c602af1b85684b09a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::printFatTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>fatTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a directory time field.</p>
<p>Format is hh:mm:ss.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fatTime</td><td>The time field from a directory entry. </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00148">148</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                                        {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a>(pr, <a class="code" href="_fat_structs_8h.html#ae7c733d49a5570054f6db3bd53332ba1">FAT_HOUR</a>(fatTime));</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  pr-&gt;write(<span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a>(pr, <a class="code" href="_fat_structs_8h.html#a1b09676a41ae6c9e19664bdcd5b1d34e">FAT_MINUTE</a>(fatTime));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  pr-&gt;write(<span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a>(pr, <a class="code" href="_fat_structs_8h.html#a4d553e2088d42e01d6c08ee84e611b00">FAT_SECOND</a>(fatTime));</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="_fat_structs_8h_html_ae7c733d49a5570054f6db3bd53332ba1"><div class="ttname"><a href="_fat_structs_8h.html#ae7c733d49a5570054f6db3bd53332ba1">FAT_HOUR</a></div><div class="ttdeci">static uint8_t FAT_HOUR(uint16_t fatTime)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00677">FatStructs.h:677</a></div></div>
<div class="ttc" id="_fat_file_print_8cpp_html_a9a21c444a81e5885be7e4f3ab2c1b2a5"><div class="ttname"><a href="_fat_file_print_8cpp.html#a9a21c444a81e5885be7e4f3ab2c1b2a5">print2u</a></div><div class="ttdeci">static void print2u(print_t *pr, uint8_t v)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00025">FatFilePrint.cpp:25</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a1b09676a41ae6c9e19664bdcd5b1d34e"><div class="ttname"><a href="_fat_structs_8h.html#a1b09676a41ae6c9e19664bdcd5b1d34e">FAT_MINUTE</a></div><div class="ttdeci">static uint8_t FAT_MINUTE(uint16_t fatTime)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00685">FatStructs.h:685</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a4d553e2088d42e01d6c08ee84e611b00"><div class="ttname"><a href="_fat_structs_8h.html#a4d553e2088d42e01d6c08ee84e611b00">FAT_SECOND</a></div><div class="ttdeci">static uint8_t FAT_SECOND(uint16_t fatTime)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00695">FatStructs.h:695</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7478cad0f9e5079311b9e1fa558016ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::printField </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a>&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>prec</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a number followed by a field terminator. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The number to be printed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>The field terminator. Use '\n' for CR LF. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prec</td><td>Number of digits after decimal point. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes written or -1 if an error occurs. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00184">184</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                            {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">char</span> buf[24];</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordtype">char</span>* str = &amp;buf[<span class="keyword">sizeof</span>(buf)];</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordflow">if</span> (term) {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    *--str = term;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (term == <span class="charliteral">&#39;\n&#39;</span>) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      *--str = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  str = <a class="code" href="_fmt_number_8cpp.html#a572971fc38b2a76968e1aa9de3b31f13">fmtFloat</a>(<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, str, prec);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write</a>(str, buf + <span class="keyword">sizeof</span>(buf) - str);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div><div class="ttc" id="_fmt_number_8cpp_html_a572971fc38b2a76968e1aa9de3b31f13"><div class="ttname"><a href="_fmt_number_8cpp.html#a572971fc38b2a76968e1aa9de3b31f13">fmtFloat</a></div><div class="ttdeci">char * fmtFloat(float value, char *p, uint8_t prec)</div><div class="ttdef"><b>Definition:</b> <a href="_fmt_number_8cpp_source.html#l00234">FmtNumber.cpp:234</a></div></div>
<div class="ttc" id="group__digital_pin_html_ga0376be5904d0dd864b7d97c9ce1295ab"><div class="ttname"><a href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a></div><div class="ttdeci">static bool value</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00048">DigitalPin.h:48</a></div></div>
<div class="ttc" id="class_fat_file_html_aa4a5b81161994cea07938702cdfce49f"><div class="ttname"><a href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">FatFile::write</a></div><div class="ttdeci">int write(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00892">FatFile.h:892</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd3e1747511216462b3ef98167156cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::printField </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a>&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a number followed by a field terminator. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The number to be printed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>The field terminator. Use '\n' for CR LF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes written or -1 if an error occurs. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00201">201</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">char</span> sign = 0;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a> &lt; 0) {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    sign = <span class="charliteral">&#39;-&#39;</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a> = -<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a>(<span class="keyword">this</span>, sign, (uint16_t)<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, term);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div><div class="ttc" id="_fat_file_print_8cpp_html_a069f4ed890bc4e4b1df0539034f105d1"><div class="ttname"><a href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a></div><div class="ttdeci">static int printFieldT(FatFile *file, char sign, Type value, char term)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00158">FatFilePrint.cpp:158</a></div></div>
<div class="ttc" id="group__digital_pin_html_ga0376be5904d0dd864b7d97c9ce1295ab"><div class="ttname"><a href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a></div><div class="ttdeci">static bool value</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00048">DigitalPin.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9972c2419c293ef9c382bff666b9ae4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::printField </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a>&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a number followed by a field terminator. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The number to be printed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>The field terminator. Use '\n' for CR LF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes written or -1 if an error occurs. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00197">197</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                                 {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a>(<span class="keyword">this</span>, 0, <a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, term);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="ttc" id="_fat_file_print_8cpp_html_a069f4ed890bc4e4b1df0539034f105d1"><div class="ttname"><a href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a></div><div class="ttdeci">static int printFieldT(FatFile *file, char sign, Type value, char term)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00158">FatFilePrint.cpp:158</a></div></div>
<div class="ttc" id="group__digital_pin_html_ga0376be5904d0dd864b7d97c9ce1295ab"><div class="ttname"><a href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a></div><div class="ttdeci">static bool value</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00048">DigitalPin.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a41b3b32dd8482429b74c7af3432d6cf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::printField </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a>&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a number followed by a field terminator. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The number to be printed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>The field terminator. Use '\n' for CR LF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes written or -1 if an error occurs. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00214">214</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                                                {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordtype">char</span> sign = 0;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a> &lt; 0) {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    sign = <span class="charliteral">&#39;-&#39;</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a> = -<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a>(<span class="keyword">this</span>, sign, (uint32_t)<a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, term);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="ttc" id="_fat_file_print_8cpp_html_a069f4ed890bc4e4b1df0539034f105d1"><div class="ttname"><a href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a></div><div class="ttdeci">static int printFieldT(FatFile *file, char sign, Type value, char term)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00158">FatFilePrint.cpp:158</a></div></div>
<div class="ttc" id="group__digital_pin_html_ga0376be5904d0dd864b7d97c9ce1295ab"><div class="ttname"><a href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a></div><div class="ttdeci">static bool value</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00048">DigitalPin.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a097240f08baadeb1c64b63eab9afb088"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::printField </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a>&#160;</td>
          <td class="paramname"><em>term</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a number followed by a field terminator. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The number to be printed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">term</td><td>The field terminator. Use '\n' for CR LF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of bytes written or -1 if an error occurs. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00210">210</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                                                 {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a>(<span class="keyword">this</span>, 0, <a class="code" href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a>, term);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="ttc" id="_fat_file_print_8cpp_html_a069f4ed890bc4e4b1df0539034f105d1"><div class="ttname"><a href="_fat_file_print_8cpp.html#a069f4ed890bc4e4b1df0539034f105d1">printFieldT</a></div><div class="ttdeci">static int printFieldT(FatFile *file, char sign, Type value, char term)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_print_8cpp_source.html#l00158">FatFilePrint.cpp:158</a></div></div>
<div class="ttc" id="group__digital_pin_html_ga0376be5904d0dd864b7d97c9ce1295ab"><div class="ttname"><a href="group__digital_pin.html#ga0376be5904d0dd864b7d97c9ce1295ab">value</a></div><div class="ttdeci">static bool value</div><div class="ttdef"><b>Definition:</b> <a href="_digital_pin_8h_source.html#l00048">DigitalPin.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a12a5d2de2737c201aa39ca1bd2ab9c47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FatFile::printFileSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a file's size.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of characters printed is returned for success and zero is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00239">239</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                         {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordtype">char</span> buf[11];</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">char</span> *ptr = buf + <span class="keyword">sizeof</span>(buf);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  *--ptr = 0;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  ptr = <a class="code" href="_fmt_number_8cpp.html#adbceccb67ba8c05a5329c4e9cc86a4ad">fmtDec</a>(<a class="code" href="class_fat_file.html#a02fc3b3ca36b4745f695f3de8c8ec36d">fileSize</a>(), ptr);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">while</span> (ptr &gt; buf) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    *--ptr = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">return</span> pr-&gt;write(buf);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div><div class="ttc" id="_fmt_number_8cpp_html_adbceccb67ba8c05a5329c4e9cc86a4ad"><div class="ttname"><a href="_fmt_number_8cpp.html#adbceccb67ba8c05a5329c4e9cc86a4ad">fmtDec</a></div><div class="ttdeci">char * fmtDec(uint16_t n, char *p)</div><div class="ttdef"><b>Definition:</b> <a href="_fmt_number_8cpp_source.html#l00186">FmtNumber.cpp:186</a></div></div>
<div class="ttc" id="class_fat_file_html_a02fc3b3ca36b4745f695f3de8c8ec36d"><div class="ttname"><a href="class_fat_file.html#a02fc3b3ca36b4745f695f3de8c8ec36d">FatFile::fileSize</a></div><div class="ttdeci">uint32_t fileSize() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00351">FatFile.h:351</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a05cee5df46a370bf916d3ba597c82e39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::printModifyDateTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a file's modify date and time</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_print_8cpp_source.html#l00223">223</a> du fichier <a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                             {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a> dir;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">dirEntry</a>(&amp;dir)) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">printFatDate</a>(pr, dir.<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  pr-&gt;write(<span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">printFatTime</a>(pr, dir.<a class="code" href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">lastWriteTime</a>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;fail:</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a8fdb038aafdf3a17ac80b53c063aa73b"><div class="ttname"><a href="class_fat_file.html#a8fdb038aafdf3a17ac80b53c063aa73b">FatFile::printFatDate</a></div><div class="ttdeci">static void printFatDate(uint16_t fatDate)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00153">FatFile.h:153</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a12b2e7cf87482a942a0b5d3df6c51468"><div class="ttname"><a href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">directoryEntry::lastWriteDate</a></div><div class="ttdeci">uint16_t lastWriteDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00534">FatStructs.h:534</a></div></div>
<div class="ttc" id="class_fat_file_html_a6858d18c807411a071fd6d1b39d50087"><div class="ttname"><a href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">FatFile::dirEntry</a></div><div class="ttdeci">bool dirEntry(dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00159">FatFile.cpp:159</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7bab435322d1928f66fbce53ee1f402d"><div class="ttname"><a href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">directoryEntry::lastWriteTime</a></div><div class="ttdeci">uint16_t lastWriteTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00532">FatStructs.h:532</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a7740731f08ef97de7dfbc9b075c4c7d1"><div class="ttname"><a href="class_fat_file.html#a7740731f08ef97de7dfbc9b075c4c7d1">FatFile::printFatTime</a></div><div class="ttdeci">static void printFatTime(uint16_t fatTime)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00162">FatFile.h:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad1cbc3aeb0f5193b7a26595966da9621"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t FatFile::printName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a file's name.</p>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00170">170</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>, et <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                     {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad1cbc3aeb0f5193b7a26595966da9621">FatFile::printName</a>(&amp;Serial);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_ad1cbc3aeb0f5193b7a26595966da9621"><div class="ttname"><a href="class_fat_file.html#ad1cbc3aeb0f5193b7a26595966da9621">FatFile::printName</a></div><div class="ttdeci">size_t printName()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00170">FatFile.h:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe18a787fb8640e2d2483370c770f82f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FatFile::printName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a file's name</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">498</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                                     {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> dirFile;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  uint16_t u;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordtype">size_t</span> n = 0;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <a class="code" href="structlong_directory_entry.html">ldir_t</a>* ldir;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">isLFN</a>()) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a791cd7aade71f609aab62ec018aea3c0">printSFN</a>(pr);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">if</span> (!dirFile.<a class="code" href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">openCluster</a>(<span class="keyword">this</span>)) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">for</span> (uint8_t <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> = 1; <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> &lt;= <a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a>; <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a>++) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (!dirFile.<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(32UL*(<a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a> - <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a>))) {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dirFile.<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>());</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> (!ldir) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">attr</a> != <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a> ||</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a> != (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; 0X1F)) {</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 13; i++) {</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      u = <a class="code" href="_fat_file_l_f_n_8cpp.html#ad6555afa1c9efbea1cba6a818009026d">lfnGetChar</a>(ldir, i);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">if</span> (u == 0) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">// End of name.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">if</span> (u &gt; 0X7E) {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        u = <span class="charliteral">&#39;?&#39;</span>;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      pr-&gt;write(static_cast&lt;char&gt;(u));</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      n++;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; <a class="code" href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a>) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">return</span> n;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// Fall into fail;</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  DBG_FAIL_MACRO;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;fail:</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="ttc" id="structlong_directory_entry_html_aa36bf1210d0c2b3b80948e5f697eb02e"><div class="ttname"><a href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">longDirectoryEntry::attr</a></div><div class="ttdeci">uint8_t attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00727">FatStructs.h:727</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_ae204655dc23be1d048e8bebf2dfa5089"><div class="ttname"><a href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00718">FatStructs.h:718</a></div></div>
<div class="ttc" id="class_fat_file_html_a791cd7aade71f609aab62ec018aea3c0"><div class="ttname"><a href="class_fat_file.html#a791cd7aade71f609aab62ec018aea3c0">FatFile::printSFN</a></div><div class="ttdeci">size_t printSFN(print_t *pr)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_s_f_n_8cpp_source.html#l00048">FatFileSFN.cpp:48</a></div></div>
<div class="ttc" id="class_fat_file_html_aed36d17f8fde597b6ed9446faec1f7e3"><div class="ttname"><a href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">FatFile::isLFN</a></div><div class="ttdeci">bool isLFN() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00391">FatFile.h:391</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a0d3f6fbbd34126b2d5563bba65220985"><div class="ttname"><a href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a></div><div class="ttdeci">uint8_t const DIR_ATT_LONG_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00565">FatStructs.h:565</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_a5df45b5ab9063af4730251c563d7af1e"><div class="ttname"><a href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">FatFile::openCluster</a></div><div class="ttdeci">bool openCluster(FatFile *file)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00165">FatFileLFN.cpp:165</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f4cf71ff0efdb6eef8be307df0c9fa5"><div class="ttname"><a href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">FatFile::m_lfnOrd</a></div><div class="ttdeci">uint8_t m_lfnOrd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00980">FatFile.h:980</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a1b65e85dd63d0708cd1b875ce4e5e338"><div class="ttname"><a href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">longDirectoryEntry::ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00723">FatStructs.h:723</a></div></div>
<div class="ttc" id="structlong_directory_entry_html"><div class="ttname"><a href="structlong_directory_entry.html">longDirectoryEntry</a></div><div class="ttdoc">FAT long directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00713">FatStructs.h:713</a></div></div>
<div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8cfb60b9eaf04dcdc6e4f5a466af5540"><div class="ttname"><a href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a></div><div class="ttdeci">const uint8_t LDIR_ORD_LAST_LONG_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00754">FatStructs.h:754</a></div></div>
<div class="ttc" id="_fat_file_l_f_n_8cpp_html_ad6555afa1c9efbea1cba6a818009026d"><div class="ttname"><a href="_fat_file_l_f_n_8cpp.html#ad6555afa1c9efbea1cba6a818009026d">lfnGetChar</a></div><div class="ttdeci">static uint16_t lfnGetChar(ldir_t *ldir, uint8_t i)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00054">FatFileLFN.cpp:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a791cd7aade71f609aab62ec018aea3c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FatFile::printSFN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_volume_8h.html#ac29695884eac60ba8243dd23f7c27984">print_t</a> *&#160;</td>
          <td class="paramname"><em>pr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a file's Short <a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> Name.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pr</td><td>Print stream for output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The number of characters printed is returned for success and zero is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">48</a> du fichier <a class="el" href="_fat_file_s_f_n_8cpp_source.html">FatFileSFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                    {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a>[13];</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aba30e92a66f8e0d2f815c85662772a58">getSFN</a>(name)) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">return</span> pr-&gt;write(name);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;fail:</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div><div class="ttc" id="_fat_structs_8h_html_a30308c9b983377042fd2cc8900454fb1"><div class="ttname"><a href="_fat_structs_8h.html#a30308c9b983377042fd2cc8900454fb1">name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00465">FatStructs.h:465</a></div></div>
<div class="ttc" id="class_fat_file_html_aba30e92a66f8e0d2f815c85662772a58"><div class="ttname"><a href="class_fat_file.html#aba30e92a66f8e0d2f815c85662772a58">FatFile::getSFN</a></div><div class="ttdeci">bool getSFN(char *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_s_f_n_8cpp_source.html#l00023">FatFileSFN.cpp:23</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60ae55ff6fe158c2340071d702a363c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read the next byte from a file.</p>
<dl class="section return"><dt>Renvoie</dt><dd>For success read returns the next byte in the file as an int. If an error occurs or end of file is reached -1 is returned. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00676">676</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00056">dmpFile()</a>, <a class="el" href="_the_player_8cpp_source.html#l00691">ThePlayer::feedBuffer()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00223">fgets()</a>, <a class="el" href="_stdio_stream_8cpp_source.html#l00533">StdioStream::fillBuf()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00686">peek()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00809">readDir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00838">readDirCache()</a>, <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00053">PrintFile::~PrintFile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;             {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    uint8_t b;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a>(&amp;b, 1) == 1 ? b : -1;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a60ae55ff6fe158c2340071d702a363c5"><div class="ttname"><a href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">FatFile::read</a></div><div class="ttdeci">int read()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00676">FatFile.h:676</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a200e6e0553d5b709520c9dfac9ef77dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbyte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read data from a file starting at the current position.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Pointer to the location that will receive the data.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbyte</td><td>Maximum number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>For success <a class="el" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read()</a> returns the number of bytes read. A value less than <em>nbyte</em>, including zero, will be returned if end of file is reached. If an error occurs, <a class="el" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read()</a> returns -1. Possible errors include <a class="el" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read()</a> called before a file has been opened, corrupt file system or an I/O error occurred. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00696">696</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                         {</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  int8_t fg;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  uint8_t blockOfCluster = 0;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  uint8_t* dst = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(buf);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  uint16_t offset;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordtype">size_t</span> toRead;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  uint32_t block;  <span class="comment">// raw device block number</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* pc;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="comment">// error if not open for read</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>() || !(<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)) {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>()) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    uint32_t tmp32 = <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> - <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span> (nbyte &gt;= tmp32) {</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      nbyte = tmp32;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a>()) {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    uint16_t tmp16 = 32*<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a771a63590e9e255694c1ebd910ab9be3">m_rootDirEntryCount</a> - (uint16_t)m_curPosition;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span> (nbyte &gt; tmp16) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      nbyte = tmp16;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  toRead = nbyte;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">while</span> (toRead) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordtype">size_t</span> n;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    offset = m_curPosition &amp; 0X1FF;  <span class="comment">// offset in block</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a>()) {</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">rootDirStart</a>() + (m_curPosition &gt;&gt; 9);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      blockOfCluster = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#abff719641f4dfcb202e1b72ab919d792">blockOfCluster</a>(m_curPosition);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">if</span> (offset == 0 &amp;&amp; blockOfCluster == 0) {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// start of new cluster</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span> (m_curPosition == 0) {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;          <span class="comment">// use first cluster in file</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> = <a class="code" href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">isRoot32</a>() ? <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">rootDirStart</a>() : <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;          <span class="comment">// get next cluster from FAT</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          fg = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">fatGet</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>, &amp;<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <span class="keywordflow">if</span> (fg &lt; 0) {</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            DBG_FAIL_MACRO;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <span class="keywordflow">if</span> (fg == 0) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            DBG_FAIL_MACRO;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;          }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>) + blockOfCluster;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">if</span> (offset != 0 || toRead &lt; 512 || block == m_vol-&gt;cacheBlockNumber()) {</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="comment">// amount to be read from current block</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      n = 512 - offset;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">if</span> (n &gt; toRead) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        n = toRead;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">// read block to cache and copy data to caller</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(block, <a class="code" href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      uint8_t* src = pc-&gt;<a class="code" href="unioncache__t.html#ae675b7a3a87d809070de111d1d1f1d81">data</a> + offset;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      memcpy(dst, src, n);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor">#if USE_MULTI_BLOCK_IO</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (toRead &gt;= 1024) {</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      uint8_t nb = toRead &gt;&gt; 9;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a>()) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        uint8_t mb = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>() - blockOfCluster;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">if</span> (mb &lt; nb) {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          nb = mb;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      n = 512*nb;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">cacheBlockNumber</a>() &lt;= block</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          &amp;&amp; block &lt; (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">cacheBlockNumber</a>() + nb)) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="comment">// flush cache if a block is in the cache</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>()) {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          DBG_FAIL_MACRO;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;          <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      }</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a324c3dc6ca255859400bf2b36ab807ab">readBlocks</a>(block, dst, nb)) {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#endif  // USE_MULTI_BLOCK_IO</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="comment">// read single block</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      n = 512;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aab36fd0b50cdbca44388d4ba45e0892e">readBlock</a>(block, dst)) {</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      }</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    dst += n;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    m_curPosition += n;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    toRead -= n;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordflow">return</span> nbyte - toRead;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;fail:</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> |= <a class="code" href="class_fat_file.html#a864c4ee4f60ef74685f19538a1293c07">READ_ERROR</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_volume_html_a324c3dc6ca255859400bf2b36ab807ab"><div class="ttname"><a href="class_fat_volume.html#a324c3dc6ca255859400bf2b36ab807ab">FatVolume::readBlocks</a></div><div class="ttdeci">virtual bool readBlocks(uint32_t block, uint8_t *dst, size_t nb)=0</div></div>
<div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_volume_html_aab36fd0b50cdbca44388d4ba45e0892e"><div class="ttname"><a href="class_fat_volume.html#aab36fd0b50cdbca44388d4ba45e0892e">FatVolume::readBlock</a></div><div class="ttdeci">virtual bool readBlock(uint32_t block, uint8_t *dst)=0</div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="class_fat_volume_html_a26a3a52fb67a49d63f8d596fb26a5aa3"><div class="ttname"><a href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">FatVolume::cacheBlockNumber</a></div><div class="ttdeci">uint32_t cacheBlockNumber()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00307">FatVolume.h:307</a></div></div>
<div class="ttc" id="class_fat_volume_html_a06beed4cea5e38116b58254a57125442"><div class="ttname"><a href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">FatVolume::blocksPerCluster</a></div><div class="ttdeci">uint8_t blocksPerCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00164">FatVolume.h:164</a></div></div>
<div class="ttc" id="class_fat_volume_html_abff719641f4dfcb202e1b72ab919d792"><div class="ttname"><a href="class_fat_volume.html#abff719641f4dfcb202e1b72ab919d792">FatVolume::blockOfCluster</a></div><div class="ttdeci">uint8_t blockOfCluster(uint32_t position) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00316">FatVolume.h:316</a></div></div>
<div class="ttc" id="class_fat_file_html_a1449b294e3a838396c62e47674ca8cf0"><div class="ttname"><a href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">FatFile::isRoot32</a></div><div class="ttdeci">bool isRoot32() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00403">FatFile.h:403</a></div></div>
<div class="ttc" id="class_fat_file_html_a8215bd4b21e11ec83fa88ef226ceb06f"><div class="ttname"><a href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">FatFile::isRootFixed</a></div><div class="ttdeci">bool isRootFixed() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00407">FatFile.h:407</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="class_fat_volume_html_acd39c4c661e221e573a8dc7e392146fd"><div class="ttname"><a href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">FatVolume::fatGet</a></div><div class="ttdeci">int8_t fatGet(uint32_t cluster, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00187">FatVolume.cpp:187</a></div></div>
<div class="ttc" id="class_fat_file_html_a864c4ee4f60ef74685f19538a1293c07"><div class="ttname"><a href="class_fat_file.html#a864c4ee4f60ef74685f19538a1293c07">FatFile::READ_ERROR</a></div><div class="ttdeci">static const uint8_t READ_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00976">FatFile.h:976</a></div></div>
<div class="ttc" id="unioncache__t_html_ae675b7a3a87d809070de111d1d1f1d81"><div class="ttname"><a href="unioncache__t.html#ae675b7a3a87d809070de111d1d1f1d81">cache_t::data</a></div><div class="ttdeci">uint8_t data[512]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00073">FatVolume.h:73</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="class_fat_volume_html_a771a63590e9e255694c1ebd910ab9be3"><div class="ttname"><a href="class_fat_volume.html#a771a63590e9e255694c1ebd910ab9be3">FatVolume::m_rootDirEntryCount</a></div><div class="ttdeci">uint16_t m_rootDirEntryCount</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00267">FatVolume.h:267</a></div></div>
<div class="ttc" id="class_fat_volume_html_ae9363ebbbae90e895ea56e8fa3f60c13"><div class="ttname"><a href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">FatVolume::rootDirStart</a></div><div class="ttdeci">uint32_t rootDirStart() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00236">FatVolume.h:236</a></div></div>
<div class="ttc" id="class_fat_cache_html_ae5ac564caf5c65f223a6f5c6adac0691"><div class="ttname"><a href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00106">FatVolume.h:106</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1325afe074c3efecff666678cd9f116a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t FatFile::readDir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the next directory entry from a directory file.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">dir</td><td>The dir_t struct that will receive the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>For success <a class="el" href="class_fat_file.html#a1325afe074c3efecff666678cd9f116a">readDir()</a> returns the number of bytes read. A value of zero will be returned if end of file is reached. If an error occurs, <a class="el" href="class_fat_file.html#a1325afe074c3efecff666678cd9f116a">readDir()</a> returns -1. Possible errors include <a class="el" href="class_fat_file.html#a1325afe074c3efecff666678cd9f116a">readDir()</a> called before a directory has been opened, this is not a directory file or an I/O error occurred. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00809">809</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                                  {</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  int16_t n;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">// if not a directory file or miss-positioned return an error</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>() || (0X1F &amp; <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>)) {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    n = <a class="code" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a>(dir, <span class="keyword">sizeof</span>(<a class="code" href="structdirectory_entry.html">dir_t</a>));</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">if</span> (n != <span class="keyword">sizeof</span>(<a class="code" href="structdirectory_entry.html">dir_t</a>)) {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      <span class="keywordflow">return</span> n == 0 ? 0 : -1;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">// last entry if DIR_NAME_FREE</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">// skip empty entries and entry for .  and ..</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="comment">// return if normal file or subdirectory</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir)) {</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      <span class="keywordflow">return</span> n;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  }</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div><div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="class_fat_file_html_a60ae55ff6fe158c2340071d702a363c5"><div class="ttname"><a href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">FatFile::read</a></div><div class="ttdeci">int read()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00676">FatFile.h:676</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acb793c305e131e442f3be5f242e8c223"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_fat_structs_8h.html#a803db59d4e16a0c54a647afc6a7954e3">dir_t</a> * FatFile::readDirCache </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skipReadOk</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00838">838</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00628">lfnUniqueSfn()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00416">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00541">openNext()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                                            {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">//  uint8_t b;</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  uint8_t i = (<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> &gt;&gt; 5) &amp; 0XF;</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span> (i == 0 || !skipReadOk) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    int8_t n = <a class="code" href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">read</a>(&amp;n, 1);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span>  (n != 1) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">if</span> (n != 0) {</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    }</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">//   if (read(&amp;b, 1) != 1) {</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">//     DBG_FAIL_MACRO;</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">//     goto fail;</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> += 31;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> += 32;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="comment">// return pointer to entry</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ada9906ff155570dc73467ac083e23867">cacheAddress</a>()-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a> + i;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;fail:</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;}</div><div class="ttc" id="class_fat_volume_html_ada9906ff155570dc73467ac083e23867"><div class="ttname"><a href="class_fat_volume.html#ada9906ff155570dc73467ac083e23867">FatVolume::cacheAddress</a></div><div class="ttdeci">cache_t * cacheAddress()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00304">FatVolume.h:304</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a60ae55ff6fe158c2340071d702a363c5"><div class="ttname"><a href="class_fat_file.html#a60ae55ff6fe158c2340071d702a363c5">FatFile::read</a></div><div class="ttdeci">int read()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00676">FatFile.h:676</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="unioncache__t_html_a7396fdbdb7c52bd1d72c5329ff32acd1"><div class="ttname"><a href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">cache_t::dir</a></div><div class="ttdeci">dir_t dir[16]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00079">FatVolume.h:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada2ccf681514ff4bfb1b5e407ca4d321"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::readLBN </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>lbn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac837a537fbcca14c7aa390c5fc9f4e7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::remove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a file.</p>
<p>The directory entry and all data for the file are deleted.</p>
<dl class="section note"><dt>Note</dt><dd>This function should not be used to delete the 8.3 version of a file that has a long name. For example if a file has the long name "New Text Document.txt" you should not delete the 8.3 name "NEWTEX~1.TXT".</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">549</a> du fichier <a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00228">FatFileSystem::remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00865">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                     {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordtype">bool</span> last;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  uint8_t <a class="code" href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  uint8_t <a class="code" href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> dirFile;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="structlong_directory_entry.html">ldir_t</a>* ldir;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Cant&#39; remove not open for write.</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() || !(<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>)) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Free any clusters.</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> &amp;&amp; !<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">freeChain</a>(<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>)) {</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// Cache directory entry.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  }</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  chksum = <a class="code" href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">lfnChecksum</a>(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// Mark entry deleted.</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] = <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// Set this file closed.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="comment">// Write entry to device.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>()) {</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">isLFN</a>()) {</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// Done, no LFN entries.</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (!dirFile.<a class="code" href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">openCluster</a>(<span class="keyword">this</span>)) {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">for</span> (ord = 1; ord &lt;= <a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a>; ord++) {</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (!dirFile.<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(32UL*(<a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a> - ord))) {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    ldir = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structlong_directory_entry.html">ldir_t</a>*<span class="keyword">&gt;</span>(dirFile.<a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>());</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">if</span> (!ldir) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (ldir-&gt;<a class="code" href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">attr</a> != <a class="code" href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a> ||</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        ord != (ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; 0X1F) ||</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        chksum != ldir-&gt;<a class="code" href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">chksum</a>) {</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    last = ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> &amp; <a class="code" href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    ldir-&gt;<a class="code" href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">ord</a> = <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#adabdd40413c8b523523a34578c933ab1">cacheDirty</a>();</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">if</span> (last) {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>()) {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// Fall into fail.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  DBG_FAIL_MACRO;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;fail:</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="ttc" id="structlong_directory_entry_html_aa36bf1210d0c2b3b80948e5f697eb02e"><div class="ttname"><a href="structlong_directory_entry.html#aa36bf1210d0c2b3b80948e5f697eb02e">longDirectoryEntry::attr</a></div><div class="ttdeci">uint8_t attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00727">FatStructs.h:727</a></div></div>
<div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_ae204655dc23be1d048e8bebf2dfa5089"><div class="ttname"><a href="_fat_structs_8h.html#ae204655dc23be1d048e8bebf2dfa5089">ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00718">FatStructs.h:718</a></div></div>
<div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a60c35531bc0e12f2d764d290244f8cc9"><div class="ttname"><a href="structlong_directory_entry.html#a60c35531bc0e12f2d764d290244f8cc9">longDirectoryEntry::chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00739">FatStructs.h:739</a></div></div>
<div class="ttc" id="class_fat_file_html_aed36d17f8fde597b6ed9446faec1f7e3"><div class="ttname"><a href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">FatFile::isLFN</a></div><div class="ttdeci">bool isLFN() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00391">FatFile.h:391</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a0d3f6fbbd34126b2d5563bba65220985"><div class="ttname"><a href="_fat_structs_8h.html#a0d3f6fbbd34126b2d5563bba65220985">DIR_ATT_LONG_NAME</a></div><div class="ttdeci">uint8_t const DIR_ATT_LONG_NAME</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00565">FatStructs.h:565</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_volume_html_adabdd40413c8b523523a34578c933ab1"><div class="ttname"><a href="class_fat_volume.html#adabdd40413c8b523523a34578c933ab1">FatVolume::cacheDirty</a></div><div class="ttdeci">void cacheDirty()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00310">FatVolume.h:310</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_a5df45b5ab9063af4730251c563d7af1e"><div class="ttname"><a href="class_fat_file.html#a5df45b5ab9063af4730251c563d7af1e">FatFile::openCluster</a></div><div class="ttdeci">bool openCluster(FatFile *file)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00165">FatFileLFN.cpp:165</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f4cf71ff0efdb6eef8be307df0c9fa5"><div class="ttname"><a href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">FatFile::m_lfnOrd</a></div><div class="ttdeci">uint8_t m_lfnOrd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00980">FatFile.h:980</a></div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="structlong_directory_entry_html_a1b65e85dd63d0708cd1b875ce4e5e338"><div class="ttname"><a href="structlong_directory_entry.html#a1b65e85dd63d0708cd1b875ce4e5e338">longDirectoryEntry::ord</a></div><div class="ttdeci">uint8_t ord</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00723">FatStructs.h:723</a></div></div>
<div class="ttc" id="structlong_directory_entry_html"><div class="ttname"><a href="structlong_directory_entry.html">longDirectoryEntry</a></div><div class="ttdoc">FAT long directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00713">FatStructs.h:713</a></div></div>
<div class="ttc" id="class_fat_file_html_ae16fd44b1c014975f0a91422dc78b037"><div class="ttname"><a href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FatFile::FILE_ATTR_CLOSED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00921">FatFile.h:921</a></div></div>
<div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a385e330c40b5fc7d8aa0619183f6705a"><div class="ttname"><a href="_fat_structs_8h.html#a385e330c40b5fc7d8aa0619183f6705a">chksum</a></div><div class="ttdeci">uint8_t chksum</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00734">FatStructs.h:734</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a8cfb60b9eaf04dcdc6e4f5a466af5540"><div class="ttname"><a href="_fat_structs_8h.html#a8cfb60b9eaf04dcdc6e4f5a466af5540">LDIR_ORD_LAST_LONG_ENTRY</a></div><div class="ttdeci">const uint8_t LDIR_ORD_LAST_LONG_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00754">FatStructs.h:754</a></div></div>
<div class="ttc" id="class_fat_file_html_a633920e38e1f91f0d7b7c7646633735a"><div class="ttname"><a href="class_fat_file.html#a633920e38e1f91f0d7b7c7646633735a">FatFile::lfnChecksum</a></div><div class="ttdeci">static uint8_t lfnChecksum(uint8_t *name)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00023">FatFileLFN.cpp:23</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="class_fat_volume_html_a59f81c04dd4133c24ac0f39a6426ad39"><div class="ttname"><a href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">FatVolume::freeChain</a></div><div class="ttdeci">bool freeChain(uint32_t cluster)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00326">FatVolume.cpp:326</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe820bbb056863e91ec482961c8dc695"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove a file.</p>
<p>The directory entry and all data for the file are deleted.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFile</td><td>The directory that contains the file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>Path for the file to be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function should not be used to delete the 8.3 version of a file that has a long name. For example if a file has the long name "New Text Document.txt" you should not delete the 8.3 name "NEWTEX~1.TXT".</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00865">865</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                                       {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> file;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="keywordflow">if</span> (!file.<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(dirFile, path, <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>)) {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">return</span> file.<a class="code" href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">remove</a>();</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;fail:</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div><div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_ac837a537fbcca14c7aa390c5fc9f4e7c"><div class="ttname"><a href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">FatFile::remove</a></div><div class="ttdeci">bool remove()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00549">FatFileLFN.cpp:549</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4b42f2454ff462555c07ea094a92a1e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::rename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dirFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>newPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rename a file or subdirectory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirFile</td><td>Directory for the new path. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newPath</td><td>New path name for the file/directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00877">877</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00247">FatFileSystem::rename()</a>.</p>
<div class="fragment"><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                                                          {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a> entry;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  uint32_t dirCluster = 0;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> file;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> oldFile;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* pc;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  <span class="comment">// Must be an open file or subdirectory.</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() || <a class="code" href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">isSubDir</a>())) {</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  }</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="comment">// Can&#39;t rename LFN in 8.3 mode.</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordflow">if</span> (!USE_LONG_FILE_NAMES &amp;&amp; <a class="code" href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">isLFN</a>()) {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  }</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// Can&#39;t move file to new volume.</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a> != dirFile-&gt;<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>) {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// sync() and cache directory entry</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>();</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  oldFile = *<span class="keyword">this</span>;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a>);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="comment">// save directory entry</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  memcpy(&amp;entry, dir, <span class="keyword">sizeof</span>(entry));</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="comment">// make directory entry for new path</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>()) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">if</span> (!file.<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(dirFile, newPath, <a class="code" href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a> | <a class="code" href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a> | <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>)) {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// don&#39;t create missing path prefix components</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">if</span> (!file.<a class="code" href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">mkdir</a>(dirFile, newPath, <span class="keyword">false</span>)) {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="comment">// save cluster containing new dot dot</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    dirCluster = file.<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  }</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// change to new directory entry</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">m_dirBlock</a> = file.<a class="code" href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">m_dirBlock</a>;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a> = file.<a class="code" href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">m_dirIndex</a>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a> = file.<a class="code" href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">m_lfnOrd</a>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a> = file.<a class="code" href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">m_dirCluster</a>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// mark closed to avoid possible destructor close call</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  file.<a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FILE_ATTR_CLOSED</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="comment">// cache new directory entry</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  }</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="comment">// copy all but name and name flags to new directory entry</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  memcpy(&amp;dir-&gt;<a class="code" href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">creationTimeTenths</a>, &amp;entry.<a class="code" href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">creationTimeTenths</a>,</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;         <span class="keyword">sizeof</span>(entry) - <span class="keyword">sizeof</span>(dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>) - 2);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">attributes</a> = entry.<a class="code" href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">attributes</a>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="comment">// update dot dot if directory</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">if</span> (dirCluster) {</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="comment">// get new dot dot</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    uint32_t block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(dirCluster);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(block, <a class="code" href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a>);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    }</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    memcpy(&amp;entry, &amp;pc-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a>[1], <span class="keyword">sizeof</span>(entry));</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="comment">// free unused cluster</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">freeChain</a>(dirCluster)) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    }</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// store new dot dot</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(block, <a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    }</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    memcpy(&amp;pc-&gt;<a class="code" href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">dir</a>[1], &amp;entry, <span class="keyword">sizeof</span>(entry));</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="comment">// Remove old directory entry;</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  oldFile.<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = 0;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  oldFile.<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> = <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  oldFile.<a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FILE_ATTR_FILE</a>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">if</span> (!oldFile.<a class="code" href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">remove</a>()) {</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  }</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>();</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;fail:</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a312328f1e75c5d1406cf07876b5a930f"><div class="ttname"><a href="class_fat_file.html#a312328f1e75c5d1406cf07876b5a930f">FatFile::m_dirBlock</a></div><div class="ttdeci">uint32_t m_dirBlock</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00986">FatFile.h:986</a></div></div>
<div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a16c6cde55c8175c90935c386f1cfb21a"><div class="ttname"><a href="structdirectory_entry.html#a16c6cde55c8175c90935c386f1cfb21a">directoryEntry::attributes</a></div><div class="ttdeci">uint8_t attributes</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00504">FatStructs.h:504</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ab5635d4288cb294c1ed000fa183e072b"><div class="ttname"><a href="_fat_api_constants_8h.html#ab5635d4288cb294c1ed000fa183e072b">O_EXCL</a></div><div class="ttdeci">uint8_t const O_EXCL</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00047">FatApiConstants.h:47</a></div></div>
<div class="ttc" id="class_fat_file_html_aed36d17f8fde597b6ed9446faec1f7e3"><div class="ttname"><a href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">FatFile::isLFN</a></div><div class="ttdeci">bool isLFN() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00391">FatFile.h:391</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f4cf71ff0efdb6eef8be307df0c9fa5"><div class="ttname"><a href="class_fat_file.html#a5f4cf71ff0efdb6eef8be307df0c9fa5">FatFile::m_lfnOrd</a></div><div class="ttdeci">uint8_t m_lfnOrd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00980">FatFile.h:980</a></div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_abab5b9f72cc796388dd4eed01d13d90d"><div class="ttname"><a href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">FatFile::mkdir</a></div><div class="ttdeci">bool mkdir(FatFile *dir, const char *path, bool pFlag=true)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00256">FatFile.cpp:256</a></div></div>
<div class="ttc" id="class_fat_file_html_ac837a537fbcca14c7aa390c5fc9f4e7c"><div class="ttname"><a href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">FatFile::remove</a></div><div class="ttdeci">bool remove()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00549">FatFileLFN.cpp:549</a></div></div>
<div class="ttc" id="class_fat_file_html_ab3fa11b216d6c34d1efe5b19eda102ac"><div class="ttname"><a href="class_fat_file.html#ab3fa11b216d6c34d1efe5b19eda102ac">FatFile::m_dirCluster</a></div><div class="ttdeci">uint32_t m_dirCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00983">FatFile.h:983</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a20d0ef801486dd02de6ee482de731193"><div class="ttname"><a href="_fat_api_constants_8h.html#a20d0ef801486dd02de6ee482de731193">O_CREAT</a></div><div class="ttdeci">uint8_t const O_CREAT</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00045">FatApiConstants.h:45</a></div></div>
<div class="ttc" id="structdirectory_entry_html_aa5e1ce5b411b88f005b28a3e7c7c5af6"><div class="ttname"><a href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">directoryEntry::creationTimeTenths</a></div><div class="ttdeci">uint8_t creationTimeTenths</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00515">FatStructs.h:515</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="class_fat_file_html_ae16fd44b1c014975f0a91422dc78b037"><div class="ttname"><a href="class_fat_file.html#ae16fd44b1c014975f0a91422dc78b037">FatFile::FILE_ATTR_CLOSED</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_CLOSED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00921">FatFile.h:921</a></div></div>
<div class="ttc" id="class_fat_file_html_acef80642dcb06aab0df17512f3cf0e80"><div class="ttname"><a href="class_fat_file.html#acef80642dcb06aab0df17512f3cf0e80">FatFile::m_dirIndex</a></div><div class="ttdeci">uint16_t m_dirIndex</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00981">FatFile.h:981</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a6fc6734b7277948e48f048d21df45cf1"><div class="ttname"><a href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FatFile::FILE_ATTR_FILE</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_FILE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00929">FatFile.h:929</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="class_fat_file_html_a95b503b17442c2b364a2f53de1b2aeba"><div class="ttname"><a href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">FatFile::isSubDir</a></div><div class="ttdeci">bool isSubDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00415">FatFile.h:415</a></div></div>
<div class="ttc" id="unioncache__t_html_a7396fdbdb7c52bd1d72c5329ff32acd1"><div class="ttname"><a href="unioncache__t.html#a7396fdbdb7c52bd1d72c5329ff32acd1">cache_t::dir</a></div><div class="ttdeci">dir_t dir[16]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00079">FatVolume.h:79</a></div></div>
<div class="ttc" id="class_fat_volume_html_a59f81c04dd4133c24ac0f39a6426ad39"><div class="ttname"><a href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">FatVolume::freeChain</a></div><div class="ttdeci">bool freeChain(uint32_t cluster)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00326">FatVolume.cpp:326</a></div></div>
<div class="ttc" id="class_fat_cache_html_ae5ac564caf5c65f223a6f5c6adac0691"><div class="ttname"><a href="class_fat_cache.html#ae5ac564caf5c65f223a6f5c6adac0691">FatCache::CACHE_FOR_READ</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00106">FatVolume.h:106</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5aac6e0b3cb08fc8b8668e916a8b0ca5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::rewind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the file's current position to zero. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00733">733</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00628">lfnUniqueSfn()</a>, <a class="el" href="_fat_file_print_8cpp_source.html#l00094">ls()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00416">open()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(0);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9515bac181d33e7f0125e88fa2ccd283"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::rmdir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a directory file.</p>
<p>The directory file will be removed only if it is empty and is not the root directory. <a class="el" href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">rmdir()</a> follows DOS and Windows and ignores the read-only attribute for the directory.</p>
<dl class="section note"><dt>Note</dt><dd>This function should not be used to delete the 8.3 version of a directory that has a long name. For example if a directory has the long name "New folder" you should not delete the 8.3 name "NEWFOL~1".</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l00984">984</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00264">FatFileSystem::rmdir()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="comment">// must be open subdirectory</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">isSubDir</a>() || (!USE_LONG_FILE_NAMES &amp;&amp; <a class="code" href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">isLFN</a>())) {</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// make sure directory is empty</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="structdirectory_entry.html">dir_t</a>* dir = <a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="comment">// EOF if no error.</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a>()) {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      }</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    }</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="comment">// done if past last used entry</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">// skip empty slot, &#39;.&#39; or &#39;..&#39;</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    }</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">// error not empty</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir)) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  }</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// convert empty directory to normal file for remove</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">m_attr</a> = <a class="code" href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FILE_ATTR_FILE</a>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">remove</span>();</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;fail:</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div><div class="ttc" id="class_fat_file_html_aed36d17f8fde597b6ed9446faec1f7e3"><div class="ttname"><a href="class_fat_file.html#aed36d17f8fde597b6ed9446faec1f7e3">FatFile::isLFN</a></div><div class="ttdeci">bool isLFN() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00391">FatFile.h:391</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="class_fat_file_html_adaf280dca7fee4b0909d922bbce6ae5f"><div class="ttname"><a href="class_fat_file.html#adaf280dca7fee4b0909d922bbce6ae5f">FatFile::m_attr</a></div><div class="ttdeci">uint8_t m_attr</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00977">FatFile.h:977</a></div></div>
<div class="ttc" id="class_fat_file_html_ad0dbbd083180f44c7a3ce7124d4ce19c"><div class="ttname"><a href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">FatFile::getError</a></div><div class="ttdeci">uint8_t getError()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00188">FatFile.h:188</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a6fc6734b7277948e48f048d21df45cf1"><div class="ttname"><a href="class_fat_file.html#a6fc6734b7277948e48f048d21df45cf1">FatFile::FILE_ATTR_FILE</a></div><div class="ttdeci">static const uint8_t FILE_ATTR_FILE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00929">FatFile.h:929</a></div></div>
<div class="ttc" id="class_fat_file_html_a95b503b17442c2b364a2f53de1b2aeba"><div class="ttname"><a href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">FatFile::isSubDir</a></div><div class="ttdeci">bool isSubDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00415">FatFile.h:415</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac780a80526f86d3def701ecdc99d8bfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::rmRfStar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recursively delete a directory and all contained files.</p>
<p>This is like the Unix/Linux 'rm -rf *' if called with the root directory hence the name.</p>
<p>Warning - This will remove all contents of the directory including subdirectories. The directory will then be removed if it is not root. The read-only attribute for files will be ignored.</p>
<dl class="section note"><dt>Note</dt><dd>This function should not be used to delete the 8.3 version of a directory that has a long name. See <a class="el" href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">remove()</a> and <a class="el" href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">rmdir()</a>.</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01026">1026</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>.</p>
<div class="fragment"><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                       {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  uint16_t index;</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> f;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  }</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">rewind</a>();</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">while</span> (1) {</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">// remember position</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    index = <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>/32;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="structdirectory_entry.html">dir_t</a>* dir = <a class="code" href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">readDirCache</a>();</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      <span class="comment">// At EOF if no error.</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">getError</a>()) {</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// done if past last entry</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a>) {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="comment">// skip empty slot or &#39;.&#39; or &#39;..&#39;</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">if</span> (dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a> || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// skip if part of long file name or volume label in root</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a>(dir)) {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">if</span> (!f.<a class="code" href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">open</a>(<span class="keyword">this</span>, index, <a class="code" href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a>)) {</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">if</span> (f.<a class="code" href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">isSubDir</a>()) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="comment">// recursively delete</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="keywordflow">if</span> (!f.<a class="code" href="class_fat_file.html#ac780a80526f86d3def701ecdc99d8bfe">rmRfStar</a>()) {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      }</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="comment">// ignore read-only</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      f.<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <span class="keywordflow">if</span> (!f.<a class="code" href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">remove</a>()) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      }</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    }</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// position to next entry if required</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> != (32UL*(index + 1))) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(32UL*(index + 1))) {</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      }</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    }</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  }</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="comment">// don&#39;t try to delete root</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#aa4a206803a4bf8243be20244c1aef4d2">isRoot</a>()) {</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">rmdir</a>()) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;fail:</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;}</div><div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00109">FatFile.h:109</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
<div class="ttc" id="class_fat_file_html_ac780a80526f86d3def701ecdc99d8bfe"><div class="ttname"><a href="class_fat_file.html#ac780a80526f86d3def701ecdc99d8bfe">FatFile::rmRfStar</a></div><div class="ttdeci">bool rmRfStar()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01026">FatFile.cpp:1026</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_ac5a1c3e543273b0374ba114c496e662e"><div class="ttname"><a href="_fat_api_constants_8h.html#ac5a1c3e543273b0374ba114c496e662e">O_READ</a></div><div class="ttdeci">uint8_t const O_READ</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00025">FatApiConstants.h:25</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a23b2e4d06e245c778f4c52909cf97c76"><div class="ttname"><a href="_fat_structs_8h.html#a23b2e4d06e245c778f4c52909cf97c76">DIR_NAME_FREE</a></div><div class="ttdeci">uint8_t const DIR_NAME_FREE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00550">FatStructs.h:550</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a9d99b04fa090825a9b9c2468fa81e627"><div class="ttname"><a href="_fat_structs_8h.html#a9d99b04fa090825a9b9c2468fa81e627">DIR_IS_FILE_OR_SUBDIR</a></div><div class="ttdeci">static uint8_t DIR_IS_FILE_OR_SUBDIR(const dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00593">FatStructs.h:593</a></div></div>
<div class="ttc" id="class_fat_file_html_aa4a206803a4bf8243be20244c1aef4d2"><div class="ttname"><a href="class_fat_file.html#aa4a206803a4bf8243be20244c1aef4d2">FatFile::isRoot</a></div><div class="ttdeci">bool isRoot() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00399">FatFile.h:399</a></div></div>
<div class="ttc" id="class_fat_file_html_ac837a537fbcca14c7aa390c5fc9f4e7c"><div class="ttname"><a href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">FatFile::remove</a></div><div class="ttdeci">bool remove()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_l_f_n_8cpp_source.html#l00549">FatFileLFN.cpp:549</a></div></div>
<div class="ttc" id="class_fat_file_html_a9515bac181d33e7f0125e88fa2ccd283"><div class="ttname"><a href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">FatFile::rmdir</a></div><div class="ttdeci">bool rmdir()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00984">FatFile.cpp:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad0dbbd083180f44c7a3ce7124d4ce19c"><div class="ttname"><a href="class_fat_file.html#ad0dbbd083180f44c7a3ce7124d4ce19c">FatFile::getError</a></div><div class="ttdeci">uint8_t getError()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00188">FatFile.h:188</a></div></div>
<div class="ttc" id="class_fat_file_html_acb793c305e131e442f3be5f242e8c223"><div class="ttname"><a href="class_fat_file.html#acb793c305e131e442f3be5f242e8c223">FatFile::readDirCache</a></div><div class="ttdeci">dir_t * readDirCache(bool skipReadOk=false)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00838">FatFile.cpp:838</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_file_html_a5f64576d3d19177ab3cf3812b69abdfa"><div class="ttname"><a href="class_fat_file.html#a5f64576d3d19177ab3cf3812b69abdfa">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, uint8_t oflag)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00368">FatFile.cpp:368</a></div></div>
<div class="ttc" id="class_fat_file_html_a95b503b17442c2b364a2f53de1b2aeba"><div class="ttname"><a href="class_fat_file.html#a95b503b17442c2b364a2f53de1b2aeba">FatFile::isSubDir</a></div><div class="ttdeci">bool isSubDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00415">FatFile.h:415</a></div></div>
<div class="ttc" id="class_fat_file_html_a5aac6e0b3cb08fc8b8668e916a8b0ca5"><div class="ttname"><a href="class_fat_file.html#a5aac6e0b3cb08fc8b8668e916a8b0ca5">FatFile::rewind</a></div><div class="ttdeci">void rewind()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00733">FatFile.h:733</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5812037ea30777cc350698ad26f2c73f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::seekCur </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the files position to current position + <em>pos</em>. See <a class="el" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet()</a>. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The new position in bytes from the current position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>true for success or false for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00779">779</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_stdio_stream_8cpp_source.html#l00184">StdioStream::fseek()</a>.</p>
<div class="fragment"><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                               {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> + offset);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84f677f4e75ef6fa2eb632f4cdf6b486"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::seekEnd </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the files position to end-of-file + <em>offset</em>. See <a class="el" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet()</a>. Can't be used for directory files since file size is not defined. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The new position in bytes from end-of-file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>true for success or false for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00787">787</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_stdio_stream_8cpp_source.html#l00184">StdioStream::fseek()</a>.</p>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                                   {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() ? <a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(<a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> + offset) : false;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab067190d25733ed7e697d9890f61fd7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::seekSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets a file's position.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>The new position in bytes from the beginning of the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01101">1101</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_print_8cpp_source.html#l00056">dmpFile()</a>, <a class="el" href="_stdio_stream_8cpp_source.html#l00184">StdioStream::fseek()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00416">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_stdio_stream_8cpp_source.html#l00493">StdioStream::rewind()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                                  {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  uint32_t nCur;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  uint32_t nNew;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  uint32_t tmp = <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">// error if file not open</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  }</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">if</span> (pos == 0) {</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="comment">// set position to start of file</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> = 0;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  }</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>()) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> (pos &gt; <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>) {</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">isRootFixed</a>()) {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">if</span> (pos &lt;= 32*m_vol-&gt;<a class="code" href="_fat_structs_8h.html#aabe25e54b9c06a9a7393fc6c475d9fa1">rootDirEntryCount</a>()) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// calculate cluster index for cur and new position</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  nCur = (<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> - 1) &gt;&gt; (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ac0e63f33d71d5dc95a602834274def6a">clusterSizeShift</a>() + 9);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  nNew = (pos - 1) &gt;&gt; (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ac0e63f33d71d5dc95a602834274def6a">clusterSizeShift</a>() + 9);</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordflow">if</span> (nNew &lt; nCur || <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> == 0) {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">// must follow chain from first cluster</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> = <a class="code" href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">isRoot32</a>() ? <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">rootDirStart</a>() : <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="comment">// advance from curPosition</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    nNew -= nCur;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keywordflow">while</span> (nNew--) {</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">fatGet</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>, &amp;<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>) &lt;= 0) {</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    }</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;done:</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> = pos;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;fail:</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> = tmp;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;}</div><div class="ttc" id="class_fat_volume_html_ac0e63f33d71d5dc95a602834274def6a"><div class="ttname"><a href="class_fat_volume.html#ac0e63f33d71d5dc95a602834274def6a">FatVolume::clusterSizeShift</a></div><div class="ttdeci">uint8_t clusterSizeShift() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00186">FatVolume.h:186</a></div></div>
<div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_aabe25e54b9c06a9a7393fc6c475d9fa1"><div class="ttname"><a href="_fat_structs_8h.html#aabe25e54b9c06a9a7393fc6c475d9fa1">rootDirEntryCount</a></div><div class="ttdeci">uint16_t rootDirEntryCount</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00078">FatStructs.h:78</a></div></div>
<div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="class_fat_file_html_a1449b294e3a838396c62e47674ca8cf0"><div class="ttname"><a href="class_fat_file.html#a1449b294e3a838396c62e47674ca8cf0">FatFile::isRoot32</a></div><div class="ttdeci">bool isRoot32() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00403">FatFile.h:403</a></div></div>
<div class="ttc" id="class_fat_file_html_a8215bd4b21e11ec83fa88ef226ceb06f"><div class="ttname"><a href="class_fat_file.html#a8215bd4b21e11ec83fa88ef226ceb06f">FatFile::isRootFixed</a></div><div class="ttdeci">bool isRootFixed() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00407">FatFile.h:407</a></div></div>
<div class="ttc" id="class_fat_volume_html_acd39c4c661e221e573a8dc7e392146fd"><div class="ttname"><a href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">FatVolume::fatGet</a></div><div class="ttdeci">int8_t fatGet(uint32_t cluster, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00187">FatVolume.cpp:187</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="class_fat_volume_html_ae9363ebbbae90e895ea56e8fa3f60c13"><div class="ttname"><a href="class_fat_volume.html#ae9363ebbbae90e895ea56e8fa3f60c13">FatVolume::rootDirStart</a></div><div class="ttdeci">uint32_t rootDirStart() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00236">FatVolume.h:236</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a360ef9c05e677271bed6c0a4d663634c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool FatFile::setCwd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the current working directory.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>New current working directory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>true for success else false. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00804">804</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00042">FatFileSystem::begin()</a>, <a class="el" href="_fat_file_system_8h_source.html#l00100">FatFileSystem::chdir()</a>, et <a class="el" href="_fat_file_system_8h_source.html#l00156">FatFileSystem::chvol()</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                   {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (!dir-&gt;<a class="code" href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">isDir</a>()) {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">m_cwd</a> = dir;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_a0388ab43da6abd32ae4f3a2a4d4c3c6e"><div class="ttname"><a href="class_fat_file.html#a0388ab43da6abd32ae4f3a2a4d4c3c6e">FatFile::m_cwd</a></div><div class="ttdeci">static FatFile * m_cwd</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00971">FatFile.h:971</a></div></div>
<div class="ttc" id="class_fat_file_html_aef41d65e0f1ce753d18cc9ed691f7de4"><div class="ttname"><a href="class_fat_file.html#aef41d65e0f1ce753d18cc9ed691f7de4">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00379">FatFile.h:379</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24af317a74b68bd1cea229e631b3b944"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::setDirSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acf264de4e3ca36c5e8a39e56173c9044"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FatFile::setpos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_fat_pos__t.html">FatPos_t</a> *&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set position for streams </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>struct with value for new position </td></tr>
  </table>
  </dd>
</dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01154">1154</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="fstream_8h_source.html#l00119">fstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00204">ifstream::open()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00686">peek()</a>.</p>
<div class="fragment"><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                                  {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> = pos-&gt;<a class="code" href="struct_fat_pos__t.html#a8e14c6f2705777502b543452743eaa26">position</a>;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> = pos-&gt;<a class="code" href="struct_fat_pos__t.html#a7b50657b0debaf0e6231af2c74a655fe">cluster</a>;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="struct_fat_pos__t_html_a8e14c6f2705777502b543452743eaa26"><div class="ttname"><a href="struct_fat_pos__t.html#a8e14c6f2705777502b543452743eaa26">FatPos_t::position</a></div><div class="ttdeci">uint32_t position</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00068">FatFile.h:68</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="struct_fat_pos__t_html_a7b50657b0debaf0e6231af2c74a655fe"><div class="ttname"><a href="struct_fat_pos__t.html#a7b50657b0debaf0e6231af2c74a655fe">FatPos_t::cluster</a></div><div class="ttdeci">uint32_t cluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00070">FatFile.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67f3dc4896c542d695e11aac927f585e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::sync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync()</a> call causes all modified data and directory fields to be written to the storage device.</p>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01159">1159</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00090">close()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00159">dirEntry()</a>, <a class="el" href="_stdio_stream_8cpp_source.html#l00042">StdioStream::fflush()</a>, <a class="el" href="_arduino_files_8h_source.html#l00067">PrintFile::flush()</a>, <a class="el" href="fstream_8h_source.html#l00119">fstream::is_open()</a>, <a class="el" href="fstream_8h_source.html#l00280">ofstream::is_open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01198">timestamp()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, <a class="el" href="_arduino_files_8h_source.html#l00108">PrintFile::write()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>
<div class="fragment"><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                   {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">isOpen</a>()) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>) {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <a class="code" href="structdirectory_entry.html">dir_t</a>* dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// check for deleted by another open file object</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (!dir || dir-&gt;<a class="code" href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">name</a>[0] == <a class="code" href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a>) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    }</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">// do not set filesize for dir files</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>()) {</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      dir-&gt;<a class="code" href="structdirectory_entry.html#ac2445d99b50f925f662952e0ccd26a02">fileSize</a> = <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>;</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">// update first cluster fields</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">firstClusterLow</a> = <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> &amp; 0XFFFF;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">firstClusterHigh</a> = <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> &gt;&gt; 16;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">// set modify time if user supplied a callback date/time function</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a>) {</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a>(&amp;dir-&gt;<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a>, &amp;dir-&gt;<a class="code" href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">lastWriteTime</a>);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      dir-&gt;<a class="code" href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">lastAccessDate</a> = dir-&gt;<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a>;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    }</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// clear directory dirty</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp;= ~F_FILE_DIR_DIRTY;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>()) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  DBG_FAIL_MACRO;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;fail:</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> |= <a class="code" href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">WRITE_ERROR</a>;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a12b2e7cf87482a942a0b5d3df6c51468"><div class="ttname"><a href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">directoryEntry::lastWriteDate</a></div><div class="ttdeci">uint16_t lastWriteDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00534">FatStructs.h:534</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a76c0cea669176f73d5fb380ad9443362"><div class="ttname"><a href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">FatFile::m_dateTime</a></div><div class="ttdeci">static void(* m_dateTime)(uint16_t *date, uint16_t *time)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00973">FatFile.h:973</a></div></div>
<div class="ttc" id="class_fat_file_html_a4c8a07b081f04aa25839c6f56c739bdc"><div class="ttname"><a href="class_fat_file.html#a4c8a07b081f04aa25839c6f56c739bdc">FatFile::isOpen</a></div><div class="ttdeci">bool isOpen() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00395">FatFile.h:395</a></div></div>
<div class="ttc" id="structdirectory_entry_html_abca70dc5c5fcbe199fd78df010111331"><div class="ttname"><a href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">directoryEntry::lastAccessDate</a></div><div class="ttdeci">uint16_t lastAccessDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00525">FatStructs.h:525</a></div></div>
<div class="ttc" id="structdirectory_entry_html_ac2445d99b50f925f662952e0ccd26a02"><div class="ttname"><a href="structdirectory_entry.html#ac2445d99b50f925f662952e0ccd26a02">directoryEntry::fileSize</a></div><div class="ttdeci">uint32_t fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00538">FatStructs.h:538</a></div></div>
<div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a74bd660417a9c3501eae353326c14bb9"><div class="ttname"><a href="structdirectory_entry.html#a74bd660417a9c3501eae353326c14bb9">directoryEntry::firstClusterLow</a></div><div class="ttdeci">uint16_t firstClusterLow</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00536">FatStructs.h:536</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7bab435322d1928f66fbce53ee1f402d"><div class="ttname"><a href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">directoryEntry::lastWriteTime</a></div><div class="ttdeci">uint16_t lastWriteTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00532">FatStructs.h:532</a></div></div>
<div class="ttc" id="class_fat_file_html_a6e494d044c64dee482b0c25ded6595c1"><div class="ttname"><a href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">FatFile::WRITE_ERROR</a></div><div class="ttdeci">static const uint8_t WRITE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00975">FatFile.h:975</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a3b492598b2b05e8425d2a500443613bd"><div class="ttname"><a href="structdirectory_entry.html#a3b492598b2b05e8425d2a500443613bd">directoryEntry::firstClusterHigh</a></div><div class="ttdeci">uint16_t firstClusterHigh</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00530">FatStructs.h:530</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a5de4ada3536d89559f6433e835e311da"><div class="ttname"><a href="_fat_structs_8h.html#a5de4ada3536d89559f6433e835e311da">DIR_NAME_DELETED</a></div><div class="ttdeci">uint8_t const DIR_NAME_DELETED</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00548">FatStructs.h:548</a></div></div>
<div class="ttc" id="class_fat_file_html_a41d74298637a86bf593b9b7fa449d84b"><div class="ttname"><a href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">FatFile::F_FILE_DIR_DIRTY</a></div><div class="ttdeci">static uint8_t const F_FILE_DIR_DIRTY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00968">FatFile.h:968</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a05dc993ea55a1a742de5970541a31ecb"><div class="ttname"><a href="structdirectory_entry.html#a05dc993ea55a1a742de5970541a31ecb">directoryEntry::name</a></div><div class="ttdeci">uint8_t name[11]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00497">FatStructs.h:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa53a8d1d2467ad9af7d61cbf8ee85243"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::timestamp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_fat_file.html">FatFile</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy a file's timestamps</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td><a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> to copy timestamps from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Modify and access timestamps may be overwritten if a date time callback function has been set by <a class="el" href="class_fat_file.html#a29a623f50df057e8b49045ba6611ec2b">dateTimeCallback()</a>.</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01198">1198</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                                     {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a> srcDir;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="comment">// most be files get timestamps</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() || !file-&gt;<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() || !file-&gt;<a class="code" href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">dirEntry</a>(&amp;srcDir)) {</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  }</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// update directory fields</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>()) {</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  }</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// copy timestamps</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">lastAccessDate</a> = srcDir.<a class="code" href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">lastAccessDate</a>;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a> = srcDir.<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a>;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a> = srcDir.<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a>;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">creationTimeTenths</a> = srcDir.<a class="code" href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">creationTimeTenths</a>;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a> = srcDir.<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a>;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  dir-&gt;<a class="code" href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">lastWriteTime</a> = srcDir.<a class="code" href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">lastWriteTime</a>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="comment">// write back entry</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>();</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;fail:</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a12b2e7cf87482a942a0b5d3df6c51468"><div class="ttname"><a href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">directoryEntry::lastWriteDate</a></div><div class="ttdeci">uint16_t lastWriteDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00534">FatStructs.h:534</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7b43372794655fe6604d3c17c02302fe"><div class="ttname"><a href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">directoryEntry::creationDate</a></div><div class="ttdeci">uint16_t creationDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00519">FatStructs.h:519</a></div></div>
<div class="ttc" id="class_fat_file_html_a6858d18c807411a071fd6d1b39d50087"><div class="ttname"><a href="class_fat_file.html#a6858d18c807411a071fd6d1b39d50087">FatFile::dirEntry</a></div><div class="ttdeci">bool dirEntry(dir_t *dir)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00159">FatFile.cpp:159</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="structdirectory_entry_html_abca70dc5c5fcbe199fd78df010111331"><div class="ttname"><a href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">directoryEntry::lastAccessDate</a></div><div class="ttdeci">uint16_t lastAccessDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00525">FatStructs.h:525</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a622bfa70c2cd9006108d7473d737a953"><div class="ttname"><a href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">directoryEntry::creationTime</a></div><div class="ttdeci">uint16_t creationTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00517">FatStructs.h:517</a></div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="structdirectory_entry_html_aa5e1ce5b411b88f005b28a3e7c7c5af6"><div class="ttname"><a href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">directoryEntry::creationTimeTenths</a></div><div class="ttdeci">uint8_t creationTimeTenths</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00515">FatStructs.h:515</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7bab435322d1928f66fbce53ee1f402d"><div class="ttname"><a href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">directoryEntry::lastWriteTime</a></div><div class="ttdeci">uint16_t lastWriteTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00532">FatStructs.h:532</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56dabdf73833b7e961c4530eb8e16d23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::timestamp </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>minute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a file's timestamps in its directory entry.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Values for <em>flags</em> are constructed by a bitwise-inclusive OR of flags from the following list</td></tr>
  </table>
  </dd>
</dl>
<p>T_ACCESS - Set the file's last access date.</p>
<p>T_CREATE - Set the file's creation date and time.</p>
<p>T_WRITE - Set the file's last write/modification date and time.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">year</td><td>Valid range 1980 - 2107 inclusive.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">month</td><td>Valid range 1 - 12 inclusive.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">day</td><td>Valid range 1 - 31 inclusive.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hour</td><td>Valid range 0 - 23 inclusive.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minute</td><td>Valid range 0 - 59 inclusive.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">second</td><td>Valid range 0 - 59 inclusive</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It is possible to set an invalid date since there is no check for the number of days in a month.</dd>
<dd>
Modify and access timestamps may be overwritten if a date time callback function has been set by <a class="el" href="class_fat_file.html#a29a623f50df057e8b49045ba6611ec2b">dateTimeCallback()</a>.</dd></dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01232">1232</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                                                                              {</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  uint16_t dirDate;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  uint16_t dirTime;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <a class="code" href="structdirectory_entry.html">dir_t</a>* dir;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>()</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      || year &lt; 1980</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      || year &gt; 2107</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      || month &lt; 1</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      || month &gt; 12</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      || day &lt; 1</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      || day &gt; 31</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      || hour &gt; 23</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      || minute &gt; 59</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      || second &gt; 59) {</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  }</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// update directory entry</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>()) {</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  }</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  dir = <a class="code" href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">cacheDirEntry</a>(<a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  <span class="keywordflow">if</span> (!dir) {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  dirDate = <a class="code" href="_fat_structs_8h.html#a44899ad42ddf32ff1c1a73b5251b304a">FAT_DATE</a>(year, month, day);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  dirTime = <a class="code" href="_fat_structs_8h.html#a375720927be5a39475d48b2d75dae29a">FAT_TIME</a>(hour, minute, second);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="_fat_api_constants_8h.html#a5f34ce6e95713d872ca6a640c8783462">T_ACCESS</a>) {</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">lastAccessDate</a> = dirDate;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  }</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="_fat_api_constants_8h.html#a533dc316f5a59209ac5e9c630d2df4c4">T_CREATE</a>) {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">creationDate</a> = dirDate;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">creationTime</a> = dirTime;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">// seems to be units of 1/100 second not 1/10 as Microsoft states</span></div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">creationTimeTenths</a> = second &amp; 1 ? 100 : 0;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="_fat_api_constants_8h.html#a2a6192fd0f5847783868deed6de53d1e">T_WRITE</a>) {</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">lastWriteDate</a> = dirDate;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    dir-&gt;<a class="code" href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">lastWriteTime</a> = dirTime;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">cacheSync</a>();</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;fail:</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a164e28cf69fa91c2654538c2df05a3e0"><div class="ttname"><a href="class_fat_file.html#a164e28cf69fa91c2654538c2df05a3e0">FatFile::cacheDirEntry</a></div><div class="ttdeci">dir_t * cacheDirEntry(uint8_t action)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00077">FatFile.cpp:77</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a12b2e7cf87482a942a0b5d3df6c51468"><div class="ttname"><a href="structdirectory_entry.html#a12b2e7cf87482a942a0b5d3df6c51468">directoryEntry::lastWriteDate</a></div><div class="ttdeci">uint16_t lastWriteDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00534">FatStructs.h:534</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7b43372794655fe6604d3c17c02302fe"><div class="ttname"><a href="structdirectory_entry.html#a7b43372794655fe6604d3c17c02302fe">directoryEntry::creationDate</a></div><div class="ttdeci">uint16_t creationDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00519">FatStructs.h:519</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a533dc316f5a59209ac5e9c630d2df4c4"><div class="ttname"><a href="_fat_api_constants_8h.html#a533dc316f5a59209ac5e9c630d2df4c4">T_CREATE</a></div><div class="ttdeci">uint8_t const T_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00064">FatApiConstants.h:64</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a2a6192fd0f5847783868deed6de53d1e"><div class="ttname"><a href="_fat_api_constants_8h.html#a2a6192fd0f5847783868deed6de53d1e">T_WRITE</a></div><div class="ttdeci">uint8_t const T_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00066">FatApiConstants.h:66</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a44899ad42ddf32ff1c1a73b5251b304a"><div class="ttname"><a href="_fat_structs_8h.html#a44899ad42ddf32ff1c1a73b5251b304a">FAT_DATE</a></div><div class="ttdeci">static uint16_t FAT_DATE(uint16_t year, uint8_t month, uint8_t day)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00635">FatStructs.h:635</a></div></div>
<div class="ttc" id="structdirectory_entry_html_abca70dc5c5fcbe199fd78df010111331"><div class="ttname"><a href="structdirectory_entry.html#abca70dc5c5fcbe199fd78df010111331">directoryEntry::lastAccessDate</a></div><div class="ttdeci">uint16_t lastAccessDate</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00525">FatStructs.h:525</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a622bfa70c2cd9006108d7473d737a953"><div class="ttname"><a href="structdirectory_entry.html#a622bfa70c2cd9006108d7473d737a953">directoryEntry::creationTime</a></div><div class="ttdeci">uint16_t creationTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00517">FatStructs.h:517</a></div></div>
<div class="ttc" id="_fat_structs_8h_html_a375720927be5a39475d48b2d75dae29a"><div class="ttname"><a href="_fat_structs_8h.html#a375720927be5a39475d48b2d75dae29a">FAT_TIME</a></div><div class="ttdeci">static uint16_t FAT_TIME(uint8_t hour, uint8_t minute, uint8_t second)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00669">FatStructs.h:669</a></div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="structdirectory_entry_html_aa5e1ce5b411b88f005b28a3e7c7c5af6"><div class="ttname"><a href="structdirectory_entry.html#aa5e1ce5b411b88f005b28a3e7c7c5af6">directoryEntry::creationTimeTenths</a></div><div class="ttdeci">uint8_t creationTimeTenths</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00515">FatStructs.h:515</a></div></div>
<div class="ttc" id="structdirectory_entry_html_a7bab435322d1928f66fbce53ee1f402d"><div class="ttname"><a href="structdirectory_entry.html#a7bab435322d1928f66fbce53ee1f402d">directoryEntry::lastWriteTime</a></div><div class="ttdeci">uint16_t lastWriteTime</div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00532">FatStructs.h:532</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="structdirectory_entry_html"><div class="ttname"><a href="structdirectory_entry.html">directoryEntry</a></div><div class="ttdoc">FAT short directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_structs_8h_source.html#l00491">FatStructs.h:491</a></div></div>
<div class="ttc" id="class_fat_volume_html_aa1be39212ebf2b1a98952be03632faf2"><div class="ttname"><a href="class_fat_volume.html#aa1be39212ebf2b1a98952be03632faf2">FatVolume::cacheSync</a></div><div class="ttdeci">bool cacheSync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00283">FatVolume.h:283</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a5f34ce6e95713d872ca6a640c8783462"><div class="ttname"><a href="_fat_api_constants_8h.html#a5f34ce6e95713d872ca6a640c8783462">T_ACCESS</a></div><div class="ttdeci">uint8_t const T_ACCESS</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00062">FatApiConstants.h:62</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6e663098a578635d37d92e82d18d616"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FatFile::truncate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncate a file to a specified length. The current file position will be maintained if it is less than or equal to <em>length</em> otherwise it will be set to end of file.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The desired length for the file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>The value true is returned for success and the value false is returned for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01282">1282</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_system_8h_source.html#l00282">FatFileSystem::truncate()</a>.</p>
<div class="fragment"><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                                      {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  uint32_t newPos;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="comment">// error if not a normal file or read-only</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() || !(<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>)) {</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  }</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// error if length is greater than current size</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordflow">if</span> (length &gt; <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>) {</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  }</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  <span class="comment">// fileSize and length are zero - nothing to do</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> == 0) {</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="comment">// remember position for seek after truncation</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  newPos = <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> &gt; length ? length : <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// position to last cluster in truncated file</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(length)) {</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  }</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">if</span> (length == 0) {</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="comment">// free all clusters</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">freeChain</a>(<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>)) {</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    }</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = 0;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    uint32_t toFree;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    int8_t fg = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">fatGet</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>, &amp;toFree);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keywordflow">if</span> (fg &lt; 0) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    }</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (fg) {</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <span class="comment">// free extra clusters</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">freeChain</a>(toFree)) {</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      }</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="comment">// current cluster is end of chain</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#aafc19b1b6628f14f7a9dba5e02b713b1">fatPutEOC</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>)) {</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    }</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  }</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> = length;</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">// need to update directory entry</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>()) {</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  }</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="comment">// set file to correct position</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(newPos);</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;fail:</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="class_fat_volume_html_aafc19b1b6628f14f7a9dba5e02b713b1"><div class="ttname"><a href="class_fat_volume.html#aafc19b1b6628f14f7a9dba5e02b713b1">FatVolume::fatPutEOC</a></div><div class="ttdeci">bool fatPutEOC(uint32_t cluster)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00322">FatVolume.h:322</a></div></div>
<div class="ttc" id="class_fat_volume_html_acd39c4c661e221e573a8dc7e392146fd"><div class="ttname"><a href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">FatVolume::fatGet</a></div><div class="ttdeci">int8_t fatGet(uint32_t cluster, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00187">FatVolume.cpp:187</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="class_fat_volume_html_a59f81c04dd4133c24ac0f39a6426ad39"><div class="ttname"><a href="class_fat_volume.html#a59f81c04dd4133c24ac0f39a6426ad39">FatVolume::freeChain</a></div><div class="ttdeci">bool freeChain(uint32_t cluster)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00326">FatVolume.cpp:326</a></div></div>
<div class="ttc" id="class_fat_file_html_a41d74298637a86bf593b9b7fa449d84b"><div class="ttname"><a href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">FatFile::F_FILE_DIR_DIRTY</a></div><div class="ttdeci">static uint8_t const F_FILE_DIR_DIRTY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00968">FatFile.h:968</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3c64bd8a9abb9a6461d4addb405614df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_fat_volume.html">FatVolume</a>* FatFile::volume </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Renvoie</dt><dd><a class="el" href="class_fat_volume.html" title="Access FAT16 and FAT32 volumes on raw file devices. ">FatVolume</a> that contains this file. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00884">884</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                            {</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4a5b81161994cea07938702cdfce49f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="_r_f24__config_8h.html#ad5a90413477085cb1b8c31d37ebba567">char</a> *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write a string to a file. Used by the Arduino Print class. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>Pointer to the string. Use getWriteError to check for errors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>count of characters written for success or -1 for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00892">892</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_stdio_stream_8cpp_source.html#l00561">StdioStream::flushBuf()</a>, <a class="el" href="_fat_file_print_8cpp_source.html#l00184">printField()</a>, <a class="el" href="_fat_file_print_8cpp_source.html#l00158">printFieldT()</a>, <a class="el" href="_arduino_files_8h_source.html#l00090">PrintFile::write()</a>, et <a class="el" href="_arduino_files_8h_source.html#l00053">PrintFile::~PrintFile()</a>.</p>
<div class="fragment"><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                             {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write</a>(str, strlen(str));</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_aa4a5b81161994cea07938702cdfce49f"><div class="ttname"><a href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">FatFile::write</a></div><div class="ttdeci">int write(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00892">FatFile.h:892</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5524bd9f3b8f54ee163e391cba618186"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::write </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write a single byte. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>The byte to be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>+1 for success or -1 for failure. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00899">899</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                       {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write</a>(&amp;b, 1);</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div><div class="ttc" id="class_fat_file_html_aa4a5b81161994cea07938702cdfce49f"><div class="ttname"><a href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">FatFile::write</a></div><div class="ttdeci">int write(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00892">FatFile.h:892</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0ab9df44a9ee4b6eb0a78f15f1e30004"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FatFile::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbyte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write data to an open file.</p>
<dl class="section note"><dt>Note</dt><dd>Data is moved to the cache but may not be written to the storage device until <a class="el" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync()</a> is called.</dd></dl>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Pointer to the location of the data to be written.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nbyte</td><td>Number of bytes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>For success <a class="el" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write()</a> returns the number of bytes written, always <em>nbyte</em>. If an error occurs, <a class="el" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write()</a> returns -1. Possible errors include <a class="el" href="class_fat_file.html#aa4a5b81161994cea07938702cdfce49f">write()</a> is called before a file has been opened, write is called for a read-only file, device is full, a corrupt file system or an I/O error. </dd></dl>

<p>Définition à la ligne <a class="el" href="_fat_file_8cpp_source.html#l01350">1350</a> du fichier <a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                                                {</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="comment">// convert void* to uint8_t*  -  must be before goto statements</span></div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keyword">const</span> uint8_t* src = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(buf);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <a class="code" href="unioncache__t.html">cache_t</a>* pc;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  uint8_t cacheOption;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="comment">// number of bytes left to write  -  must be before goto statements</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  <span class="keywordtype">size_t</span> nToWrite = nbyte;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordtype">size_t</span> n;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  <span class="comment">// error if not a normal file or is read-only</span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">isFile</a>() || !(<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a>)) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  }</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="comment">// seek to end of file if append flag</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="_fat_api_constants_8h.html#a4242b37e810af3a6485adda0e08a9a2b">O_APPEND</a>)) {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">seekSet</a>(<a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>)) {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    }</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  }</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="comment">// Don&#39;t exceed max fileSize.</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">if</span> (nbyte &gt; (0XFFFFFFFF - <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>)) {</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    DBG_FAIL_MACRO;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  }</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">while</span> (nToWrite) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    uint8_t blockOfCluster = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#abff719641f4dfcb202e1b72ab919d792">blockOfCluster</a>(<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    uint16_t blockOffset = <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> &amp; 0X1FF;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (blockOfCluster == 0 &amp;&amp; blockOffset == 0) {</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      <span class="comment">// start of new cluster</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> != 0) {</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        int8_t fg = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">fatGet</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>, &amp;<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>);</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">if</span> (fg &lt; 0) {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;          DBG_FAIL_MACRO;</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;          <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        }</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">if</span> (fg == 0) {</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;          <span class="comment">// add cluster if at end of chain</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf966473411ee32621742f1820abce1">addCluster</a>()) {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;            DBG_FAIL_MACRO;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;          }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        }</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> == 0) {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;          <span class="comment">// allocate first cluster of file</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#afcf966473411ee32621742f1820abce1">addCluster</a>()) {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            DBG_FAIL_MACRO;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;          }</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;          <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a> = <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;          <a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a> = <a class="code" href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">m_firstCluster</a>;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        }</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      }</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="comment">// block for data write</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    uint32_t block = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">clusterStartBlock</a>(<a class="code" href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">m_curCluster</a>) + blockOfCluster;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    <span class="keywordflow">if</span> (blockOffset != 0 || nToWrite &lt; 512) {</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="comment">// partial block - must use cache</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <span class="comment">// max space in block</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      n = 512 - blockOffset;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="comment">// lesser of space and amount to write</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordflow">if</span> (n &gt; nToWrite) {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        n = nToWrite;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <span class="keywordflow">if</span> (blockOffset == 0 &amp;&amp; <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> &gt;= <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>) {</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="comment">// start of new block don&#39;t need to read into cache</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        cacheOption = <a class="code" href="class_fat_cache.html#a7307dd12178856bc3e823d8738856662">FatCache::CACHE_RESERVE_FOR_WRITE</a>;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">// rewrite part of block</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        cacheOption = <a class="code" href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a>;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      }</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;      pc = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">cacheFetchData</a>(block, cacheOption);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <span class="keywordflow">if</span> (!pc) {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      uint8_t* dst = pc-&gt;<a class="code" href="unioncache__t.html#ae675b7a3a87d809070de111d1d1f1d81">data</a> + blockOffset;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      memcpy(dst, src, n);</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <span class="keywordflow">if</span> (512 == (n + blockOffset)) {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <span class="comment">// Force write if block is full - improves large writes.</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a86f06b9e051dd82de6a5e4ba80e00453">cacheSyncData</a>()) {</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;          DBG_FAIL_MACRO;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;          <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        }</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      }</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="preprocessor">#if USE_MULTI_BLOCK_IO</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nToWrite &gt;= 1024) {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="comment">// use multiple block write command</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      uint8_t maxBlocks = <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">blocksPerCluster</a>() - blockOfCluster;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      uint8_t nBlock = nToWrite &gt;&gt; 9;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordflow">if</span> (nBlock &gt; maxBlocks) {</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        nBlock = maxBlocks;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;      }</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      n = 512*nBlock;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">cacheBlockNumber</a>() &lt;= block</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;          &amp;&amp; block &lt; (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">cacheBlockNumber</a>() + nBlock)) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// invalidate cache if block is in cache</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afcd7a0d3dc77f943d29f73dd62ea45f7">cacheInvalidate</a>();</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a7daa26a632c76e2a7708b97a58377119">writeBlocks</a>(block, src, nBlock)) {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="preprocessor">#endif  // USE_MULTI_BLOCK_IO</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="comment">// use single block write command</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      n = 512;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">cacheBlockNumber</a>() == block) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#afcd7a0d3dc77f943d29f73dd62ea45f7">cacheInvalidate</a>();</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">m_vol</a>-&gt;<a class="code" href="class_fat_volume.html#a8059704208cdd45226256947ba0cdadf">writeBlock</a>(block, src)) {</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        DBG_FAIL_MACRO;</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> += n;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    src += n;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    nToWrite -= n;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  }</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a> &gt; <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a>) {</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <span class="comment">// update fileSize and insure sync will update dir entry</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">m_fileSize</a> = <a class="code" href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">m_curPosition</a>;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">m_dateTime</a>) {</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// insure sync will update modified date and time</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> |= <a class="code" href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">F_FILE_DIR_DIRTY</a>;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  }</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">m_flags</a> &amp; <a class="code" href="_fat_api_constants_8h.html#a3066c471d52b056dec13fa567f7bbd9d">O_SYNC</a>) {</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">sync</a>()) {</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      DBG_FAIL_MACRO;</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    }</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  }</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">return</span> nbyte;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;fail:</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="comment">// return for write error</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="class_fat_file.html#a881be485c12b054fd939e001ad762784">m_error</a> |= <a class="code" href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">WRITE_ERROR</a>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;}</div><div class="ttc" id="class_fat_file_html_a3f3a378762cc94773507b1f32e362c5d"><div class="ttname"><a href="class_fat_file.html#a3f3a378762cc94773507b1f32e362c5d">FatFile::m_firstCluster</a></div><div class="ttdeci">uint32_t m_firstCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00988">FatFile.h:988</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf966473411ee32621742f1820abce1"><div class="ttname"><a href="class_fat_file.html#afcf966473411ee32621742f1820abce1">FatFile::addCluster</a></div><div class="ttdeci">bool addCluster()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l00029">FatFile.cpp:29</a></div></div>
<div class="ttc" id="class_fat_file_html_a9a2f8997fe5ac948bb2777a61c0425b3"><div class="ttname"><a href="class_fat_file.html#a9a2f8997fe5ac948bb2777a61c0425b3">FatFile::m_curCluster</a></div><div class="ttdeci">uint32_t m_curCluster</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00984">FatFile.h:984</a></div></div>
<div class="ttc" id="class_fat_file_html_ad24d1529e3530de53d01d52a412e747b"><div class="ttname"><a href="class_fat_file.html#ad24d1529e3530de53d01d52a412e747b">FatFile::m_vol</a></div><div class="ttdeci">FatVolume * m_vol</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00982">FatFile.h:982</a></div></div>
<div class="ttc" id="class_fat_file_html_ab067190d25733ed7e697d9890f61fd7a"><div class="ttname"><a href="class_fat_file.html#ab067190d25733ed7e697d9890f61fd7a">FatFile::seekSet</a></div><div class="ttdeci">bool seekSet(uint32_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01101">FatFile.cpp:1101</a></div></div>
<div class="ttc" id="class_fat_file_html_a1849e40daeb9f7441deda7a7b05258a1"><div class="ttname"><a href="class_fat_file.html#a1849e40daeb9f7441deda7a7b05258a1">FatFile::m_flags</a></div><div class="ttdeci">uint8_t m_flags</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00979">FatFile.h:979</a></div></div>
<div class="ttc" id="class_fat_file_html_a76c0cea669176f73d5fb380ad9443362"><div class="ttname"><a href="class_fat_file.html#a76c0cea669176f73d5fb380ad9443362">FatFile::m_dateTime</a></div><div class="ttdeci">static void(* m_dateTime)(uint16_t *date, uint16_t *time)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00973">FatFile.h:973</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a4242b37e810af3a6485adda0e08a9a2b"><div class="ttname"><a href="_fat_api_constants_8h.html#a4242b37e810af3a6485adda0e08a9a2b">O_APPEND</a></div><div class="ttdeci">uint8_t const O_APPEND</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00037">FatApiConstants.h:37</a></div></div>
<div class="ttc" id="unioncache__t_html"><div class="ttname"><a href="unioncache__t.html">cache_t</a></div><div class="ttdoc">Cache for an raw data block. </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00071">FatVolume.h:71</a></div></div>
<div class="ttc" id="class_fat_volume_html_a86f06b9e051dd82de6a5e4ba80e00453"><div class="ttname"><a href="class_fat_volume.html#a86f06b9e051dd82de6a5e4ba80e00453">FatVolume::cacheSyncData</a></div><div class="ttdeci">bool cacheSyncData()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00301">FatVolume.h:301</a></div></div>
<div class="ttc" id="class_fat_file_html_a881be485c12b054fd939e001ad762784"><div class="ttname"><a href="class_fat_file.html#a881be485c12b054fd939e001ad762784">FatFile::m_error</a></div><div class="ttdeci">uint8_t m_error</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00978">FatFile.h:978</a></div></div>
<div class="ttc" id="class_fat_file_html_a5281ec4b3a498b15d89f47c41becbe6d"><div class="ttname"><a href="class_fat_file.html#a5281ec4b3a498b15d89f47c41becbe6d">FatFile::m_fileSize</a></div><div class="ttdeci">uint32_t m_fileSize</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00987">FatFile.h:987</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a3066c471d52b056dec13fa567f7bbd9d"><div class="ttname"><a href="_fat_api_constants_8h.html#a3066c471d52b056dec13fa567f7bbd9d">O_SYNC</a></div><div class="ttdeci">uint8_t const O_SYNC</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00039">FatApiConstants.h:39</a></div></div>
<div class="ttc" id="class_fat_volume_html_a7daa26a632c76e2a7708b97a58377119"><div class="ttname"><a href="class_fat_volume.html#a7daa26a632c76e2a7708b97a58377119">FatVolume::writeBlocks</a></div><div class="ttdeci">virtual bool writeBlocks(uint32_t block, const uint8_t *src, size_t nb)=0</div></div>
<div class="ttc" id="class_fat_cache_html_aeb3fa32ee4120404854c282f0c0e133a"><div class="ttname"><a href="class_fat_cache.html#aeb3fa32ee4120404854c282f0c0e133a">FatCache::CACHE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00108">FatVolume.h:108</a></div></div>
<div class="ttc" id="class_fat_volume_html_a26a3a52fb67a49d63f8d596fb26a5aa3"><div class="ttname"><a href="class_fat_volume.html#a26a3a52fb67a49d63f8d596fb26a5aa3">FatVolume::cacheBlockNumber</a></div><div class="ttdeci">uint32_t cacheBlockNumber()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00307">FatVolume.h:307</a></div></div>
<div class="ttc" id="class_fat_volume_html_a06beed4cea5e38116b58254a57125442"><div class="ttname"><a href="class_fat_volume.html#a06beed4cea5e38116b58254a57125442">FatVolume::blocksPerCluster</a></div><div class="ttdeci">uint8_t blocksPerCluster() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00164">FatVolume.h:164</a></div></div>
<div class="ttc" id="class_fat_volume_html_afcd7a0d3dc77f943d29f73dd62ea45f7"><div class="ttname"><a href="class_fat_volume.html#afcd7a0d3dc77f943d29f73dd62ea45f7">FatVolume::cacheInvalidate</a></div><div class="ttdeci">void cacheInvalidate()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00298">FatVolume.h:298</a></div></div>
<div class="ttc" id="class_fat_volume_html_abff719641f4dfcb202e1b72ab919d792"><div class="ttname"><a href="class_fat_volume.html#abff719641f4dfcb202e1b72ab919d792">FatVolume::blockOfCluster</a></div><div class="ttdeci">uint8_t blockOfCluster(uint32_t position) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00316">FatVolume.h:316</a></div></div>
<div class="ttc" id="class_fat_volume_html_a03cbd92a44a4cb6d790a2385077afe00"><div class="ttname"><a href="class_fat_volume.html#a03cbd92a44a4cb6d790a2385077afe00">FatVolume::clusterStartBlock</a></div><div class="ttdeci">uint32_t clusterStartBlock(uint32_t cluster) const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00182">FatVolume.cpp:182</a></div></div>
<div class="ttc" id="class_fat_volume_html_acd39c4c661e221e573a8dc7e392146fd"><div class="ttname"><a href="class_fat_volume.html#acd39c4c661e221e573a8dc7e392146fd">FatVolume::fatGet</a></div><div class="ttdeci">int8_t fatGet(uint32_t cluster, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8cpp_source.html#l00187">FatVolume.cpp:187</a></div></div>
<div class="ttc" id="unioncache__t_html_ae675b7a3a87d809070de111d1d1f1d81"><div class="ttname"><a href="unioncache__t.html#ae675b7a3a87d809070de111d1d1f1d81">cache_t::data</a></div><div class="ttdeci">uint8_t data[512]</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00073">FatVolume.h:73</a></div></div>
<div class="ttc" id="class_fat_file_html_a6e494d044c64dee482b0c25ded6595c1"><div class="ttname"><a href="class_fat_file.html#a6e494d044c64dee482b0c25ded6595c1">FatFile::WRITE_ERROR</a></div><div class="ttdeci">static const uint8_t WRITE_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00975">FatFile.h:975</a></div></div>
<div class="ttc" id="class_fat_file_html_a67f3dc4896c542d695e11aac927f585e"><div class="ttname"><a href="class_fat_file.html#a67f3dc4896c542d695e11aac927f585e">FatFile::sync</a></div><div class="ttdeci">bool sync()</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8cpp_source.html#l01159">FatFile.cpp:1159</a></div></div>
<div class="ttc" id="class_fat_volume_html_afb1a2ed0cf4058547c8afa850c391f64"><div class="ttname"><a href="class_fat_volume.html#afb1a2ed0cf4058547c8afa850c391f64">FatVolume::cacheFetchData</a></div><div class="ttdeci">cache_t * cacheFetchData(uint32_t blockNumber, uint8_t options)</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00295">FatVolume.h:295</a></div></div>
<div class="ttc" id="class_fat_cache_html_a7307dd12178856bc3e823d8738856662"><div class="ttname"><a href="class_fat_cache.html#a7307dd12178856bc3e823d8738856662">FatCache::CACHE_RESERVE_FOR_WRITE</a></div><div class="ttdeci">static uint8_t const CACHE_RESERVE_FOR_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_volume_8h_source.html#l00111">FatVolume.h:111</a></div></div>
<div class="ttc" id="class_fat_volume_html_a8059704208cdd45226256947ba0cdadf"><div class="ttname"><a href="class_fat_volume.html#a8059704208cdd45226256947ba0cdadf">FatVolume::writeBlock</a></div><div class="ttdeci">virtual bool writeBlock(uint32_t block, const uint8_t *src)=0</div></div>
<div class="ttc" id="class_fat_file_html_a87df00f4c68e43e58c47eb2ce19002e2"><div class="ttname"><a href="class_fat_file.html#a87df00f4c68e43e58c47eb2ce19002e2">FatFile::m_curPosition</a></div><div class="ttdeci">uint32_t m_curPosition</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00985">FatFile.h:985</a></div></div>
<div class="ttc" id="class_fat_file_html_a41d74298637a86bf593b9b7fa449d84b"><div class="ttname"><a href="class_fat_file.html#a41d74298637a86bf593b9b7fa449d84b">FatFile::F_FILE_DIR_DIRTY</a></div><div class="ttdeci">static uint8_t const F_FILE_DIR_DIRTY</div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00968">FatFile.h:968</a></div></div>
<div class="ttc" id="class_fat_file_html_afcf6270ea8d4a3a5f8e89523bc684e22"><div class="ttname"><a href="class_fat_file.html#afcf6270ea8d4a3a5f8e89523bc684e22">FatFile::isFile</a></div><div class="ttdeci">bool isFile() const </div><div class="ttdef"><b>Definition:</b> <a href="_fat_file_8h_source.html#l00383">FatFile.h:383</a></div></div>
<div class="ttc" id="_fat_api_constants_8h_html_a44c1620ada13f6318ab39b9fa38ef55a"><div class="ttname"><a href="_fat_api_constants_8h.html#a44c1620ada13f6318ab39b9fa38ef55a">O_WRITE</a></div><div class="ttdeci">uint8_t const O_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="_fat_api_constants_8h_source.html#l00029">FatApiConstants.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentation des données membres</h2>
<a class="anchor" id="a41d74298637a86bf593b9b7fa449d84b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t const FatFile::F_FILE_DIR_DIRTY = 0X80</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00968">968</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00029">addCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="aa98849022730854eb6c58fb8b68916a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t const FatFile::F_OFLAG = (<a class="el" href="_fat_api_constants_8h.html#a4efda39151f5ef2dc7fbd138be51336a">O_ACCMODE</a> | <a class="el" href="_fat_api_constants_8h.html#a4242b37e810af3a6485adda0e08a9a2b">O_APPEND</a> | <a class="el" href="_fat_api_constants_8h.html#a3066c471d52b056dec13fa567f7bbd9d">O_SYNC</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00966">966</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="ae16fd44b1c014975f0a91422dc78b037"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_CLOSED = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This file has not been opened. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00921">921</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00090">close()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>.</p>

</div>
</div>
<a class="anchor" id="ac920086c2bb457d730b200e4c41257f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_COPY</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Valeur initiale :</b><div class="fragment"><div class="line">= <a class="code" href="_fat_structs_8h.html#abff82a1fd65417a032777e0821821640">DIR_ATT_READ_ONLY</a> | <a class="code" href="_fat_structs_8h.html#a3a41f54f933a4d34b1502321ab9da5ff">DIR_ATT_HIDDEN</a> |</div><div class="line">                                        <a class="code" href="_fat_structs_8h.html#ae89bc34164e7318b3d3169ff290c8d70">DIR_ATT_SYSTEM</a> | <a class="code" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a></div></div><!-- fragment --><p>Attributes to copy from directory entry </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00941">941</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ea3743e913b35de19b14e490b044707"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_DIR = <a class="el" href="class_fat_file.html#abfe242bc0d32d9fd6cf0359e8b1ac7d7">FILE_ATTR_SUBDIR</a> | <a class="el" href="class_fat_file.html#a8e31200f87b9bf094779d2024d91eb81">FILE_ATTR_ROOT</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Directory type bits </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00939">939</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6fc6734b7277948e48f048d21df45cf1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_FILE = 0X08</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Entry for normal data file </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00929">929</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e23c1309f38788a55dcd1f7bcc9f73a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_HIDDEN = <a class="el" href="_fat_structs_8h.html#a3a41f54f933a4d34b1502321ab9da5ff">DIR_ATT_HIDDEN</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> should be hidden in directory listings. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00925">925</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="acd88a486baf4ea3b00022a46332eddb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_READ_ONLY = <a class="el" href="_fat_structs_8h.html#abff82a1fd65417a032777e0821821640">DIR_ATT_READ_ONLY</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_file.html" title="Arduino SD.h style File API. ">File</a> is read-only. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00923">923</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8e31200f87b9bf094779d2024d91eb81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_ROOT = <a class="el" href="class_fat_file.html#a42aa9a9acb2365652bcb0f266e26e200">FILE_ATTR_ROOT_FIXED</a> | <a class="el" href="class_fat_file.html#abc90097077f2147a474123b0942fde70">FILE_ATTR_ROOT32</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Entry is for root. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00937">937</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="abc90097077f2147a474123b0942fde70"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_ROOT32 = 0X40</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A FAT32 root directory </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00935">935</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00653">openRoot()</a>.</p>

</div>
</div>
<a class="anchor" id="a42aa9a9acb2365652bcb0f266e26e200"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_ROOT_FIXED = 0X20</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A FAT12 or FAT16 root directory </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00933">933</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00653">openRoot()</a>.</p>

</div>
</div>
<a class="anchor" id="abfe242bc0d32d9fd6cf0359e8b1ac7d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_SUBDIR = <a class="el" href="_fat_structs_8h.html#a3f9e7ceac3e0a9aebead998e88349139">DIR_ATT_DIRECTORY</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Entry is for a subdirectory </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00931">931</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>.</p>

</div>
</div>
<a class="anchor" id="a858c0d7e0c1be7ad8e47ab8bc4cd0665"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::FILE_ATTR_SYSTEM = <a class="el" href="_fat_structs_8h.html#ae89bc34164e7318b3d3169ff290c8d70">DIR_ATT_SYSTEM</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Entry is for a system file. </p>

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00927">927</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="adaf280dca7fee4b0909d922bbce6ae5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::m_attr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00977">977</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00090">close()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00653">openRoot()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a2f8997fe5ac948bb2777a61c0425b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::m_curCluster</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00984">984</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00029">addCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00036">addDirCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00251">getpos()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01154">setpos()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a87df00f4c68e43e58c47eb2ce19002e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::m_curPosition</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00985">985</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00036">addDirCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00251">getpos()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00288">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00809">readDir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00838">readDirCache()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01154">setpos()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a0388ab43da6abd32ae4f3a2a4d4c3c6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_fat_file.html">FatFile</a> * FatFile::m_cwd = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00971">971</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="a76c0cea669176f73d5fb380ad9443362"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void(* FatFile::m_dateTime)(uint16_t *date, uint16_t *time)=0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00973">973</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00288">open()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a312328f1e75c5d1406cf07876b5a930f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::m_dirBlock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00986">986</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00077">cacheDirEntry()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3fa11b216d6c34d1efe5b19eda102ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::m_dirCluster</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00983">983</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>.</p>

</div>
</div>
<a class="anchor" id="acef80642dcb06aab0df17512f3cf0e80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t FatFile::m_dirIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00981">981</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00077">cacheDirEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>.</p>

</div>
</div>
<a class="anchor" id="a881be485c12b054fd939e001ad762784"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::m_error</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00978">978</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a5281ec4b3a498b15d89f47c41becbe6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::m_fileSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00987">987</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f3a378762cc94773507b1f32e362c5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t FatFile::m_firstCluster</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00988">988</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00096">contiguousRange()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00203">dirSize()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a1849e40daeb9f7441deda7a7b05258a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::m_flags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00979">979</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00029">addCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00298">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00653">openRoot()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00984">rmdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01026">rmRfStar()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f4cf71ff0efdb6eef8be307df0c9fa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t FatFile::m_lfnOrd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00980">980</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00117">getName()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00498">printName()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>.</p>

</div>
</div>
<a class="anchor" id="ad24d1529e3530de53d01d52a412e747b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_fat_volume.html">FatVolume</a>* FatFile::m_vol</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00982">982</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00029">addCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00036">addDirCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00077">cacheDirEntry()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00096">contiguousRange()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00127">createContiguous()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00203">dirSize()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00256">mkdir()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00372">open()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00483">openCachedEntry()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00165">openCluster()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00602">openParent()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00653">openRoot()</a>, <a class="el" href="_fat_file_s_f_n_8cpp_source.html#l00048">printSFN()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00838">readDirCache()</a>, <a class="el" href="_fat_file_l_f_n_8cpp_source.html#l00549">remove()</a>, <a class="el" href="_fat_file_8cpp_source.html#l00877">rename()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01101">seekSet()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01198">timestamp()</a>, <a class="el" href="_fat_file_8cpp_source.html#l01282">truncate()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a864c4ee4f60ef74685f19538a1293c07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::READ_ERROR = 0X2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00976">976</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l00696">read()</a>.</p>

</div>
</div>
<a class="anchor" id="a6e494d044c64dee482b0c25ded6595c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FatFile::WRITE_ERROR = 0X1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Définition à la ligne <a class="el" href="_fat_file_8h_source.html#l00975">975</a> du fichier <a class="el" href="_fat_file_8h_source.html">FatFile.h</a>.</p>

<p>Référencé par <a class="el" href="_fat_file_8cpp_source.html#l01159">sync()</a>, et <a class="el" href="_fat_file_8cpp_source.html#l01350">write()</a>.</p>

</div>
</div>
<hr/>La documentation de cette classe a été générée à partir des fichiers suivants :<ul>
<li>/Volumes/myDoc/Arduino/libraries/SdFat/utility/<a class="el" href="_fat_file_8h_source.html">FatFile.h</a></li>
<li>/Volumes/myDoc/Arduino/libraries/SdFat/utility/<a class="el" href="_fat_file_8cpp_source.html">FatFile.cpp</a></li>
<li>/Volumes/myDoc/Arduino/libraries/SdFat/utility/<a class="el" href="_fat_file_l_f_n_8cpp_source.html">FatFileLFN.cpp</a></li>
<li>/Volumes/myDoc/Arduino/libraries/SdFat/utility/<a class="el" href="_fat_file_print_8cpp_source.html">FatFilePrint.cpp</a></li>
<li>/Volumes/myDoc/Arduino/libraries/SdFat/utility/<a class="el" href="_fat_file_s_f_n_8cpp_source.html">FatFileSFN.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
